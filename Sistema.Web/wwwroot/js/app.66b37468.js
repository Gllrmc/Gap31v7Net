(function(t){function e(e){for(var i,r,n=e[0],c=e[1],d=e[2],l=0,v=[];l<n.length;l++)r=n[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&v.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},o={app:0},s=[];function r(t){return n.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"4683fc09"}[t]+".js"}function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,i){a=o[t]=[e,i]}));e.push(a[2]=i);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.src=r(t);var d=new Error;s=function(e){c.onerror=c.onload=null,clearTimeout(l);var a=o[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",d.name="ChunkLoadError",d.type=i,d.request=s,a[1](d)}o[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(e)},n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=d;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},4678:function(t,e,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=s(t);return a(e)}function s(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=s,t.exports=o,o.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),o=a("bb716");a("da64");i["a"].use(o["a"],{theme:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},options:{customProperties:!0},iconfont:"md"});var s=a("768b"),r=(a("ffc1"),a("ac6a"),a("d225")),n=a("b0b4"),c=function(){function t(e,a,i,o){Object(r["a"])(this,t),this.items=e,this.filter=i,this.headers=o,this.filters=a,this.filterCallbacks={}}return Object(n["a"])(t,[{key:"registerFilter",value:function(t,e){this.filterCallbacks[t]=e}},{key:"runFilters",value:function(){var t=this,e=t.items;return Object.entries(this.filterCallbacks).forEach((function(a){var i=Object(s["a"])(a,2),o=i[0],r=i[1];e=r.call(t,t.filters[o],e)})),e}}],[{key:"updateFilters",value:function(t,e){return Object.assign({},t,e)}}]),t}(),d={install:function(t,e){t.prototype.$MultiFilters=c}},l=d,u=a("c1df"),v=a.n(u),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[t.logueado?a("v-navigation-drawer",{attrs:{fixed:"",clipped:t.$vuetify.breakpoint.mdAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer||t.esAsistGeneral?[a("v-list-tile",{attrs:{to:{name:"home"}}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),a("v-list-tile-title",[t._v("\n            Inicio\n          ")])],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esExecutiveProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"title"},[a("v-icon",[t._v("label_important")]),t._v("\n                Limbo\n              ")],1)],1)],1),a("v-list-tile",{attrs:{to:{name:"limbos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Prospectos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"overs"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Overs\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"factus"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Facturaciones\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"dirfees"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Director's fees\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"regpitchs"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Pitches\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"hlimbos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Histórico\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"alimbos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Aprobar/Cerrar Prospectos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"actproy"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Activar Proyecto\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"traficos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Trafico\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esChiefProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"title"},[a("v-icon",[t._v("label_important")]),t._v("\n                Proyectos\n              ")],1)],1)],1),a("v-list-tile",{attrs:{to:{name:"proyectos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proyectos en Cartera\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"presupuestos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Presupuestos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"flujocajas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Flujos de Caja\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"cierreprod"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Cierre EP\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"cierreadmin"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Cierre ADM\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"proyectoscerrados"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proyectos Cerrados\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer||t.esAsistGeneral?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Gestionar Fondos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"pedidofondos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Pedidos de Fondos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"distribucionfondos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Distribucion de Fondos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"rendicionfondos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Rendicion de Fondos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"devolucionfondos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Devolucion de Fondos\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Gestionar Pagos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"ordenpagos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Ordenes de Pago\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"registropagos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Registro de Pago\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"admregistropagos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Revision de Pagos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"reversionpagos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Reversion Registro Pagos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"proveedores"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proveedores\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"personas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Personas\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer||t.esAsistGeneral?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Gestionar Garantias\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"solcheque"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Cheques / Solicitud\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"entcheque"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Entrega de Cheque\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"reccheque"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Recupero de Cheque\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Gestionar DxD Shooting\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"recursosdxd"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proyecto/Crew/Bolo\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"realdxd"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Actividades Crew\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"tarifadxd"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proyecto/Item-Cargo SICA \n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"sica"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Minimos SICA\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"crews"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Crew\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"personas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Personas\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Gestionar DxD Post\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"proveedorpost"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proveedor/Tarifas Post\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"realpost"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Actividades Post\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"proveedores"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proveedores\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"personas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Personas\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Gestionar DxD Stop Motion\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"proveedormotion"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proveedor/Tarifas Stop Motion\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"realmotion"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Actividades Stop Motion\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"proveedores"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proveedores\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"personas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Personas\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Gestionar Gastos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"registrogastos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Registro de Gastos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"calendario"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Calendario de Gastos\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Exportar Datos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"controlpptodate"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Control Presupuestario\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"controlrendicion"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Control Pedido/Rendicion\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"controlpagos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Control Pagos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"controlgarantias"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Control Garantias\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"controlshooting"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Control DxD Shooting\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"controlpost"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Control DxD Post\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"controlmotion"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Control DxD Stop Motion\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Jerarquia Presupuestaria\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"rubros"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Rubros\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"subrubros"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Sub-Rubros\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"items"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Items\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"subitems"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Sub-Items\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Datos Maestros\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"agencias"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Agencias\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"clientes"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Clientes\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"crews"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Crew\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"personas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Personas\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"productoras"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Productoras\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"proveedores"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proveedores\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esExecutiveProducer||t.esLineProducer||t.esAsistProduccion||t.esChiefProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Tablas de Configuración\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"bancos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Bancos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"conceptos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Conceptos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"empresas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Empresas\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"estados"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Estados\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"forpagos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Formas de Pago\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"origenes"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Origenes\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"paises"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Paises\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"parametros"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Parametros\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"pitchs"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                tipos de Pitch\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"posiciones"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Posiciones\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"provincias"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Provincias\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"resultados"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Resultados\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"territorios"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Territorios\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"tipoprods"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Tipo de Produccion\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"tipoproys"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Tipo de Proyecto\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esExecutiveProducer?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Accesos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"roles"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Roles\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"usuarios"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Usuarios\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"usuarioproyectos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Asignar Proyectos a Usuarios\n              ")])],1)],1)],1)]:t._e()],2)],1):t._e(),a("v-toolbar",{attrs:{color:"primary",dark:"",app:"","clipped-left":t.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"500px"}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("GAP - Gestión Administrativa de Proyectos")])],1),a("v-spacer"),t.logueado?a("v-btn",{on:{click:t.salir}},[a("v-icon",[t._v("logout")]),t._v(" Salir\n    ")],1):a("v-btn",{attrs:{to:{name:"login"}}},[a("v-icon",[t._v("apps")]),t._v(" Login\n    ")],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",{attrs:{dark:"",height:"auto"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-card",{staticClass:"white--text",attrs:{flat:"",tile:"",color:"primary"}},[a("v-card-text",{staticClass:"white--text pt-0"},[t._v("\n            Akiel ©2019 - Version 7.R31.8.8\n          ")])],1)],1)],1)],1)],1)},m=[],h={name:"App",data:function(){return{clipped:!1,drawer:!0,fixed:!1,items:[{icon:"bubble_chart",title:"Inspire"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Vuetify.js"}},computed:{logueado:function(){return this.$store.state.usuario},esAdministrador:function(){return this.$store.state.usuario&&"Administrador"==this.$store.state.usuario.rol},esJefeAdministracion:function(){return this.$store.state.usuario&&"JefeAdministracion"==this.$store.state.usuario.rol},esAsistAdministracion:function(){return this.$store.state.usuario&&"AsistAdministracion"==this.$store.state.usuario.rol},esAsistProduccion:function(){return this.$store.state.usuario&&"AsistProduccion"==this.$store.state.usuario.rol},esExecutiveProducer:function(){return this.$store.state.usuario&&"ExecutiveProducer"==this.$store.state.usuario.rol},esLineProducer:function(){return this.$store.state.usuario&&"LineProducer"==this.$store.state.usuario.rol},esChiefProducer:function(){return this.$store.state.usuario&&"ChiefProducer"==this.$store.state.usuario.rol},esAsistGeneral:function(){return this.$store.state.usuario&&"AsistGeneral"==this.$store.state.usuario.rol}},created:function(){this.$store.dispatch("autoLogin")},methods:{salir:function(){this.$store.dispatch("salir")}}},f=h,b=a("2877"),x=a("6544"),g=a.n(x),_=a("7496"),k=a("8336"),C=a("b0af"),y=a("99d9"),A=a("a523"),D=a("549c"),j=a("0e8f"),S=a("553a"),I=a("132d"),M=a("a722"),w=a("8860"),P=a("56b0"),V=a("ba95"),F=a("40fe"),T=a("5d23"),O=a("f774"),N=a("0789"),z=a("9910"),B=a("71d9"),$=a("706c"),E=a("2a7f"),R=Object(b["a"])(f,p,m,!1,null,null,null),L=R.exports;g()(R,{VApp:_["a"],VBtn:k["a"],VCard:C["a"],VCardText:y["b"],VContainer:A["a"],VContent:D["a"],VFlex:j["a"],VFooter:S["a"],VIcon:I["a"],VLayout:M["a"],VList:w["a"],VListGroup:P["a"],VListTile:V["a"],VListTileAction:F["a"],VListTileContent:T["a"],VListTileTitle:T["b"],VNavigationDrawer:O["a"],VSlideYTransition:N["e"],VSpacer:z["a"],VToolbar:B["a"],VToolbarSideIcon:$["a"],VToolbarTitle:E["a"]});var U=a("8c4f"),q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("HelloWorld")},K=[],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{fluid:"","align-center":"","justify-center":""}},[a("v-card",{attrs:{tile:"",width:"400",elevation:"6"}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-img",{attrs:{width:"200",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdkAAAD9CAYAAADwDQ2WAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAACYqSURBVHhe7d1tsBxVncfxzq74RCKJlkIqiSQqsCZaJHEtcssyCVoaFgsDAkHeGFLwSl+QuC98g5Wk9A21pYQX+goqiW80IiZo+RAtDcGyCGVJQmFwATUR0ICsJpqIi7hm769vn9wz554+fbqne6an5/upunVn5s5DT/fc+fX/nNOnZ52dlAAAgNr9S/YbAADULK1kt23bmjzxxNHsJmCmrVu3J8uWLcuuAQBipCG7YcMNyaFDh7KbgJn27LkvmZiYyK4BAGLQXAwAQEMIWQAAGkLIAgDQEEIWAICGELIAADSEkAUAoCGELAAADSFkAQBoCCELAEBDCFkAABpCyAIA0BBCFgCAhhCyAAA0hJAFAKAhhCwAAA0hZAEAaAghCwBAQwhZAAAaQsgCANAQQhYAgIYQsgAANISQBQCgIYQsAAANIWQBAGgIIQsAQEMIWQAAGkLIAgDQEEIWAICGELIAADSEkEVrHT16NP0BgFFFyKKVFK4bNtyQ/hC0AEYVIYvWMQF7+vTp9IegBTCqCFm0ih2wBkELYFQRsmgNX8AaBC2AUUTIohVCAWsQtABGDSGLoYsJWIOgBTBKCFkMVZmANQhaAKOCkMXQVAlYg6AFMAoIWQxFPwFrELQA2o6QxcDVEbAGQQugzQhZDFSdAWsQtADaipDFwDQRsAZBC6CNCFkMRJMBaxC0ANqGkEXjBhGwBkELoE0IWTRqkAFrELQA2oKQRWOGEbAGQQugDQhZNGKYAWsQtACGjZBF7doQsAZBC2CYCFnUqk0BaxC0AIaFkEVt2hiwBkELYBgIWdSizQFrELQABo2QRd9GIWANghbAIBGy6MsoBaxB0AIYFEIWlY1iwBoELYBBIGRRySgHrEHQAmgaIYvSuhCwBkELoEmELErpUsAaBC2AphCyiNbFgDUIWgBNIGQR5YknuhuwBkELoG6ELKJs376t0wFrELQA6kTIAg6CFkBdCFnAg6AFUAdCFshB0ALoFyELBBC0APpByAIFCFoAVRGyQASCFkAVhCwQiaAFUBYhC5RA0AIog5AFSiJoAcQiZIEKCFoAMQhZoCIF7XPPPZtdA4CZCFmgoi984YvJunVXZdcAYCZCFqhAAXvjjRuyawDgR8gCJRGwAGIRskAJBCyAMghZIBIBC6AsQhaIQMACqIKQBQoQsACqImSBAAIWQD8IWSAHAQugX4Qs4EHAAqgDIQs4CFgAdSFkAQsBC6BOhCyQIWAB1I2QBSYRsACaQMhi7BGwAJpCyGKsEbAAmkTIYmwRsACaRshiLBGwQLM2/fSPyYpvn0hO/f2f2S3jiZDF2CFggWYpXHf96kxy5E9/T8N2nBGyGCsELNAsBat+jH3PvJQG7rgiZDE2CFigeapibTvf96bklnfMzq6NH0IWY4GABZqjfleF66zdv02vL3/jq5OTNy9Kzm68eKwDVghZdB4BCzRHTcNL7v9dTxPx4WvmJ3NfTbwIawGdRsACzVFfqzuCWM3DmEbIorMIWKA5GjXsjhxW9TruzcMuQhadRMAC1R0/84/kwef/N/3RZZcqV3fEsPphj12/ILsGg5BF5xCwQDUKTvWv6ufK/S+kP+ayAldMH6xN1Sv9sH6sEXQKAQtUY5p/fZWrAlZBq7/7+mDph81HyKIzCFigGoVnzIQR9n1Utap6pQ82jJBFJxCwQHlq+tWxrTEB69JxsOqHRRghi5FHwALV+JqGUS9CFiONgAWqsyeQQDMIWYwsAhboD829zSNkMZIIWKB/i2e/KruEphCyGDkELFAPVbJVjm1de9Frs0soQshipBCwQH10vGuVkN16+QXZJRQhZDEyCFigXppYouwIYx0XSyUbj5DFSCBggXptO3LqXMCqmt175ZuTzUvf4K1s1XerWZ10flhmdypn1tlJGzbckBw6dCi7CWgXAhaoj5qINcPTvmdeSq+rX1YBawZB6e+aRtEc3qOqlcq1OkIWrUbAAvVRcCpgTYCq6feu986r1C+LOKxZtBYBC9RHlasm+bcnoFDTLwHbLNYuWomABeqj/tfrDrzYc/YcwnUwWMtoHQJ2vKj/T02YOkepJqvXz5afnWRe3RqY/tftj/05u2WK+mEPrLswu4Ym0SeLViFgx4c7AMdH/YUa8YpqdIiOOz/xtW99Pc3EA8RaRmsQsONDAav+wVDAiipaBTHKs0cIG5pEQiOJCdjBYU2jFQjY8WKPcC2ic50WhTF67XjiL+lOjKFQVfW6bfnc7BYMCs3FGDoCdvyo37UshYQOOYGfaR2wd150fCuV63Cx5jFUBCxiHXzh5ewSXApWDRxzWwc0uImAHS7WPoaGgEUZjDb2U3O6BjjZh+cI0x+2AyGLoSBggXq4A8NUuR6+Zj5N6y1ByGLgCFhUYY6n1W9M98HadPzrsesXpL/RDoQsBoqAhdusWYaaRhUs9hlkxpH6XtVEbO9wqHJVBUsfbLswuhgDQ8CON4WiBudUoQkpfMd9ikJFEyzc/s45na/gdNywDs+xaXATZ8lpL3Z5MBAE7HhT5WkHrIIxNhAVsJr5SVWamkLdGaBUGZvBP74BQF2h9+UGrNYhAdtuVLJoHAE7ntR/qvCzmZN/28Gg6nT3r/+a/taPAlhVqZo/i5o+FTp3//J0btOxXm/j289Pn8ucL3UUzfvqsz07D0w3OToIWTSKgB1PCj81bdoUmCdvXpRdq5fCWWGrmaHyKlkFuwncUaJWADPBv9ahJpegeh0dNBejMQTs+FHYaWCSG7AKBTX3NkXNpqqQ1ZycF0BmdHKZKR2HSTsLOj2dfQYd+l9HD5UsGkHAjhfTX+ieUk2Vl8JPA5MGSc3HprLNa0pWMJvKtqhZetC0zApYe2dA61BVLEYLIYvaEbDjRUHmO/+r+gx11pdhB5iWT32+oZMMKMAUuHXsDJw68/fkwUf/kBx5arqav+Ujb0sWzz8/uxamits9wbrWI5P7jyZCFrUiYMeHQlXh6gsvVYlNNg9XodDSQCy3Kdum5uaqA6QUrHfveTLZ99Bz2S291q58S7L11nenv/MMui8bzSNkUZstWz6d/mA8uCNeRYGgqqvNI1+LBkmZAVKqamOrcFWv8z50f3Yt7NrVC5Odn70imTt7+hAmLYfC1TcaW03EsYc7oX0IWdTiwx9el9xzz73ZNXSZmjMVCO7gIYWSDi0ZlUNlFGymKdmeOclQwOo9FU1yoYC98pM/To48nV8huxbPf32y987VyfJL5qXXdXyvuz4V9pymbvQRsujbggULk/37f5C84Q0ct9dVppnVrfxM1dqVIPAd22tz+26v+8xPcpuHYyx+6wXJ8auXZdemgl07KqN2mBHyEbLo2/e+tz9Ztmz6iwLdoX7XvEn5++m/bDPtSChozQQZPnrfa//5crLri49kt/Th3xelPwpYHaJD03C30A6BvqgPloDtLk2F6AaswkCH5XQxYEXvT9W5Bm7px3eIj3Y+dn3tv7NrfXr8RBqsnD2nmwhZVKZmYgY6dZevelXgKAzGpTlToacdCo3u7ZkE4vTLSfL73mOCK3v5H2mYu0GObmCrorJt27Zll9Alai7VcZr2uUoVNmrKVOCMaxjo/WsHQ/3Qi1/snagfyEPIopJVq1Yl69ZdlV1DV+g4TTURm2NfFagKFVVaTOc31RerSSHWnvd/2S1AGCGLSrZs+c/sErpAA3zMnMP2CGKFKzMNzXT8RP4IZMBGyKI0VbETExPZNYw6BauO03T7YFW1dXVwEzAoHMKD0pg6sTvULKz+V9cw5h3WtISa2MGe8zfPwcN/SH8f+NIH09+DduWnfpQub13OPnxzdmnwptb5qbQ6P37ir9mt+R57+lT6GM1YtffO92e3Ig8hi1LmzJmTHD36y+waRpHOT6ppBe1mYdP3OqzpEHd95zfJps+XP+Z0WOG0Y8+TyZYdj2bX+jfMkK26w7DzjivSEx8gjOZilEIFO9rU76rT0dkBq9mLNGp2mPMNr115YVqV3rV5ZbL11nf1zOvbRqFJ/keN1rnWvda7fmLfm7YZilHJohRmdxptqmLtc76qz1UB2zax8wEPswJc8Ynvl5qvOI92KE7+8PrsWjuo2XjJx76VXfMb5rofJVSyiKbJJwjY0aaRwmZWITUPtzFgRcGz9bZ3Zdf8zOT6w3L7TZdml/pT1/PUKfbctyhGyCIaI4q7QYflnN148cgfmqNmzmFSf6Qq0KpN23rcsW9+NNl227uzW9BFhCyiEbIYpKJRxm3oF1VQHvjyB9JT15Ux/bjRrBi71CfdNEIW0QhZDJI5TMenTV/yarY+/JX/yK4V00nbj+29ZujN3SHqEw9Zs4KQjcXAJ0Th0B0Mks7RqnO15jn8lataG1LmuNMHH52e+3nzxy+r3Kw8DDqcSodV+eh9tG2gVptRySIKA54wSAcLjttscxWoEFKlrb5W8zNKASsPPvp8dmkmmorLIWQRZelSQhaDU+dsSihHhyUdPzF1ggifNYRsKYQsolxwwQXZJaB5dRx/imqKdnDUp4x4hCyiLFzIPxYwDkJN9RpFzTG05RCyiLJw4aLsEjBcZQ+XQTkadJZn7cqLskuIRcgCGCl80TenqKl4zYo3Z5cQi0N4EGXPnvs4TrbDdNJ2nU/24Asv95w8YOf73jTwc8oWzZtb5uwvOpxm13eOpU2g5thPjfRdv3pB5TPIaPnu3vPkjH5jnfZtkKOI9foKxQc8laeW4/JL5paeTWrbPY8n2+/9RXZtpn5muBpXhCyiELLdpEDVCduPn/lHdstMd713nvcMPTqjT56Nbz8/ueUds7Nr5RSd9k5TEcb0C6rZc9PnHsmdWEHNznvvXB19OJCeZ/s9v0hPc+ej8NF8y5tvuiy7pX4K1t2TOw37Hno2OALY0DJpbuTYsA2d9GBq0o2rsmuIRcgiCiHbHapaN/30j+lvl04ecPs755yrXu0gPbDuwmTtRa9NL6vqDYWsTjxQtQJe8rEHcgNEAVY0Z7GqO50j1VDQzJ3zqtznjKmM7epaYaPgWjx/aidCVa3bj1n3uVbzzvmq97bzs1ekv0UnXt/93WPe+2qnQjNTmfu6iiYAUaXOyOLy6JMFxsiOJ/6SVq5uwOqk7apYdfIAVaAKU/3odsM+RZ5CNo/CtWrAKsz6PUbTDgoFoqYwDPXjPvDQ77JLfqpgzXMqOFXN6bcmZdCPwscdjLVlx+HcCroMPYdODu8LTZ37Ve9NwWeWRctlzsvr0nrVcuUpWg8EbDWELDAmVL1u+dnMpkAFqapUX5Pw3iunB7ooWE2z8mMnX0l/+5hqtwp7KkKfmNmGTLjZVd6+g/kjZovCUE3OakJVgKlC9bn9pn/LLk3Rc+74mr9ZOZZeU+fUdZunTbNtaCYpVfy+UFRTvHZkfJjlqRmELNBxpt9116/OZLf0UsCac8y6TEVr7HtmqsoMVbJrLnxNdqm8UDWlcMkLFcMOEPWP6jESCtLQc6oJ1TQF5wWsmNex3b3nqexSeQpD30nrFZw6e4/v9Vx55+P17cgUtSCsp4qtjJAFOk59p77+VyMvYA0NYjIeePZv6XPZI5BdRc8X4msWNWKqqU2fnxpbohCyByCFgjSvCVrBrCpWisLdp6hCzqPKVQO/fI8vM4I5L4h9lazbp+yikq2OkAU6LhSwviZi17Vvne5v1HOFnk9Nz1VDVlVbKJiKqimFhwlpt0/ylo8syS71UmDl/c3uV9VAp0FQuKoP1qeuoPvzmZlN/aFZnrSOYipn+BGyQIepHzaPBidtvbx4TmoFp2kyVgWrY2nz9Ncfm/9FL0UhY47v1P3c+9pNx4YGK6np1VcZalnMqd50v6JDYPIOeylD4Zp3ejktu6rYpvTbgoB8hCzQUeqDzeuHFU00YY8eDrGr09Bz9tMfG6qmir7oVcWagNp668xAVJBqsJCCSqNy9fvYN9fnVmjb7308u6Sq+D3ZpXy/9TTBlqFlzzv+VuzDdGL5moXlgtnnZZemFLcgLMguoQpCFuggNen6RhIb7oCmIhecNyu7FNZUJbtmRThk7QowFMgaOKSqNHQ4ivonzbLouWIOXSmqwouEJt+QKs21eSO1l1/a+1yhkdeyduWF2SVUQcgCHaNKU6OJ8wYnKQg1oriMmPBU323V/lhN55dXTamCCzXX2lMBuserlqWwNsfEKmB1zGkRVaD9NBeHJoCQKrMsaXl8wa3DkOydBq3z0DSKuj9n3ekPIQt0iII1VMFKTD9sFX01FR+u1lSsJlH7UBlfU3EZdjNx7HNpmsOqVAGHRvYq5KpUsXmDp9RUbiuqwGkq7h8hC3SIZnQKHV6jwU79NOmGNNZUHAhZHbJjKmBVsQqlfphjRRXsoXA3tNz9VLGbPv9wdsnPDcUYqux961PP5ValoX5wiVkHCCNkgY5QM7E99aGPpk2sInQCAVHA9tNUnEdNxb4J91XB2vP56j4ayFQHVY4xzcRmGfIUBX5ojmbRMpRpqlVT96yJr85o/tX70dlzfE3uocFWCuWyg60wEyELdIQmighRn2nsaGJXUcg2NcvTtWt6Bx2palXzqibrNwGrECk6aUAZscfEhvoyJXTuVS17KGBVlZepItU87OuDNTNEVQlLBjzVg5AFOsJMeZhn/aLXZZfK+/MrZ7NLflWbihWaoeZWzaeralE/8z50f/pjDxRSBVvX6ddUmcY2Oeu+9ohmH3cHwaYz5YRcu3pRdqmYTk+XV5GWmSHKRVNxPQhZYEzYMzeVFZrlSaqGrK/v0KZqT/fRj+l7FQWHwrDOClaVaexgp6IqVhVkKNyKDpvZmDMLlU1Br+rVt5OigKxr5wP9IWSBMaARxf00FYdOCFB1tLL6kK/7L/8oWFGImskjVLHalZUCV5Wk+jVDh//E0nPo+WKqWFXVoSpW4RqanUlVZ2h5tQy+EcUKU71f9bvqR03mZjl0f53A4OzDN6c/6s/1PQcGj5AFxkBfI38DAStVnlvPuenAC0nyP/kzJW28eklaEWrAjipWBYcCxA4wVbqqKpdc9+3CSe5Ddn833PRrmKo6JG8uZKNoRK/dl2uapRWuahZ2+3EV6KpY9ROzgxCr3+ONMY2QBTqgqeZcCc1VLFWe+7oDLybJsT9l1/zy+gQVvG4IqDJUX21RAPooxEKDkGxFfaly+2TVHVJUdWsgmOmDVrWqJmF7+Uy/sXY2NGq4iYo1dJJ7lEPIAh0QOja2n4CV0ICqKs+tZU2X9/d/yW6ZyZ6VyMc9SbpRdNypT0xwSsxgJ+0YFB12U7QjYKZ1tMNYFavWiSpWHaqkpuGidVQkNJVjaGQ0yiFkgQ4IhWw/53dVhVz3c+v8tqnf5x/TG5qAQvKqt9iK1FA/pwm9otG0dweOKTXUxF0HhaqWR/3RClRVrKpc66paFbChHQYO36kPIQt0QKi5+OLz/zW7VN7uX4fPLlP2+Fidek/LuvVtkxXw6cAp8woCry7b75keJVzUzLurYPrE2MN/QvR4Bap+1Aet/ug6+1pVHatvNxSwCnLmK64PIQt0XD+VbOi0dlK2udg83+K/hMN7ECNj1fxrBkspIIuaX4v6Ujde3X8Yaq7g0KE//dDyX/nJHxdOAxm7g1PHqO5xQMgCHaf5iqsqaiouc1iQGaWsYD54+MX08jDZx7rm9fGWsfnj4Uo4RlM7F7EBK0VN9YYZ1V1lsNk4IWSBDghVq/2EbEiZKlbH2mpEsZZl75Vvnvxifj77y3DYg5hUOfrmRy6rjgq0iWbaMgErMZWs1p/MnfOqZPmlc9PL8CNkgQ7op0m4qthJKBSuS+7/XVoVH7t+QVr9hgYoxYRV3gnJYyggdGiMETMzUlG1FluBhgcb1d8Prf5XHQpkAlYDqXSscR4dj1y0/s36UxO7Rjo31bzdFYQs0AFNVKtFk1DENBVvO3Lq3CFAt7xjdvq7SGjO3zrY51rVoKKY6rGoCow5qYCCOnTYTN20zPZya5SyBlKFdhhigt6sv37P3TsuCFkAXkWnzSuicDXPoUr7rvfGVXsxx2g+9vSp7FJ59sxQquxinDodHuBTtGOgsLNPbNA0vZ6aiA0FbNEoZVWkRRW5AtqsvzpHPXcZIQtgBp38vaiSLaLDdUQVr/phTeVbVBXGHKNZx6jW2Cq2iEYlFzWZXveZh84ts/p/ffc/dfqV7FJ/TMCa13MDNm/dxfSt2q0AiEPIAuihQUr9VrHqfzUjk3e+7009zdmh5kr18zV5jKY5JZxCLraKLaLDbkIUaqYPWmGnfk/f/MZFOx8x1Oerfti8gJUjT/lfZ82KcFOx1p1ZxkEdx9wFhCzQEf2cys6mgUqhQ3ekqD82nZt40ualb5ixXKEJ8mPnzC0aiOSjgDCTT6gPta4wL6q8TTOxmmLv2rwivZw38UU/JznQcat2n692JHxNussv9TcJ590uGuxkT9xBf2w8QhboiNvfOSe71Kvo5AE2MyOTKEjzDtMJjWbWc6ipWY/19cOGgqSpOXNV2W363CPpb4WdBgCVEQrSUFgr9LRDoNc88OUPnGsm1mN8lbRODlCW3pOC3D7uV6+j1/PxNVVL3u2i5zfVsXvaQYQRskBHKNR81Wxogn+b+mHtGZ7cZl5bXsjq8eY51A/rKqpA65gz1xzDaduy4/C5ps6dn70i/V1G1VAxh+zYAWto8go1j9t0/7LNxup/tXdcFOg6LClvEFPee8m7XTsKZpm0vFtvq6eZfVwQskCHKNgOrOsNKvWvrvj2idwmYE3YP2v3b5MtP5v6ItWhNmc3XpwGtipRX9OwO92irus5VMXq/oevme993PZ7H88uzaQKKbYJ19cMaqhPUqGj5lMdI6oTnJuwU/WYFz5F8io9089rKJC0DHpdE3i+x+o2HWeqOYpteqzOHxvaIdH7MSdwNwFojoHV6xWtR/c1RevLpkFO9rpT/y7HxZY36+ykDRtuSA4dOpTdBMy0Z899ycTERHYNbafQM6N7DYWeAnT9otel1xW6Dzz7t57A1N9VwdpU4ZoAtplK9+5fnj5XLes1FMx5x8TqSzuPzjITe/o2BZDOuVqGQqhsM7FNYZN3nKt2ENZPLrtOm2dCSTTRf0woaWfANMfaFNIaWGUqfD3/voPP9dxX1eXOOyZKV9t6L/ayitaRXuv4icnPj/VeYw4Bgh8hiyiE7GhSkJrZlvKYvtOiWaMUtApcHz1HqHnZyAvGxfMnw33yi7ysUGjL1GjeFbVWX6qSt+z4+bkRwy6FnQYGVWli1s6Dqv2iZnUFq05IoCbnft5baP1p+TUSumrljymELKIQsqNLAatK87GTr/QMglLVqVPVaQRwLB3eo8r34AtTp6lTMG98+/mFAd0U9b+qGjt4eDqUFAqXXzI3nSCiyabNqdd9Ma36RIfA6DXrCCW9L00dqUk37D5aVcsKv7qCTxWxTuGnEd92daz30k/Vj2mELKIQsgBQHgOfAABoCCELAEBDCFkAABpCyAIA0BBCFgCAhhCyAAA0hJAFAKAhhCwAAA0hZAEAaAghCwBAQwhZAAAaQsgCANAQQhYAgIYQsgAANISQBQCgIYQsAAANIWQBx/ETf00efPQP2TWMmiNPn2T7oTUIWSBz6szfk233PJ5+ScuWHY+mPwpd3d42CpJNn38kmTXx1eyWZmm9LPnYA+fWT9to+5ntJdpm5rp+N03r5cpP/Sh3/Wj59Pcde57MbqmPeY/6LOg1qtr1nd+kj8/7TOkzp/U670P3t/J/IrT+h4WQBSalX4Cf/HGyeP75ybWrFyZrV74luWvzymT95OUlH/tWcvBw+yojLePOO67Irk3RF4y+KOuWBsjk+tl49duS5ZfMy25tD7P9Nn5kybntt+22d6fXtf3q/uL1hbYCyPy4zPLNnf3q5JbJZaqbPrf6vOp99+OWj7wtOfClD6bbeN9Dz2W3TjPr9fabLk1/t03e+h8mQhaYtOlzjyTLL52XfsnY9KXi3tZmR546ea6Sq4sCSqFy4MsfaOUXq1z3mZ+k28/dAdD1JrbfvoeezS5N23zTZWlA6bdLny+F4N47358GbdvNnXNeuszaORgleet/mAhZjL0Vn/h++mXiVoWGbtc/r6hKNPc31GRrVza6j5rbdJtdVbrNeHqcoeY3ew/c1wxsnje0p24/p01B6Tb16vnsZVI46/lNM6t5jwoFvea+g9OVjb0Mup/WSUzzoV5P99ePr2nPvG9zu+6n5Q49t15bQttv5x2rsmtT3G2m1zPrQq9lr0f9TdvH0N+Pn3gpuzZN60/PYS+r+bwoXLXD5r6u6D7uZ0U7Dfa28dFzmeXUetLlU6dfSa8bWnatP3vHS/ezXyvPyR9eP7lchws/c+K+jvv8en9m24vWp1sp629aV+axek6zbQ1dt9+LnsNen+76Fz2fHmde213/9vY227ro/ZZByGLs6R8rlr503GpEX+KqbMw/5uL5s9Pfp8680lNF6e/2a228errZUM1vtosven12aZp53ir0xbL11nf3VHpaNvs51eQou7/7m7SZ3LxHc7vtwUdfOPd+db/1qxckd+95Kr2eR1+OCjvdXz+333TZZJg8lP11innfZjl1PzVRh547ZvvZ70Ffug8++nxaWRp6PfOaei172+h2d/v4+NaT+bwY7mdFtA3cz4rWjft5selv2um5a/OK9LrW09Zb3zXj/lq/2u72sukxChU7rPLovovnv37y/g+fCykf93Xs59dv9UPrPWk5RU3mW3b8PL1s7Pjakz2tSe561+trm9nv5eDkegj1cesx7v+su/7t7R27rcsgZIES5s55Vc8/ubF25UWT/6y9/+wKHpddaez+7rHskgm8mc9bB33x6ktl7coLs1umrVnx5uzStLmzX5NWXSGbP37ZjPuEvoRF4Wa/R/WdqiK0v/DyFD23jyoU90df+Frv165elN1rmnYsRNvY3jZiB2AZvs9L7GdF3MrU0OO1/k1wiF5HgWjT+r12zdT7MvQYPdatNn103713rk6fR83HPtp+7uvYz2/C1l7WC2aflz7GprBzP4/6zJodh13fOZY+r+3yS+YGm4f1GHcbuOvf3d51/y8Sshh77heTjwmCvGpSFZgbFvaXio8qETWxqcqc+oJsJmSnl33m8+v9uNWPqoki5r2Z5rqYgWG6jxt6oqq4H3nbT/3H+pLefu8v0upcOwZaB1ofes/uspgv2rs2v6dn2+i+VbeN7/NS5bPi0uMVMC7f66lCdN/r8RNnogfzqbpTBalt7asazfazX8d+frMzoNuM3z7/Uk9gah1rR8pdfrO9RFWrS4Fot0i49Bj3Od31b7a3va2rbm8fQhZjT3u2R546lV3ziwmCstXWsb3XpE1s2tO3+6vqdup0+HndasnXVO1j+gz1JbdmRdyoVgWf/XP24ZvT3/1Yfskbc7efvsj1oy9aO8i0vO6ymD5dVdj2tlF/XlH/aFn9busyj3ffp36OfXP9uXEGMVQtar2YIPIJPf/Oz16RVqqmqtUAPTsc8yp2MZ/fKuss7zH27WZ729u63+1jI2Qx9tRUp38q8wXg88BDv8su5TN9erH0pa89cfUXaS9/+z2/yP5SH72nosp0+aUzK6Ii6nPTl6i+oGKVXT+xdJhO0fazFS2HnsfeNse++dF0++TRa5f9Uu53Xejxfz6TH0xNUFCq1UD9r/Zrx7R8KCi1s6OdVVW6h79yVc86CH0GzfNXWWd5j7FvN9vb3tZ1/i8Sshh7Cgp9AeT1UWnP3fyju818hprG8vrVYmhwT16FYIS+6PPoPem96UvEt+z60rMrvBj6UnLX1WNPT1eSeWGnPk9fGJUNKFfR9nPXm7ZTaKdJ1ZpNTYfaPnlURedV0r513u9nRfR4//bsvU3b1ne8q5Rd73qunXdMTK7Pl9K+TsN8vnyjhQ0NPhK1KPjGBujxJoRtej+6XfI+P/q85b0XPcZdJ+76t7e32dZF/4tlELLAJO3F6ovX/efSP6/+CTVyU/QP7/ZL6TH6klWfXxn2a6mPym5yNX1C5stDv0MjbA03MOfOMSN5L+0Z7CF6TvVVluV+oaXv/+k/Zdem+ml90nX3td5lmOq/i6tAQ9T0qPXjbj99wboDbMx28oWUaPnd59H2MbRObVofeX147uel6mfFpcefOvNyz3vQ67j90xod7G530ePsoIyl96P/BfszoM+X+zru8+v/S9fVFKsfHRakw5Ts9azmeX0e7efWc5rPtO/zI+pzz2tu1mNmbANn/bvb2/1f7Ness5M2bLghOXToUHYTMNOePfclExMT2bVu0z+c/mn1zxmiLxI1c7nBVoYCRj95r6UvHH0pFC2Lregxen9a5n4Hd+j9l1kum5ahSvNfDBM8Mctm1pXWhbs+irZNmfVYx2clT+y6jP1c98v+XGj9acYtNcO660nrXsekqtvBXaai96TX8G2zInrNvG3Qz+c5hJBFlHEKWQD1UHCpctUAN5cJWU160cTOR1vQXAwAaIQqQ1Wkbj+3qJ9WI7q7HLBCJYsoVLIAqlDFqr5UMyJZE1GIBkA13XTdBoQsohCyAFAezcUAADSEkAUAoCGELAAADSFkAQBoCCELAEBDCFkAABpCyAIA0BCOk0WU0HGyzz33bHLfffdl14otXLgwufHGDZOP+frkY6cnkze3244ePZr84Af7s2tTtmz5dHYJANqNkEWUUMg+/PDDyU033ZhdK7Zq1ark61//RuJ+7ubMmTMZqr/Mrk359Ke3JN/4Rm+AP/OM/ywvANA2NBejNU6fPp3s3//97NoU9zoAjBJCFn1btGhh2oRr/yxYsDD761Tlav/NbRK27d8/3TSsgFXwAsCoorkYUcrOXWx/pky4unyfO7vJ2NdULDQXAxgVVLJoFbvJmKZiAKOOkEUrfPjD67JLU03GdlPx0qVL098AMGoIWbTCsmXLzvXjKmDtvtlQHy4AtBkhi9ZYt26qmlUFa/piFbxLly5LLwPAqCFk0Rq+itUELwCMIkIWrWE3GRu33XZbdgkARg8hi1axK1cNeFq4cFF2DQBGT3qcrDuHLOC68cYbSwWe/ZlatWrCe4yt7z72PMi+28R3zC0AtE+S/D8CTph5HzFU1wAAAABJRU5ErkJggg==","aspect-ratio":"1.9",contain:""}})],1),a("v-card-text",[a("h2",[t._v("Contactos:")]),a("br"),a("p",{staticClass:"subheading font-weight-light"},[t._v("\n              Comercial: Lucio Andres: +54 (911) 3561-4639"),a("br"),t._v("\n              Sistemas: Guillermo Cristobal: +54 (911) 3560-0383"),a("br"),t._v("\n              o consulte online nuestra "),a("a",{attrs:{href:"https://akiel.com.ar",target:"_blank"}},[t._v("Pagina Web")])])])],1),a("v-dialog",{attrs:{"max-width":"600px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-toolbar",{attrs:{color:"indigo",dark:""}},[a("v-toolbar-title",[t._v("Cambio de Password Requerido")]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("verified_user")])],1)],1),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"})]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{type:"password",label:"Password Actual"},model:{value:t.actualpassword,callback:function(e){t.actualpassword=e},expression:"actualpassword"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"append-icon":t.value?"visibility":"visibility_off",type:t.value?"password":"text",label:"Nueva Password",rules:[t.rules.password],required:""},on:{"click:append":function(){return t.value=!t.value}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"append-icon":t.password===t.retypepassword?"done_outline":"",type:"password",label:"Confirmar Password",required:""},model:{value:t.retypepassword,callback:function(e){t.retypepassword=e},expression:"retypepassword"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.salir}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1)],1)],1)},H=[],Y=a("bc3a"),W=a.n(Y),J={name:"HelloWorld",data:function(){return{actualpassword:"",password:"",retypepassword:"",dialog:!1,validaMensaje:[],valida:0,valid:!0,value:!0,rules:{required:function(t){return!!t||"Requerido."},password:function(t){var e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/;return e.test(t)||"Min. 8 caracteres con al menos una mayúscula, un número y un caracter especial."}}}},watch:{dialog:function(t){t||this.closeForm()}},created:function(){this.inicializar()},methods:{inicializar:function(){var t=this;t.dialog="SI"==t.$store.state.usuario.pxch,t.actualpassword="",t.password="",t.retypepassword=""},salir:function(){this.$store.dispatch("salir")},closeForm:function(){this.dialog=!1},guardar:function(){var t=this;if(!this.validar()){new Date;var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Usuarios/Pxch",{idusuario:t.$store.state.usuario.idusuario,oldpassword:t.actualpassword,newpassword:t.password},a).then((function(e){t.salir()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.password!==this.retypepassword&&this.validaMensaje.push("No hay coincidenciaq en la verificacacón de Passwords."),this.password.length<6&&this.validaMensaje.push("El password debe poseer al menos 6 caracteres alfanumericos y/o especiales."),this.validaMensaje.length&&(this.valida=1),this.valida}}},Q=J,Z=a("12b2"),X=a("169a"),tt=a("adda"),et=a("2677"),at=Object(b["a"])(Q,G,H,!1,null,null,null),it=at.exports;g()(at,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDialog:X["a"],VFlex:j["a"],VIcon:I["a"],VImg:tt["a"],VLayout:M["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ot={components:{HelloWorld:it}},st=ot,rt=Object(b["a"])(st,q,K,!1,null,null,null),nt=rt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Prospectos en Tratamiento")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1200px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))]),a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{label:"Nro Limbo",disabled:""},model:{value:t.orden,callback:function(e){t.orden=e},expression:"orden"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-text-field",{attrs:{label:"Nombre del Proyecto"},model:{value:t.proyecto,callback:function(e){t.proyecto=e},expression:"proyecto"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.estados,label:"Estado"},model:{value:t.idestado,callback:function(e){t.idestado=e},expression:"idestado"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchor,items:t.origenes,label:"Origen"},on:{"update:searchInput":function(e){t.searchor=e},"update:search-input":function(e){t.searchor=e}},model:{value:t.idorigen,callback:function(e){t.idorigen=e},expression:"idorigen"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.pitchs,label:"Pitch"},model:{value:t.idpitch,callback:function(e){t.idpitch=e},expression:"idpitch"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.tipoprods,label:"Tipo de Produccion"},model:{value:t.idtipoprod,callback:function(e){t.idtipoprod=e},expression:"idtipoprod"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{disabled:"",items:t.tipoproys,label:"Tipo de Proyecto"},model:{value:t.idtipoproy,callback:function(e){t.idtipoproy=e},expression:"idtipoproy"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchep,items:t.eps,label:"E.P."},on:{"update:searchInput":function(e){t.searchep=e},"update:search-input":function(e){t.searchep=e}},model:{value:t.idep,callback:function(e){t.idep=e},expression:"idep"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-autocomplete",{attrs:{"search-input":t.searchdi,items:t.directores,label:"Director"},on:{"update:searchInput":function(e){t.searchdi=e},"update:search-input":function(e){t.searchdi=e}},model:{value:t.iddirector,callback:function(e){t.iddirector=e},expression:"iddirector"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchco,items:t.directores,label:"Co-director"},on:{"update:searchInput":function(e){t.searchco=e},"update:search-input":function(e){t.searchco=e}},model:{value:t.idcodirector,callback:function(e){t.idcodirector=e},expression:"idcodirector"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Costo",type:"number"},on:{change:t.calcularDerivados},model:{value:t.impcosto,callback:function(e){t.impcosto=e},expression:"impcosto"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Contingencia",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porcontingencia,callback:function(e){t.porcontingencia=e},expression:"porcontingencia"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Gasto Fijo",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porgastosfijo,callback:function(e){t.porgastosfijo=e},expression:"porgastosfijo"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Ganancia",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porganancia,callback:function(e){t.porganancia=e},expression:"porganancia"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Fee dirección",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porfeedireccion,callback:function(e){t.porfeedireccion=e},expression:"porfeedireccion"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Otros Gastos",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porotrosgastos,callback:function(e){t.porotrosgastos=e},expression:"porotrosgastos"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Cto.Financiero",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porcostofinanciero,callback:function(e){t.porcostofinanciero=e},expression:"porcostofinanciero"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Imp. y Com.",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porimpuestoycomision,callback:function(e){t.porimpuestoycomision=e},expression:"porimpuestoycomision"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Venta",type:"number",disabled:""},model:{value:t.impventa,callback:function(e){t.impventa=e},expression:"impventa"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Contribución",type:"number",disabled:""},model:{value:t.impcontribucion,callback:function(e){t.impcontribucion=e},expression:"impcontribucion"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Contribución",type:"number",disabled:""},model:{value:t.porcontribucion,callback:function(e){t.porcontribucion=e},expression:"porcontribucion"}})],1),[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Ingreso","prepend-icon":"event",readonly:""},model:{value:t.fecingreso,callback:function(e){t.fecingreso=e},expression:"fecingreso"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.fecingreso,callback:function(e){t.fecingreso=e},expression:"fecingreso"}})],1)],1)],[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Adjudicacion","prepend-icon":"event",readonly:"",clearable:""},model:{value:t.fecadjudicacion,callback:function(e){t.fecadjudicacion=e},expression:"fecadjudicacion"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{min:t.fecingreso},on:{input:function(e){t.menu2=!1}},model:{value:t.fecadjudicacion,callback:function(e){t.fecadjudicacion=e},expression:"fecadjudicacion"}})],1)],1)],a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{prefix:"$",label:"ARS/USD",type:"number"},model:{value:t.ars1usd,callback:function(e){t.ars1usd=e},expression:"ars1usd"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{disabled:"",items:t.resultados,clearable:"",label:"Resultado"},model:{value:t.idresultado,callback:function(e){t.idresultado=e},expression:"idresultado"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-textarea",{attrs:{"auto-grow":"",clearable:"",filled:"",label:"Comentarios"},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"450px"},model:{value:t.dialogpitch,callback:function(e){t.dialogpitch=e},expression:"dialogpitch"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Activar Pitch "+t._s(t.pad(t.orden,5))+" - "+t._s(t.proyecto))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.activapitch,expression:"activapitch"}],attrs:{type:"checkbox",id:"visita"},domProps:{checked:Array.isArray(t.activapitch)?t._i(t.activapitch,null)>-1:t.activapitch},on:{change:function(e){var a=t.activapitch,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.activapitch=a.concat([s])):r>-1&&(t.activapitch=a.slice(0,r).concat(a.slice(r+1)))}else t.activapitch=o}}}),a("label",{attrs:{for:"visita"}},[t._v(" Pitch ? ("+t._s(t.pad(t.orden,5))+"A)")])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardarPitch(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Prospecto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Prospecto?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el prospecto "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.limbos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),"Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol?a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarPitch(e.item)}}},[t._v("\n                    archive\n                    ")]):t._e(),"Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol?a("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n                    delete\n                    ")]):t._e(),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[t._v(t._s(e.item.pitch))]),a("td",[t._v(t._s(e.item.director))]),a("td",[t._v(t._s(e.item.codirector))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.impcosto))]),a("td",[t._v(t._s(e.item.porcontingencia))]),a("td",[t._v(t._s(e.item.porgastosfijo))]),a("td",[t._v(t._s(e.item.porganancia))]),a("td",[t._v(t._s(e.item.porfeedireccion))]),a("td",[t._v(t._s(e.item.porotrosgastos))]),a("td",[t._v(t._s(e.item.porcostofinanciero))]),a("td",[t._v(t._s(e.item.porimpuestoycomision))]),a("td",[t._v(t._s(e.item.impventa))]),a("td",[t._v(t._s(e.item.impcontribucion))]),a("td",[t._v(t._s(e.item.porcontribucion.toFixed(2)))]),a("td",[t._v(t._s(e.item.tipoproy))]),a("td",[t._v(t._s(e.item.estado))]),a("td",[t._v(t._s(e.item.fecingreso.substr(0,10)))]),a("td",[e.item.fecadjudicacion?a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion.substr(0,10))+"\n                    ")]):a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion)+"\n                    ")])]),a("td",[t._v(t._s(e.item.resultado))]),a("td",[e.item.aprobacion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.fecaprobacion))]),a("td",[t._v(t._s(e.item.comentario?e.item.comentario.substr(0,50):""))]),a("td",[t._v(t._s(e.item.ars1usd?e.item.ars1usd.toFixed(2):""))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},dt=[],lt=(a("c5f6"),a("e511")),ut=a.n(lt),vt=(a("0da4"),{data:function(){return{menu1:"",menu2:"",menu3:"",menu4:"",menu5:"",searchep:"",searchor:"",searchag:"",searchdi:"",searchco:"",searchcl:"",origenes:[],eps:[],pitchs:[],directores:[],tipoprods:[],tipoproys:[],estados:[],resultados:[],snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Prospecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Executive Producer",value:"ep",sortable:!0},{text:"Nombre del Origen",value:"origen",sortable:!0},{text:"Territorio",value:"territorio",sortable:!0},{text:"Tipo de Pitch",value:"pitch",sortable:!0},{text:"Nombre Director",value:"director",sortable:!0},{text:"Nombre Co-director",value:"codirector",sortable:!0},{text:"Tipo Produción",value:"tipoprod",sortable:!0},{text:"Costo",value:"impcosto",sortable:!0},{text:"%Cont",value:"porcontingencia",sortable:!0},{text:"%GtsFijo",value:"porgastosfijo",sortable:!0},{text:"%Gan",value:"porganancia",sortable:!0},{text:"%FeeDir",value:"porfeedireccion",sortable:!0},{text:"%OtrGts",value:"porotrosgastos",sortable:!0},{text:"%CtoFin",value:"porcostofinanciero",sortable:!0},{text:"%Imp&Com",value:"porimpuestoycomision",sortable:!0},{text:"U$D Venta",value:"impventa",sortable:!0},{text:"U$S CMarg.",value:"impcontribucion",sortable:!0},{text:"%CMarg.",value:"porcontribucion",sortable:!0},{text:"Tipo de Proyecto",value:"tipoproy",sortable:!0},{text:"Estado",value:"estado",sortable:!0},{text:"Fecha Ingreso",value:"fecingreso",sortable:!0},{text:"Fecha Adjudic",value:"fecadjudicacion",sortable:!0},{text:"Resultado",value:"resultado",sortable:!0},{text:"Aprobacion",value:"aprobacion",sortable:!0},{text:"Fecha Aprob",value:"fecaprobacion",sortable:!0},{text:"Comentario",value:"comentario",sortable:!0},{text:"ARS/USD",value:"ars1usd",sortable:!0},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fecha Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fecha Ult.Mod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idlimbo:"",orden:"",proyecto:"",idep:"",ep:"",idorigen:"",origen:"",territorio:"",idpitch:"",pitch:"",iddirector:"",director:"",idcodirector:"",codirector:"",idtipoprod:"",tipoprod:"",impcosto:0,porcontingencia:0,porgastosfijo:0,porganancia:0,porfeedireccion:0,porotrosgastos:0,porcostofinanciero:0,porimpuestoycomision:0,impventa:0,impcontribucion:0,porcontribucion:0,idtipoproy:"",tipoproy:"",idestado:"",estado:"",fecingreso:new Date((new Date).getTime()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),fecadjudicacion:"",aprobacion:!1,fecaprobacion:"",idresultado:"",resultado:"",comentario:"",ars1usd:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",limbos:[],valida:0,validaMensaje:[],adModal:0,activapitch:!1,dialogpitch:!1,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo prospecto":"Actualizar prospecto"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.select(),this.listar()},methods:{pad:function(t,e,a){return a=a||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(a)+t},activarPitch:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.idep=t.idep,this.idorigen=t.idorigen,this.idpitch=t.idpitch,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idtipoprod=t.idtipoprod,this.impcosto=t.impcosto,this.porcontingencia=t.porcontingencia,this.porgastosfijo=t.porgastosfijo,this.porganancia=t.porganancia,this.porfeedireccion=t.porfeedireccion,this.porotrosgastos=t.porotrosgastos,this.porcostofinanciero=t.porcostofinanciero,this.porimpuestoycomision=t.porimpuestoycomision,this.impventa=t.impventa.toFixed(0),this.impcontribucion=t.impcontribucion.toFixed(0),this.porcontribucion=t.porcontribucion.toFixed(2),this.idtipoproy=t.idtipoproy,this.idestado=t.idestado,this.fecingreso=t.fecingreso.substr(0,10),this.fecadjudicacion=t.fecadjudicacion?t.fecadjudicacion.substr(0,10):t.fecadjudicacion,this.aprobacion=t.aprobacion,this.fecaprobacion=t.fecaprobacion?t.fecaprobacion.substr(0,16):t.fecaprobacion,this.idresultado=t.idresultado,this.comentario=t.comentario,this.ars1usd=t.ars1usd,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.activapitch=!1,this.dialogpitch=!0},calcularDerivados:function(){this.impventa=this.impcosto*(1+this.porcontingencia/100)*(1+this.porgastosfijo/100+this.porganancia/100)*(1+this.porfeedireccion/100)*(1+this.porotrosgastos/100)*(1+this.porcostofinanciero/100)*(1+this.porimpuestoycomision/100),this.porcontribucion=100*(0!==Number(this.impventa)?(this.porganancia/100+this.porgastosfijo/100)*(1+this.porcontingencia/100)*this.impcosto/this.impventa:0),this.impcontribucion=this.impventa*this.porcontribucion/100,this.impventa=this.impventa.toFixed(2),this.impcontribucion=this.impcontribucion.toFixed(2),this.porcontribucion=this.porcontribucion.toFixed(2)},crearPDF:function(){var t=[{title:"Id",dataKey:"idlimbo"},{title:"Orden",dataKey:"orden"},{title:"Proyecto",dataKey:"proyecto"},{title:"Estado",dataKey:"activo"}],e=[];this.limbos.map((function(t){e.push({idlimbo:t.idlimbo,orden:t.orden,proyecto:t.proyecto,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Limbos",40,30)}}),a.save("Limbos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Limbos/Listar",a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Limbos/Listarusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o=[],s=[],r=[],n=[],c=[],d={Authorization:"Bearer "+this.$store.state.token},l={headers:d};W.a.get("api/Origenes/Select",l).then((function(a){e=a.data,e.map((function(e){t.origenes.push({text:e.origen,value:e.idorigen,territorio:e.territorio})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Pitchs/Select",l).then((function(e){i=e.data,i.map((function(e){t.pitchs.push({text:e.pitch,value:e.idpitch})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectDirectores",l).then((function(e){o=e.data,o.map((function(e){t.directores.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoprods/Select",l).then((function(e){s=e.data,s.map((function(e){t.tipoprods.push({text:e.tipoprod,value:e.idtipoprod})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoproys/Select",l).then((function(e){r=e.data,r.map((function(e){t.tipoproys.push({text:e.tipoproy,value:e.idtipoproy,impvenmay:e.impvenmay,impvenmen:e.impvenmen,porganmay:e.porganmay,porganmen:e.porganmen})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Estados/Select",l).then((function(e){n=e.data,n.map((function(e){t.estados.push({text:e.estado,value:e.idestado})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Resultados/Select",l).then((function(e){c=e.data,c.map((function(e){t.resultados.push({text:e.resultado,value:e.idresultado})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Personas/SelectEps",l).then((function(e){a=e.data,a.map((function(e){t.eps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Personas/SelectEpsusuario/"+t.$store.state.usuario.idusuario,l).then((function(e){a=e.data,a.map((function(e){t.eps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.idep=t.idep,this.idorigen=t.idorigen,this.idpitch=t.idpitch,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idtipoprod=t.idtipoprod,this.impcosto=t.impcosto,this.porcontingencia=t.porcontingencia,this.porgastosfijo=t.porgastosfijo,this.porganancia=t.porganancia,this.porfeedireccion=t.porfeedireccion,this.porotrosgastos=t.porotrosgastos,this.porcostofinanciero=t.porcostofinanciero,this.porimpuestoycomision=t.porimpuestoycomision,this.impventa=t.impventa.toFixed(0),this.impcontribucion=t.impcontribucion.toFixed(0),this.porcontribucion=t.porcontribucion.toFixed(2),this.idtipoproy=t.idtipoproy,this.idestado=t.idestado,this.fecingreso=t.fecingreso.substr(0,10),this.fecadjudicacion=t.fecadjudicacion?t.fecadjudicacion.substr(0,10):t.fecadjudicacion,this.aprobacion=t.aprobacion,this.fecaprobacion=t.fecaprobacion?t.fecaprobacion.substr(0,16):t.fecaprobacion,this.idresultado=t.idresultado,this.comentario=t.comentario,this.ars1usd=t.ars1usd,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var i={Authorization:"Bearer "+e.$store.state.token},o={headers:i};W.a.delete("api/Limbos/Eliminar/"+t.idlimbo,o).then((function(t){e.close(),e.listar()})).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}))}},close:function(){this.dialog=!1,this.dialogpitch=!1,this.limpiar()},limpiar:function(){var t=new Date;this.idlimbo="",this.orden="",this.proyecto="",this.idep="",this.idorigen="",this.idpitch="",this.iddirector="",this.idcodirector="",this.idtipoprod="",this.impcosto=0,this.porcontingencia=0,this.porgastosfijo=0,this.porganancia=0,this.porfeedireccion=0,this.porotrosgastos=0,this.porcostofinanciero=0,this.porimpuestoycomision=0,this.impventa=0,this.impcontribucion=0,this.porcontribucion=0,this.idtipoproy="",this.idestado="",this.fecingreso=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().substr(0,10),this.fecadjudicacion="",this.aprobacion=!1,this.fecaprobacion="",this.idresultado="",this.comentario="",this.ars1usd=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(this.calculosAdicionales(),!this.validar()){var t=this,e=(new Date,{Authorization:"Bearer "+this.$store.state.token}),a={headers:e};this.editedIndex>-1?W.a.put("api/Limbos/Actualizar",{idlimbo:t.idlimbo,orden:t.orden,proyecto:t.proyecto,idep:t.idep,idorigen:t.idorigen,idpitch:t.idpitch,iddirector:t.iddirector,idcodirector:t.idcodirector,idtipoprod:t.idtipoprod,impcosto:t.impcosto,porcontingencia:t.porcontingencia,porgastosfijo:t.porgastosfijo,porganancia:t.porganancia,porfeedireccion:t.porfeedireccion,porotrosgastos:t.porotrosgastos,porcostofinanciero:t.porcostofinanciero,porimpuestoycomision:t.porimpuestoycomision,idtipoproy:t.idtipoproy,idestado:t.idestado,fecingreso:t.fecingreso,fecadjudicacion:t.fecadjudicacion,aprobacion:t.aprobacion,fecaprobacion:t.fecaprobacion,idresultado:t.idresultado,comentario:t.comentario,ars1usd:t.ars1usd,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Limbos/Crear",{proyecto:t.proyecto,idep:t.idep,idorigen:t.idorigen,idpitch:t.idpitch,iddirector:t.iddirector,idcodirector:t.idcodirector,idtipoprod:t.idtipoprod,impcosto:t.impcosto,porcontingencia:t.porcontingencia,porgastosfijo:t.porgastosfijo,porganancia:t.porganancia,porfeedireccion:t.porfeedireccion,porotrosgastos:t.porotrosgastos,porcostofinanciero:t.porcostofinanciero,porimpuestoycomision:t.porimpuestoycomision,idtipoproy:t.idtipoproy,idestado:t.idestado,fecingreso:t.fecingreso,fecadjudicacion:t.fecadjudicacion,aprobacion:t.aprobacion,fecaprobacion:t.fecaprobacion,idresultado:t.idresultado,comentario:t.comentario,ars1usd:t.ars1usd,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},guardarPitch:function(){var t=this,e=(new Date,new Date((new Date).getTime()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};this.activapitch&&W.a.post("api/Proyectos/Crear",{idraiz:"",orden:t.pad(t.orden,5)+"A",proyecto:"[Pitch] "+t.proyecto,idtipoprod:t.idtipoprod,idempresa:"",idorigen:t.idorigen,idagencia:"",idproductora:"",idcliente:"",iddirector:t.iddirector,idcodirector:t.idcodirector,idep:t.idep,idlp:"",idcp:"",ars1usd:t.as1usd,fecadjudicacion:e,fecdesdxd:"",fechasdxd:"",fecdescf:"",fechascf:"",fecrodaje:"",fecoffline:"",feconline:"",iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},calculosAdicionales:function(){for(var t=0;t<this.tipoproys.length;t++)if(Number(this.impventa)>=this.tipoproys[t]["impvenmay"]&&Number(this.impventa)<this.tipoproys[t]["impvenmen"]&&Number(this.porganancia)>=this.tipoproys[t]["porganmay"]&&Number(this.porganancia)<this.tipoproys[t]["porganmen"]){this.idtipoproy=this.tipoproys[t]["value"];break}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.proyecto.length<3||this.proyecto.length>50)&&this.validaMensaje.push("El nombre del proyecto no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.idep||this.validaMensaje.push("Seleccione un Executive Producer."),this.idorigen||this.validaMensaje.push("Seleccione un Origen."),this.idpitch||this.validaMensaje.push("Seleccione un Pitch."),this.iddirector||this.validaMensaje.push("Seleccione un Director."),this.idtipoprod||this.validaMensaje.push("Seleccione un Tipo de Producción."),this.idtipoproy||this.validaMensaje.push("Error en parametrizacion del tipo de proyecto."),this.idestado||this.validaMensaje.push("Seleccione un Estado."),this.fecingreso||this.validaMensaje.push("Ingrese una fecha de ingreso."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.proyecto,this.adId=e.idlimbo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Limbos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Limbos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}}),pt=vt,mt=a("c6a6"),ht=a("8fea"),ft=a("2e4b"),bt=a("ce7e"),xt=a("e449"),gt=a("b56d"),_t=a("2db4"),kt=a("a844"),Ct=Object(b["a"])(pt,ct,dt,!1,null,null,null),yt=Ct.exports;g()(Ct,{VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VTextarea:kt["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Prospectos Tratados y Cerrados")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1200px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))]),a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{label:"Nro Limbo",disabled:""},model:{value:t.orden,callback:function(e){t.orden=e},expression:"orden"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-text-field",{attrs:{label:"Nombre del Proyecto",disabled:""},model:{value:t.proyecto,callback:function(e){t.proyecto=e},expression:"proyecto"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{disabled:"",items:t.estados,label:"Estado"},model:{value:t.idestado,callback:function(e){t.idestado=e},expression:"idestado"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{disabled:"",clearable:"","search-input":t.searchor,items:t.origenes,label:"Origen"},on:{"update:searchInput":function(e){t.searchor=e},"update:search-input":function(e){t.searchor=e}},model:{value:t.idorigen,callback:function(e){t.idorigen=e},expression:"idorigen"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{disabled:"",items:t.pitchs,label:"Pitch"},model:{value:t.idpitch,callback:function(e){t.idpitch=e},expression:"idpitch"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{disabled:"",items:t.tipoprods,label:"Tipo de Produccion"},model:{value:t.idtipoprod,callback:function(e){t.idtipoprod=e},expression:"idtipoprod"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{disabled:"",items:t.tipoproys,label:"Tipo de Proyecto"},model:{value:t.idtipoproy,callback:function(e){t.idtipoproy=e},expression:"idtipoproy"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-autocomplete",{attrs:{disabled:"",clearable:"","search-input":t.searchep,items:t.eps,label:"E.P."},on:{"update:searchInput":function(e){t.searchep=e},"update:search-input":function(e){t.searchep=e}},model:{value:t.idep,callback:function(e){t.idep=e},expression:"idep"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-autocomplete",{attrs:{disabled:"","search-input":t.searchdi,items:t.directores,label:"Director"},on:{"update:searchInput":function(e){t.searchdi=e},"update:search-input":function(e){t.searchdi=e}},model:{value:t.iddirector,callback:function(e){t.iddirector=e},expression:"iddirector"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-autocomplete",{attrs:{disabled:"",clearable:"","search-input":t.searchco,items:t.directores,label:"Co-director"},on:{"update:searchInput":function(e){t.searchco=e},"update:search-input":function(e){t.searchco=e}},model:{value:t.idcodirector,callback:function(e){t.idcodirector=e},expression:"idcodirector"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"$",label:"Costo",type:"number"},on:{change:t.calcularDerivados},model:{value:t.impcosto,callback:function(e){t.impcosto=e},expression:"impcosto"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"%",label:"Contingencia",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porcontingencia,callback:function(e){t.porcontingencia=e},expression:"porcontingencia"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"%",label:"Gasto Fijo",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porgastosfijo,callback:function(e){t.porgastosfijo=e},expression:"porgastosfijo"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"%",label:"Ganacia",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porganancia,callback:function(e){t.porganancia=e},expression:"porganancia"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"%",label:"Fee dirección",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porfeedireccion,callback:function(e){t.porfeedireccion=e},expression:"porfeedireccion"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"%",label:"Otros Gastos",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porotrosgastos,callback:function(e){t.porotrosgastos=e},expression:"porotrosgastos"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"%",label:"Cto.Financiero",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porcostofinanciero,callback:function(e){t.porcostofinanciero=e},expression:"porcostofinanciero"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"%",label:"Imp. y Com.",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porimpuestoycomision,callback:function(e){t.porimpuestoycomision=e},expression:"porimpuestoycomision"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"$",label:"Venta",type:"number"},model:{value:t.impventa,callback:function(e){t.impventa=e},expression:"impventa"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"$",label:"Contribución",type:"number"},model:{value:t.impcontribucion,callback:function(e){t.impcontribucion=e},expression:"impcontribucion"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"%",label:"Contribución",type:"number"},model:{value:t.porcontribucion,callback:function(e){t.porcontribucion=e},expression:"porcontribucion"}})],1),[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{disabled:"",label:"Ingreso","prepend-icon":"event",readonly:""},model:{value:t.fecingreso,callback:function(e){t.fecingreso=e},expression:"fecingreso"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.fecingreso,callback:function(e){t.fecingreso=e},expression:"fecingreso"}})],1)],1)],[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{disabled:"",label:"Adjudicacion","prepend-icon":"event",readonly:"",clearable:""},model:{value:t.fecadjudicacion,callback:function(e){t.fecadjudicacion=e},expression:"fecadjudicacion"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{min:t.fecingreso},on:{input:function(e){t.menu2=!1}},model:{value:t.fecadjudicacion,callback:function(e){t.fecadjudicacion=e},expression:"fecadjudicacion"}})],1)],1)],a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{disabled:"",prefix:"$",label:"ARS/USD",type:"number"},model:{value:t.ars1usd,callback:function(e){t.ars1usd=e},expression:"ars1usd"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.resultados,clearable:"",label:"Resultado"},model:{value:t.idresultado,callback:function(e){t.idresultado=e},expression:"idresultado"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-textarea",{attrs:{disabled:"","auto-grow":"",clearable:"",filled:"",label:"Comentarios"},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Prospecto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Prospecto?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el prospecto "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.limbos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[t._v(t._s(e.item.pitch))]),a("td",[t._v(t._s(e.item.director))]),a("td",[t._v(t._s(e.item.codirector))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.impcosto))]),a("td",[t._v(t._s(e.item.porcontingencia))]),a("td",[t._v(t._s(e.item.porgastosfijo))]),a("td",[t._v(t._s(e.item.porganancia))]),a("td",[t._v(t._s(e.item.porfeedireccion))]),a("td",[t._v(t._s(e.item.porotrosgastos))]),a("td",[t._v(t._s(e.item.porcostofinanciero))]),a("td",[t._v(t._s(e.item.porimpuestoycomision))]),a("td",[t._v(t._s(e.item.impventa))]),a("td",[t._v(t._s(e.item.impcontribucion))]),a("td",[t._v(t._s(e.item.porcontribucion.toFixed(2)))]),a("td",[t._v(t._s(e.item.tipoproy))]),a("td",[t._v(t._s(e.item.estado))]),a("td",[t._v(t._s(e.item.fecingreso.substr(0,10)))]),a("td",[e.item.fecadjudicacion?a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion.substr(0,10))+"\n                    ")]):a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion)+"\n                    ")])]),a("td",[t._v(t._s(e.item.resultado))]),a("td",[e.item.aprobacion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.fecaprobacion))]),a("td",[t._v(t._s(e.item.comentario?e.item.comentario.substr(0,50):""))]),a("td",[t._v(t._s(e.item.ars1usd?e.item.ars1usd.toFixed(2):""))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Dt=[],jt={data:function(){return{menu1:"",menu2:"",menu3:"",menu4:"",menu5:"",searchep:"",searchor:"",searchag:"",searchdi:"",searchco:"",searchcl:"",origenes:[],eps:[],pitchs:[],directores:[],tipoprods:[],tipoproys:[],estados:[],resultados:[],snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Nombre del Proyecto",value:"proyecto"},{text:"Executive Producer",value:"ep"},{text:"Nombre del Origen",value:"origen"},{text:"Territorio",value:"territorio"},{text:"Tipo de Pitch",value:"pitch"},{text:"Nombre Director",value:"director"},{text:"Nombre Co-director",value:"codirector"},{text:"Tipo Produción",value:"tipoprod"},{text:"Costo",value:"impcosto"},{text:"%Cont",value:"porcontingencia"},{text:"%GtsFijo",value:"porgastosfijo"},{text:"%Gan",value:"porganancia"},{text:"%FeeDir",value:"porfeedireccion"},{text:"%OtrGts",value:"porotrosgastos"},{text:"%CtoFin",value:"porcostofinanciero"},{text:"%Imp&Com",value:"porimpuestoycomision"},{text:"U$D Venta",value:"impventa"},{text:"U$S CMarg.",value:"impcontribucion"},{text:"%CMarg.",value:"porcontribucion"},{text:"Tipo de Proyecto",value:"tipoproy"},{text:"Estado",value:"estado"},{text:"Fecha Ingreso",value:"fecingreso"},{text:"Fecha Adjudic",value:"fecadjudicacion"},{text:"Resultado",value:"resultado"},{text:"Aprobacion",value:"aprobacion"},{text:"Fecha de Aprobacion",value:"fecaprobacion"},{text:"Comentario",value:"comentario"},{text:"ARS/USD",value:"ars1usd",sortable:!0},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fecha Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fecha Ult.Mod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idlimbo:"",orden:"",proyecto:"",idep:"",ep:"",idorigen:"",territorio:"",origen:"",idpitch:"",pitch:"",iddirector:"",director:"",idcodirector:"",codirector:"",idtipoprod:"",tipoprod:"",impcosto:0,porcontingencia:0,porgastosfijo:0,porganancia:0,porfeedireccion:0,porotrosgastos:0,porcostofinanciero:0,porimpuestoycomision:0,impventa:0,impcontribucion:0,porcontribucion:0,idtipoproy:"",tipoproy:"",idestado:"",estado:"",fecingreso:new Date((new Date).getTime()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),fecadjudicacion:"",aprobacion:!1,fecaprobacion:"",idresultado:"",resultado:"",comentario:"",ars1usd:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",limbos:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo prospecto":"Actualizar prospecto"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.select(),this.listar()},methods:{calcularDerivados:function(){this.impventa=this.impcosto*(1+this.porcontingencia/100)*(1+this.porgastosfijo/100+this.porganancia/100)*(1+this.porfeedireccion/100)*(1+this.porotrosgastos/100)*(1+this.porcostofinanciero/100)*(1+this.porimpuestoycomision/100),this.porcontribucion=100*(0!==Number(this.impventa)?(this.porganancia/100+this.porgastosfijo/100)*(1+this.porcontingencia/100)*this.impcosto/this.impventa:0),this.impcontribucion=this.impventa*this.porcontribucion/100,this.impventa=this.impventa.toFixed(2),this.impcontribucion=this.impcontribucion.toFixed(2),this.porcontribucion=this.porcontribucion.toFixed(2)},crearPDF:function(){var t=[{title:"Id",dataKey:"idlimbo"},{title:"Orden",dataKey:"orden"},{title:"Proyecto",dataKey:"proyecto"},{title:"Estado",dataKey:"activo"}],e=[];this.limbos.map((function(t){e.push({idlimbo:t.idlimbo,orden:t.orden,proyecto:t.proyecto,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Limbos",40,30)}}),a.save("Limbos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Limbos/ListarHistorico",a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Limbos/ListarHistoricousuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o=[],s=[],r=[],n=[],c=[],d={Authorization:"Bearer "+this.$store.state.token},l={headers:d};W.a.get("api/Origenes/Select",l).then((function(a){e=a.data,e.map((function(e){t.origenes.push({text:e.origen,value:e.idorigen,territorio:e.territorio})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Personas/SelectEps",l).then((function(e){a=e.data,a.map((function(e){t.eps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Personas/SelectEpsusuario/"+t.$store.state.usuario.idusuario,l).then((function(e){a=e.data,a.map((function(e){t.eps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Pitchs/Select",l).then((function(e){i=e.data,i.map((function(e){t.pitchs.push({text:e.pitch,value:e.idpitch})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectDirectores",l).then((function(e){o=e.data,o.map((function(e){t.directores.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoprods/Select",l).then((function(e){s=e.data,s.map((function(e){t.tipoprods.push({text:e.tipoprod,value:e.idtipoprod})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoproys/Select",l).then((function(e){r=e.data,r.map((function(e){t.tipoproys.push({text:e.tipoproy,value:e.idtipoproy,impvenmay:e.impvenmay,impvenmen:e.impvenmen,porganmay:e.porganmay,porganmen:e.porganmen})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Estados/Select",l).then((function(e){n=e.data,n.map((function(e){t.estados.push({text:e.estado,value:e.idestado})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Resultados/Select",l).then((function(e){c=e.data,c.map((function(e){t.resultados.push({text:e.resultado,value:e.idresultado})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.idep=t.idep,this.idorigen=t.idorigen,this.idpitch=t.idpitch,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idtipoprod=t.idtipoprod,this.impcosto=t.impcosto,this.porcontingencia=t.porcontingencia,this.porgastosfijo=t.porgastosfijo,this.porganancia=t.porganancia,this.porfeedireccion=t.porfeedireccion,this.porotrosgastos=t.porotrosgastos,this.porcostofinanciero=t.porcostofinanciero,this.porimpuestoycomision=t.porimpuestoycomision,this.impventa=t.impventa.toFixed(0),this.impcontribucion=t.impcontribucion.toFixed(0),this.porcontribucion=t.porcontribucion.toFixed(2),this.idtipoproy=t.idtipoproy,this.idestado=t.idestado,this.fecingreso=t.fecingreso.substr(0,10),this.fecadjudicacion=t.fecadjudicacion?t.fecadjudicacion.substr(0,10):t.fecadjudicacion,this.aprobacion=t.aprobacion,this.fecaprobacion=t.fecaprobacion?t.fecaprobacion.substr(0,16):t.fecaprobacion,this.idresultado=t.idresultado,this.comentario=t.comentario,this.ars1usd=t.ars1usd,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){var t=new Date;this.idlimbo="",this.orden="",this.proyecto="",this.idep="",this.idorigen="",this.idpitch="",this.iddirector="",this.idcodirector="",this.idtipoprod="",this.impcosto=0,this.porcontingencia=0,this.porgastosfijo=0,this.porganancia=0,this.porfeedireccion=0,this.porotrosgastos=0,this.porcostofinanciero=0,this.porimpuestoycomision=0,this.impventa=0,this.impcontribucion=0,this.porcontribucion=0,this.idtipoproy="",this.idestado="",this.fecingreso=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().substr(0,10),this.fecadjudicacion="",this.aprobacion=!1,this.fecaprobacion="",this.idresultado="",this.comentario="",this.ars1usd=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(this.calculosAdicionales(),!this.validar()){var t=this,e=new Date,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};this.editedIndex>-1?W.a.put("api/Limbos/Actualizar",{idlimbo:t.idlimbo,orden:t.orden,proyecto:t.proyecto,idep:t.idep,idorigen:t.idorigen,idpitch:t.idpitch,iddirector:t.iddirector,idcodirector:t.idcodirector,idtipoprod:t.idtipoprod,impcosto:t.impcosto,porcontingencia:t.porcontingencia,porgastosfijo:t.porgastosfijo,porganancia:t.porganancia,porfeedireccion:t.porfeedireccion,porotrosgastos:t.porotrosgastos,porcostofinanciero:t.porcostofinanciero,porimpuestoycomision:t.porimpuestoycomision,idtipoproy:t.idtipoproy,idestado:t.idestado,fecingreso:t.fecingreso,fecadjudicacion:t.fecadjudicacion,aprobacion:!!t.idresultado&&t.aprobacion,fecaprobacion:t.idresultado?t.fecaprobacion:"",idresultado:t.idresultado,comentario:t.comentario,ars1usd:t.ars1usd,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Limbos/Crear",{proyecto:t.proyecto,idep:t.idep,idorigen:t.idorigen,idpitch:t.idpitch,iddirector:t.iddirector,idcodirector:t.idcodirector,idtipoprod:t.idtipoprod,impcosto:t.impcosto,porcontingencia:t.porcontingencia,porgastosfijo:t.porgastosfijo,porganancia:t.porganancia,porfeedireccion:t.porfeedireccion,porotrosgastos:t.porotrosgastos,porcostofinanciero:t.porcostofinanciero,porimpuestoycomision:t.porimpuestoycomision,idtipoproy:t.idtipoproy,idestado:t.idestado,fecingreso:t.fecingreso,fecadjudicacion:t.fecadjudicacion,aprobacion:!!t.idresultado&&t.aprobacion,fecaprobacion:t.idresultado?t.fecaprobacion:"",idresultado:t.idresultado,comentario:t.comentario,ars1usd:t.ars1usd,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},calculosAdicionales:function(){if(this.impventa&&this.porganancia)for(var t=0;t<this.tipoproys.length;t++)if(Number(this.impventa)>=this.tipoproys[t]["impvenmay"]&&Number(this.impventa)<this.tipoproys[t]["impvenmen"]&&Number(this.porganancia)>=this.tipoproys[t]["porganmay"]&&Number(this.porganancia)<this.tipoproys[t]["porganmen"]){this.idtipoproy=this.tipoproys[t]["value"];break}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.proyecto.length<3||this.proyecto.length>50)&&this.validaMensaje.push("El nombre del proyecto no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.idep||this.validaMensaje.push("Seleccione un Executive Producer."),this.idorigen||this.validaMensaje.push("Seleccione un Origen."),this.idpitch||this.validaMensaje.push("Seleccione un Pitch."),this.iddirector||this.validaMensaje.push("Seleccione un Director."),this.idtipoprod||this.validaMensaje.push("Seleccione un Tipo de Producción."),this.idtipoproy||this.validaMensaje.push("Error en parametrizacion del tipo de proyecto."),this.idestado||this.validaMensaje.push("Seleccione un Estado."),this.impcosto||this.validaMensaje.push("Ingrese un importe de Costo."),this.porganancia||this.validaMensaje.push("Ingrese un porcentaje de Ganancia."),this.impventa||this.validaMensaje.push("Ingrese un importe de Venta."),this.fecingreso||this.validaMensaje.push("Ingrese una fecha de ingreso."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.proyecto,this.adId=e.idlimbo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Limbos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Limbos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},St=jt,It=Object(b["a"])(St,At,Dt,!1,null,null,null),Mt=It.exports;g()(It,{VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VTextarea:kt["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Cierre de Prospectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1200px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))]),a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{label:"Nro Limbo",disabled:""},model:{value:t.orden,callback:function(e){t.orden=e},expression:"orden"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-text-field",{attrs:{label:"Nombre del Proyecto"},model:{value:t.proyecto,callback:function(e){t.proyecto=e},expression:"proyecto"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.estados,label:"Estado"},model:{value:t.idestado,callback:function(e){t.idestado=e},expression:"idestado"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchor,items:t.origenes,label:"Origen"},on:{"update:searchInput":function(e){t.searchor=e},"update:search-input":function(e){t.searchor=e}},model:{value:t.idorigen,callback:function(e){t.idorigen=e},expression:"idorigen"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.pitchs,label:"Pitch"},model:{value:t.idpitch,callback:function(e){t.idpitch=e},expression:"idpitch"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.tipoprods,label:"Tipo de Produccion"},model:{value:t.idtipoprod,callback:function(e){t.idtipoprod=e},expression:"idtipoprod"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{disabled:"",items:t.tipoproys,label:"Tipo de Proyecto"},model:{value:t.idtipoproy,callback:function(e){t.idtipoproy=e},expression:"idtipoproy"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchep,items:t.eps,label:"E.P."},on:{"update:searchInput":function(e){t.searchep=e},"update:search-input":function(e){t.searchep=e}},model:{value:t.idep,callback:function(e){t.idep=e},expression:"idep"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-autocomplete",{attrs:{"search-input":t.searchdi,items:t.directores,label:"Director"},on:{"update:searchInput":function(e){t.searchdi=e},"update:search-input":function(e){t.searchdi=e}},model:{value:t.iddirector,callback:function(e){t.iddirector=e},expression:"iddirector"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchco,items:t.directores,label:"Co-director"},on:{"update:searchInput":function(e){t.searchco=e},"update:search-input":function(e){t.searchco=e}},model:{value:t.idcodirector,callback:function(e){t.idcodirector=e},expression:"idcodirector"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Costo",type:"number"},on:{change:t.calcularDerivados},model:{value:t.impcosto,callback:function(e){t.impcosto=e},expression:"impcosto"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Contingencia",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porcontingencia,callback:function(e){t.porcontingencia=e},expression:"porcontingencia"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Gasto Fijo",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porgastosfijo,callback:function(e){t.porgastosfijo=e},expression:"porgastosfijo"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Ganacia",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porganancia,callback:function(e){t.porganancia=e},expression:"porganancia"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Fee dirección",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porfeedireccion,callback:function(e){t.porfeedireccion=e},expression:"porfeedireccion"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Otros Gastos",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porotrosgastos,callback:function(e){t.porotrosgastos=e},expression:"porotrosgastos"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Cto.Financiero",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porcostofinanciero,callback:function(e){t.porcostofinanciero=e},expression:"porcostofinanciero"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Imp. y Com.",type:"number"},on:{change:t.calcularDerivados},model:{value:t.porimpuestoycomision,callback:function(e){t.porimpuestoycomision=e},expression:"porimpuestoycomision"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Venta",type:"number",disabled:""},model:{value:t.impventa,callback:function(e){t.impventa=e},expression:"impventa"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Contribución",type:"number",disabled:""},model:{value:t.impcontribucion,callback:function(e){t.impcontribucion=e},expression:"impcontribucion"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"%",label:"Contribución",type:"number",disabled:""},model:{value:t.porcontribucion,callback:function(e){t.porcontribucion=e},expression:"porcontribucion"}})],1),[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Ingreso","prepend-icon":"event",readonly:""},model:{value:t.fecingreso,callback:function(e){t.fecingreso=e},expression:"fecingreso"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.fecingreso,callback:function(e){t.fecingreso=e},expression:"fecingreso"}})],1)],1)],[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Adjudicacion","prepend-icon":"event",readonly:"",clearable:""},model:{value:t.fecadjudicacion,callback:function(e){t.fecadjudicacion=e},expression:"fecadjudicacion"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{min:t.fecingreso},on:{input:function(e){t.menu2=!1}},model:{value:t.fecadjudicacion,callback:function(e){t.fecadjudicacion=e},expression:"fecadjudicacion"}})],1)],1)],a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{prefix:"$",label:"ARS/USD",type:"number"},model:{value:t.ars1usd,callback:function(e){t.ars1usd=e},expression:"ars1usd"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.resultados,clearable:"",label:"Resultado"},model:{value:t.idresultado,callback:function(e){t.idresultado=e},expression:"idresultado"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-textarea",{attrs:{"auto-grow":"",clearable:"",filled:"",label:"Comentarios"},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Prospecto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Prospecto?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el prospecto "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.limbos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[t._v(t._s(e.item.pitch))]),a("td",[t._v(t._s(e.item.director))]),a("td",[t._v(t._s(e.item.codirector))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.impcosto))]),a("td",[t._v(t._s(e.item.porcontingencia))]),a("td",[t._v(t._s(e.item.porgastosfijo))]),a("td",[t._v(t._s(e.item.porganancia))]),a("td",[t._v(t._s(e.item.porfeedireccion))]),a("td",[t._v(t._s(e.item.porotrosgastos))]),a("td",[t._v(t._s(e.item.porcostofinanciero))]),a("td",[t._v(t._s(e.item.porimpuestoycomision))]),a("td",[t._v(t._s(e.item.impventa.toFixed(2)))]),a("td",[t._v(t._s(e.item.impcontribucion.toFixed(2)))]),a("td",[t._v(t._s(e.item.porcontribucion.toFixed(2)))]),a("td",[t._v(t._s(e.item.tipoproy))]),a("td",[t._v(t._s(e.item.estado))]),a("td",[t._v(t._s(e.item.fecingreso.substr(0,10)))]),a("td",[e.item.fecadjudicacion?a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion.substr(0,10))+"\n                    ")]):a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion)+"\n                    ")])]),a("td",[t._v(t._s(e.item.resultado))]),a("td",[e.item.aprobacion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.fecaprobacion))]),a("td",[t._v(t._s(e.item.comentario?e.item.comentario.substr(0,50):""))]),a("td",[t._v(t._s(e.item.ars1usd?e.item.ars1usd.toFixed(2):""))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Pt=[],Vt={data:function(){return{menu1:"",menu2:"",menu3:"",menu4:"",menu5:"",searchep:"",searchor:"",searchag:"",searchdi:"",searchco:"",searchcl:"",origenes:[],eps:[],pitchs:[],directores:[],tipoprods:[],tipoproys:[],estados:[],resultados:[],snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Nombre del Proyecto",value:"proyecto"},{text:"Executive Producer",value:"ep"},{text:"Nombre del Origen",value:"origen"},{text:"Territorio",value:"territorio"},{text:"Tipo de Pitch",value:"pitch"},{text:"Nombre Director",value:"director"},{text:"Nombre Co-director",value:"codirector"},{text:"Tipo Produción",value:"tipoprod"},{text:"Costo",value:"impcosto"},{text:"%Cont",value:"porcontingencia"},{text:"%GtsFijo",value:"porgastosfijo"},{text:"%Gan",value:"porganancia"},{text:"%FeeDir",value:"porfeedireccion"},{text:"%OtrGts",value:"porotrosgastos"},{text:"%CtoFin",value:"porcostofinanciero"},{text:"%Imp&Com",value:"porimpuestoycomision"},{text:"U$D Venta",value:"impventa"},{text:"U$S CMarg.",value:"impcontribucion"},{text:"%CMarg.",value:"porcontribucion"},{text:"Tipo de Proyecto",value:"tipoproy"},{text:"ARS/USD",value:"ars1usd",sortable:!0},{text:"Estado",value:"estado"},{text:"Fecha Ingreso",value:"fecingreso"},{text:"Fecha Adjudic",value:"fecadjudicacion"},{text:"Resultado",value:"resultado"},{text:"Aprobacion",value:"aprobacion"},{text:"Fecha Aprob",value:"fecaprobacion"},{text:"Comentario",value:"comentario"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fecha Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fecha Ult.Mod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idlimbo:"",orden:"",proyecto:"",idep:"",ep:"",idorigen:"",territorio:"",origen:"",idpitch:"",pitch:"",iddirector:"",director:"",idcodirector:"",codirector:"",idtipoprod:"",tipoprod:"",impcosto:0,porcontingencia:0,porgastosfijo:0,porganancia:0,porfeedireccion:0,porotrosgastos:0,porcostofinanciero:0,porimpuestoycomision:0,impventa:0,impcontribucion:0,porcontribucion:0,idtipoproy:"",tipoproy:"",idestado:"",estado:"",fecingreso:new Date((new Date).getTime()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),fecadjudicacion:"",aprobacion:!1,fecaprobacion:"",idresultado:"",resultado:"",comentario:"",ars1usd:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",limbos:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo aprobación":"Actualizar aprobación"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.select(),this.listar()},methods:{calcularDerivados:function(){this.impventa=this.impcosto*(1+this.porcontingencia/100)*(1+this.porgastosfijo/100+this.porganancia/100)*(1+this.porfeedireccion/100)*(1+this.porotrosgastos/100)*(1+this.porcostofinanciero/100)*(1+this.porimpuestoycomision/100),this.porcontribucion=100*(0!==Number(this.impventa)?(this.porganancia/100+this.porgastosfijo/100)*(1+this.porcontingencia/100)*this.impcosto/this.impventa:0),this.impcontribucion=this.impventa*this.porcontribucion/100,this.impventa=this.impventa.toFixed(2),this.impcontribucion=this.impcontribucion.toFixed(2),this.porcontribucion=this.porcontribucion.toFixed(2)},crearPDF:function(){var t=[{title:"Id",dataKey:"idlimbo"},{title:"Orden",dataKey:"orden"},{title:"Proyecto",dataKey:"proyecto"},{title:"Estado",dataKey:"activo"}],e=[];this.limbos.map((function(t){e.push({idlimbo:t.idlimbo,orden:t.orden,proyecto:t.proyecto,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Limbos",40,30)}}),a.save("Limbos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Limbos/Listar",a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Limbos/Listarusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o=[],s=[],r=[],n=[],c=[],d={Authorization:"Bearer "+this.$store.state.token},l={headers:d};W.a.get("api/Origenes/Select",l).then((function(a){e=a.data,e.map((function(e){t.origenes.push({text:e.origen,value:e.idorigen,territorio:e.territorio})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Pitchs/Select",l).then((function(e){i=e.data,i.map((function(e){t.pitchs.push({text:e.pitch,value:e.idpitch})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectDirectores",l).then((function(e){o=e.data,o.map((function(e){t.directores.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoprods/Select",l).then((function(e){s=e.data,s.map((function(e){t.tipoprods.push({text:e.tipoprod,value:e.idtipoprod})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoproys/Select",l).then((function(e){r=e.data,r.map((function(e){t.tipoproys.push({text:e.tipoproy,value:e.idtipoproy,impvenmay:e.impvenmay,impvenmen:e.impvenmen,porganmay:e.porganmay,porganmen:e.porganmen})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Estados/Select",l).then((function(e){n=e.data,n.map((function(e){t.estados.push({text:e.estado,value:e.idestado})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Resultados/Select",l).then((function(e){c=e.data,c.map((function(e){t.resultados.push({text:e.resultado,value:e.idresultado,esaprobacion:e.esaprobacion})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Personas/SelectEps",l).then((function(e){a=e.data,a.map((function(e){t.eps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Personas/SelectEpsusuario/"+t.$store.state.usuario.idusuario,l).then((function(e){a=e.data,a.map((function(e){t.eps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.idep=t.idep,this.idorigen=t.idorigen,this.idpitch=t.idpitch,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idtipoprod=t.idtipoprod,this.impcosto=t.impcosto,this.porcontingencia=t.porcontingencia,this.porgastosfijo=t.porgastosfijo,this.porganancia=t.porganancia,this.porfeedireccion=t.porfeedireccion,this.porotrosgastos=t.porotrosgastos,this.porcostofinanciero=t.porcostofinanciero,this.porimpuestoycomision=t.porimpuestoycomision,this.impventa=t.impventa.toFixed(0),this.impcontribucion=t.impcontribucion.toFixed(0),this.porcontribucion=t.porcontribucion.toFixed(2),this.idtipoproy=t.idtipoproy,this.idestado=t.idestado,this.fecingreso=t.fecingreso.substr(0,10),this.fecadjudicacion=t.fecadjudicacion?t.fecadjudicacion.substr(0,10):t.fecadjudicacion,this.aprobacion=t.aprobacion,this.fecaprobacion=t.fecaprobacion?t.fecaprobacion.substr(0,16):t.fecaprobacion,this.idresultado=t.idresultado,this.comentario=t.comentario,this.ars1usd=t.ars1usd,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){var t=new Date;this.idlimbo="",this.orden="",this.proyecto="",this.idep="",this.idorigen="",this.idpitch="",this.iddirector="",this.idcodirector="",this.idtipoprod="",this.impcosto=0,this.porcontingencia=0,this.porgastosfijo=0,this.porganancia=0,this.porfeedireccion=0,this.porotrosgastos=0,this.porcostofinanciero=0,this.porimpuestoycomision=0,this.impventa=0,this.impcontribucion=0,this.porcontribucion=0,this.idtipoproy="",this.idestado="",this.fecingreso=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().substr(0,10),this.fecadjudicacion="",this.aprobacion=!1,this.fecaprobacion="",this.idresultado="",this.comentario="",this.ars1usd=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(this.calculosAdicionales(),!this.validar()){var t=this,e=new Date,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};this.editedIndex>-1?W.a.put("api/Limbos/Actualizar",{idlimbo:t.idlimbo,orden:t.orden,proyecto:t.proyecto,idep:t.idep,idorigen:t.idorigen,idpitch:t.idpitch,iddirector:t.iddirector,idcodirector:t.idcodirector,idtipoprod:t.idtipoprod,impcosto:t.impcosto,porcontingencia:t.porcontingencia,porgastosfijo:t.porgastosfijo,porganancia:t.porganancia,porfeedireccion:t.porfeedireccion,porotrosgastos:t.porotrosgastos,porcostofinanciero:t.porcostofinanciero,porimpuestoycomision:t.porimpuestoycomision,idtipoproy:t.idtipoproy,idestado:t.idestado,fecingreso:t.fecingreso,fecadjudicacion:t.fecadjudicacion,aprobacion:t.aprobacion,fecaprobacion:t.fecaprobacion,idresultado:t.idresultado,comentario:t.comentario,ars1usd:t.ars1usd,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Limbos/Crear",{proyecto:t.proyecto,idep:t.idep,idorigen:t.idorigen,idpitch:t.idpitch,iddirector:t.iddirector,idcodirector:t.idcodirector,idtipoprod:t.idtipoprod,impcosto:t.impcosto,porcontingencia:t.porcontingencia,porgastosfijo:t.porgastosfijo,porganancia:t.porganancia,porfeedireccion:t.porfeedireccion,porotrosgastos:t.porotrosgastos,porcostofinanciero:t.porcostofinanciero,porimpuestoycomision:t.porimpuestoycomision,idtipoproy:t.idtipoproy,idestado:t.idestado,fecingreso:t.fecingreso,fecadjudicacion:t.fecadjudicacion,aprobacion:t.aprobacion,fecaprobacion:t.fecaprobacion,idresultado:t.idresultado,comentario:t.comentario,ars1usd:t.ars1usd,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},calculosAdicionales:function(){var t=this;if(this.impventa&&this.porganancia)for(var e=0;e<this.tipoproys.length;e++)if(Number(this.impventa)>=this.tipoproys[e]["impvenmay"]&&Number(this.impventa)<this.tipoproys[e]["impvenmen"]&&Number(this.porganancia)>=this.tipoproys[e]["porganmay"]&&Number(this.porganancia)<this.tipoproys[e]["porganmen"]){this.idtipoproy=this.tipoproys[e]["value"];break}if(this.resultados.filter((function(e){return e.value===t.idresultado})).map((function(t){return t.esaprobacion}))[0]){var a=new Date;this.aprobacion=!0,this.fecaprobacion=new Date(a.getTime()-6e4*a.getTimezoneOffset()).toISOString()}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.proyecto.length<3||this.proyecto.length>50)&&this.validaMensaje.push("El nombre del proyecto no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.idep||this.validaMensaje.push("Seleccione un Executive Producer."),this.idorigen||this.validaMensaje.push("Seleccione un Origen."),this.idpitch||this.validaMensaje.push("Seleccione un Pitch."),this.iddirector||this.validaMensaje.push("Seleccione un Director."),this.idtipoprod||this.validaMensaje.push("Seleccione un Tipo de Producción."),this.idtipoproy||this.validaMensaje.push("Error en parametrizacion del tipo de proyecto."),this.idestado||this.validaMensaje.push("Seleccione un Estado."),this.impcosto||this.validaMensaje.push("Ingrese un importe de Costo."),this.porganancia||this.validaMensaje.push("Ingrese un porcentaje de Ganancia."),this.impventa||this.validaMensaje.push("Ingrese un importe de Venta."),this.fecingreso||this.validaMensaje.push("Ingrese una fecha de ingreso."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.proyecto,this.adId=e.idlimbo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Limbos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Limbos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ft=Vt,Tt=Object(b["a"])(Ft,wt,Pt,!1,null,null,null),Ot=Tt.exports;g()(Tt,{VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VTextarea:kt["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Activar Proyectos Aprobados")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" \n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"450px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Activar "+t._s(t.pad(t.orden,5))+" - "+t._s(t.proyecto))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.activaproy,expression:"activaproy"}],attrs:{type:"checkbox",id:"activarpro"},domProps:{checked:Array.isArray(t.activaproy)?t._i(t.activaproy,null)>-1:t.activaproy},on:{change:function(e){var a=t.activaproy,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.activaproy=a.concat([s])):r>-1&&(t.activaproy=a.slice(0,r).concat(a.slice(r+1)))}else t.activaproy=o}}}),a("label",{attrs:{for:"activarpro"}},[t._v(" Proyecto? ("+t._s(t.pad(t.orden,5))+")")])]),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Prospecto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Prospecto?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el prospecto "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.limbos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")])],1),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[t._v(t._s(e.item.pitch))]),a("td",[t._v(t._s(e.item.director))]),a("td",[t._v(t._s(e.item.codirector))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.impcosto))]),a("td",[t._v(t._s(e.item.porcontingencia))]),a("td",[t._v(t._s(e.item.porgastosfijo))]),a("td",[t._v(t._s(e.item.porganancia))]),a("td",[t._v(t._s(e.item.porfeedireccion))]),a("td",[t._v(t._s(e.item.porotrosgastos))]),a("td",[t._v(t._s(e.item.porcostofinanciero))]),a("td",[t._v(t._s(e.item.porimpuestoycomision))]),a("td",[t._v(t._s(e.item.impventa))]),a("td",[t._v(t._s(e.item.impcontribucion))]),a("td",[t._v(t._s(e.item.porcontribucion.toFixed(2)))]),a("td",[t._v(t._s(e.item.tipoproy))]),a("td",[t._v(t._s(e.item.estado))]),a("td",[t._v(t._s(e.item.fecingreso.substr(0,10)))]),a("td",[e.item.fecadjudicacion?a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion.substr(0,10))+"\n                    ")]):a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion)+"\n                    ")])]),a("td",[t._v(t._s(e.item.resultado))]),a("td",[e.item.aprobacion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.fecaprobacion))]),a("td",[t._v(t._s(e.item.comentario?e.item.comentario.substr(0,50):""))]),a("td",[t._v(t._s(e.item.ars1usd?e.item.ars1usd.toFixed(2):""))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},zt=[],Bt={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Nombre del Proyecto",value:"proyecto"},{text:"Executive Producer",value:"ep"},{text:"Nombre del Origen",value:"origen"},{text:"Territorio",value:"territorio"},{text:"Tipo de Pitch",value:"pitch"},{text:"Nombre Director",value:"director"},{text:"Nombre Co-director",value:"codirector"},{text:"Tipo Produción",value:"tipoprod"},{text:"Costo",value:"impcosto"},{text:"%Cont",value:"porcontingencia"},{text:"%GtsFijo",value:"porgastosfijo"},{text:"%Gan",value:"porganancia"},{text:"%FeeDir",value:"porfeedireccion"},{text:"%OtrGts",value:"porotrosgastos"},{text:"%CtoFin",value:"porcostofinanciero"},{text:"%Imp&Com",value:"porimpuestoycomision"},{text:"U$D Venta",value:"impventa"},{text:"U$S CMarg.",value:"impcontribucion"},{text:"%CMarg.",value:"porcontribucion"},{text:"Tipo de Proyecto",value:"tipoproy"},{text:"Estado",value:"estado"},{text:"Fecha Ingreso",value:"fecingreso"},{text:"Fecha Adjudic",value:"fecadjudicacion"},{text:"Resultado",value:"resultado"},{text:"Aprobacion",value:"aprobacion"},{text:"Fecha de Aprobación",value:"fecaprobacion"},{text:"Comentario",value:"comentario"},{text:"ARS/USD",value:"ars1usd",sortable:!0},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fecha Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fecha Ult.Mod",value:"fecumod",sortable:!0}],search:"",activapitch:!1,activaproy:!1,idlimbo:"",orden:"",proyecto:"",idep:"",ep:"",idorigen:"",idpitch:"",iddirector:"",idcodirector:"",idtipoprod:"",impcosto:"",porcontingencia:"",porgastosfijo:"",porganancia:"",porfeedireccion:"",porotrosgastos:"",porcostofinanciero:"",porimpuestoycomision:"",impventa:"",impcontribucion:"",porcontribucion:"",idtipoproy:"",idestado:"",fecingreso:"",fecadjudicacion:"",aprobacion:!1,fecaprobacion:"",idresultado:"",resultado:"",comentario:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",limbos:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{pad:function(t,e,a){return a=a||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(a)+t},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Limbos/ListarAprobados",a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Limbos/ListarAprobadosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.idep=t.idep,this.idorigen=t.idorigen,this.idpitch=t.idpitch,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idtipoprod=t.idtipoprod,this.impcosto=t.impcosto,this.porcontingencia=t.porcontingencia,this.porgastosfijo=t.porgastosfijo,this.porganancia=t.porganancia,this.porfeedireccion=t.porfeedireccion,this.porotrosgastos=t.porotrosgastos,this.porcostofinanciero=t.porcostofinanciero,this.porimpuestoycomision=t.porimpuestoycomision,this.impventa=t.impventa,this.impcontribucion=t.impcontribucion,this.porcontribucion=t.porcontribucion,this.idtipoproy=t.idtipoproy,this.idestado=t.idestado,this.fecingreso=t.fecingreso.substr(0,10),this.fecadjudicacion=t.fecadjudicacion?t.fecadjudicacion.substr(0,10):t.fecadjudicacion,this.aprobacion=t.aprobacion,this.fecaprobacion=t.fecaprobacion?t.fecaprobacion.substr(0,16):t.fecaprobacion,this.idresultado=t.idresultado,this.comentario=t.comentario,this.ars1usd=t.ars1usd,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){var t=new Date;this.idlimbo="",this.orden="",this.proyecto="",this.idep="",this.idorigen="",this.idpitch="",this.iddirector="",this.idcodirector="",this.idtipoprod="",this.impcosto="",this.porcontingencia="",this.porgastosfijo="",this.porganancia="",this.porfeedireccion="",this.porotrosgastos="",this.porcostofinanciero="",this.porimpuestoycomision="",this.impventa="",this.impcontribucion="",this.porcontribucion="",this.idtipoproy="",this.idestado="",this.fecingreso=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().substr(0,10),this.fecadjudicacion="",this.aprobacion=!1,this.fecaprobacion="",this.idresultado="",this.comentario="",this.ars1usd=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod=""},guardar:function(){if(!this.validar()){var t=this,e=(new Date,{Authorization:"Bearer "+this.$store.state.token}),a={headers:e};this.activapitch&&W.a.post("api/Proyectos/Crear",{idraiz:"",orden:t.pad(t.orden,5)+"A",proyecto:"[Pitch] "+t.proyecto,idtipoprod:t.idtipoprod,idempresa:"",idorigen:t.idorigen,idagencia:"",idproductora:"",idcliente:"",iddirector:t.iddirector,idcodirector:t.idcodirector,idep:t.idep,idlp:"",idcp:"",ars1usd:t.as1usd,fecadjudicacion:t.fecadjudicacion?t.fecadjudicacion:t.fecaprobacion.substr(0,10),fecdesdxd:"",fechasdxd:"",fecdescf:"",fechascf:"",fecrodaje:"",fecoffline:"",feconline:"",iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),this.activaproy&&W.a.post("api/Proyectos/Crear",{idraiz:"",orden:t.pad(t.orden,5),proyecto:t.proyecto,idtipoprod:t.idtipoprod,idempresa:"",idorigen:t.idorigen,idagencia:"",idproductora:"",idcliente:"",iddirector:t.iddirector,idcodirector:t.idcodirector,idep:t.idep,idlp:"",idcp:"",ars1usd:t.ars1usd,fecadjudicacion:t.fecadjudicacion?t.fecadjudicacion:t.fecaprobacion.substr(0,10),fecdesdxd:"",fechasdxd:"",fecdescf:"",fechascf:"",fecrodaje:"",fecoffline:"",feconline:"",iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.proyecto.length<3||this.proyecto.length>50)&&this.validaMensaje.push("El nombre del proyecto no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.idep||this.validaMensaje.push("Seleccione un Executive Producer."),this.idorigen||this.validaMensaje.push("Seleccione un Origen."),this.idpitch||this.validaMensaje.push("Seleccione un Pitch."),this.iddirector||this.validaMensaje.push("Seleccione un Director."),this.idtipoprod||this.validaMensaje.push("Seleccione un Tipo de Producción."),this.idtipoproy||this.validaMensaje.push("Error en parametrizacion del tipo de proyecto."),this.idestado||this.validaMensaje.push("Seleccione un Estado."),this.impcosto||this.validaMensaje.push("Ingrese un importe de Costo."),this.impventa||this.validaMensaje.push("Ingrese un importe de Venta."),this.fecingreso||this.validaMensaje.push("Ingrese una fecha de ingreso."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.proyecto,this.adId=e.idlimbo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Limbos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Limbos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},$t=Bt,Et=Object(b["a"])($t,Nt,zt,!1,null,null,null),Rt=Et.exports;g()(Et,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"Trafico",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Reunión de Tráfico")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.limbos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[t._v(t._s(e.item.pitch))]),a("td",[t._v(t._s(e.item.director))]),a("td",[t._v(t._s(e.item.codirector))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.tipoproy))]),a("td",[t._v(t._s(e.item.estado))]),a("td",[t._v(t._s(e.item.fecingreso.substr(0,10)))]),a("td",[e.item.fecadjudicacion?a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion.substr(0,10))+"\n                    ")]):a("div",[t._v("\n                        "+t._s(e.item.fecadjudicacion)+"\n                    ")])]),a("td",[t._v(t._s(e.item.comentario?e.item.comentario.substr(0,50):""))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Ut=[],qt={data:function(){return{json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],origenes:[],eps:[],pitchs:[],directores:[],tipoprods:[],tipoproys:[],estados:[],resultados:[],snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Orden",value:"orden"},{text:"Nombre del Proyecto",value:"proyecto"},{text:"Executive Producer",value:"ep"},{text:"Nombre del Origen",value:"origen"},{text:"Territorio",value:"territorio"},{text:"Tipo de Pitch",value:"pitch"},{text:"Nombre Director",value:"director"},{text:"Nombre Co-director",value:"codirector"},{text:"Tipo Produción",value:"tipoprod"},{text:"Tipo de Proyecto",value:"tipoproy"},{text:"Estado",value:"estado"},{text:"Fecha Ingreso",value:"fecingreso"},{text:"Fecha Adjudic",value:"fecadjudicacion"},{text:"Comentario",value:"comentario"}],search:"",editedIndex:-1,idlimbo:"",orden:"",proyecto:"",idep:"",ep:"",idorigen:"",origen:"",idpitch:"",pitch:"",iddirector:"",director:"",idcodirector:"",codirector:"",idtipoprod:"",tipoprod:"",impcosto:"",porcontingencia:"",porgastosfijo:"",porganancia:"",porfeedireccion:"",porotrosgastos:"",porcostofinanciero:"",porimpuestoycomision:"",impventa:"",porcontribucion:"",idtipoproy:"",tipoproy:"",idestado:"",estado:"",fecingreso:new Date((new Date).getTime()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),fecadjudicacion:"",aprobacion:!1,fecaprobacion:"",idresultado:"",resultado:"",comentario:"",ars1usd:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",limbos:[],validaMensaje:[],adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo prospecto":"Actualizar prospecto"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.select(),this.listar()},methods:{crearXLS:function(){this.json_fields={Orden:"orden",Proyecto:"proyecto",ExecutiveProducer:"ep",Origen:"origen",Pitch:"pitch",Director:"director",CoDirector:"codirector",TipoProduccion:"tipoprod",TipoProyecto:"tipoproy",Estado:"activo",FechaIngreso:{field:"fecingreso",callback:function(t){return t.substr(0,10)}},"FechaAdjud.":{field:"fecadjudicacion",callback:function(t){return t.substr(0,10)}},Comentario:"comentario"},this.json_data=this.limbos.filter((function(t){return!0===t.activo}))},crearPDF:function(){var t=[{title:"Id",dataKey:"idlimbo"},{title:"Orden",dataKey:"orden"},{title:"Proyecto",dataKey:"proyecto"},{title:"Estado",dataKey:"activo"}],e=[];this.limbos.map((function(t){e.push({idlimbo:t.idlimbo,orden:t.orden,proyecto:t.proyecto,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Limbos",40,30)}}),a.save("Limbos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Limbos/Listar",a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o=[],s=[],r=[],n=[],c=[],d={Authorization:"Bearer "+this.$store.state.token},l={headers:d};W.a.get("api/Origenes/Select",l).then((function(a){e=a.data,e.map((function(e){t.origenes.push({text:e.origen,value:e.idorigen})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectEps",l).then((function(e){a=e.data,a.map((function(e){t.eps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Pitchs/Select",l).then((function(e){i=e.data,i.map((function(e){t.pitchs.push({text:e.pitch,value:e.idpitch})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectDirectores",l).then((function(e){o=e.data,o.map((function(e){t.directores.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoprods/Select",l).then((function(e){s=e.data,s.map((function(e){t.tipoprods.push({text:e.tipoprod,value:e.idtipoprod})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoproys/Select",l).then((function(e){r=e.data,r.map((function(e){t.tipoproys.push({text:e.tipoproy,value:e.idtipoproy,impvenmay:e.impvenmay,impvenmen:e.impvenmen,porganmay:e.porganmay,porganmen:e.porganmen})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Estados/Select",l).then((function(e){n=e.data,n.map((function(e){t.estados.push({text:e.estado,value:e.idestado})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Resultados/Select",l).then((function(e){c=e.data,c.map((function(e){t.resultados.push({text:e.resultado,value:e.idresultado})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.idep=t.idep,this.idorigen=t.idorigen,this.idpitch=t.idpitch,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idtipoprod=t.idtipoprod,this.impcosto=t.impcosto,this.porcontingencia=t.porcontingencia,this.porgastosfijo=t.porgastosfijo,this.porganancia=t.porganancia,this.porfeedireccion=t.porfeedireccion,this.porotrosgastos=t.porotrosgastos,this.porcostofinanciero=t.porcostofinanciero,this.porimpuestoycomision=t.porimpuestoycomision,this.impventa=t.impventa,this.porcontribucion=t.porcontribucion,this.idtipoproy=t.idtipoproy,this.idestado=t.idestado,this.fecingreso=t.fecingreso.substr(0,10),this.fecadjudicacion=t.fecadjudicacion?t.fecadjudicacion.substr(0,10):t.fecadjudicacion,this.aprobacion=t.aprobacion,this.fecaprobacion=t.fecaprobacion?t.fecaprobacion.substr(0,16):t.fecaprobacion,this.idresultado=t.idresultado,this.comentario=t.comentario,this.ars1usd=t.ars1usd,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){var t=new Date;this.idlimbo="",this.orden="",this.proyecto="",this.idep="",this.idorigen="",this.idpitch="",this.iddirector="",this.idcodirector="",this.idtipoprod="",this.impcosto=0,this.porcontingencia=0,this.porgastosfijo=0,this.porganancia=0,this.porfeedireccion=0,this.porotrosgastos=0,this.porcostofinanciero=0,this.porimpuestoycomision=0,this.impventa=0,this.porcontribucion=0,this.idtipoproy="",this.idestado="",this.fecingreso=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().substr(0,10),this.fecadjudicacion="",this.aprobacion=!1,this.fecaprobacion="",this.idresultado="",this.comentario="",this.ars1usd=ars1usd,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1}}},Kt=qt,Gt=Object(b["a"])(Kt,Lt,Ut,!1,null,null,null),Ht=Gt.exports;g()(Gt,{VBtn:k["a"],VDataTable:ht["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Rubros")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Orden"},model:{value:t.orden,callback:function(e){t.orden=e},expression:"orden"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Rubro (ES)"},model:{value:t.rubroes,callback:function(e){t.rubroes=e},expression:"rubroes"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Rubro (EN)"},model:{value:t.rubroen,callback:function(e){t.rubroen=e},expression:"rubroen"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Rubro?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Rubro?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el rubro "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.rubros,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.rubroes))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Wt=[],Jt={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,rubros:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden",sortable:!0},{text:"Rubro (ES)",value:"rubroes",sortable:!0},{text:"Estado",value:"activo",sortable:!1}],search:"",editedIndex:-1,idrubro:"",orden:"",rubroes:"",rubroen:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo rubro":"Actualizar rubro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Orden",dataKey:"orden"},{title:"Rubroes",dataKey:"rubroes"},{title:"Rubroen",dataKey:"rubroen"}],e=[];this.rubros.map((function(t){e.push({orden:t.orden,rubroes:t.rubroes,rubroen:t.rubroen})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Rubros",40,30)}}),a.save("Rubros.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Rubros/Listar",a).then((function(e){t.rubros=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idrubro=t.idrubro,this.orden=t.orden,this.rubroes=t.rubroes,this.rubroen=t.rubroen,this.editedIndex=1,this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Esta seguro que desea borrar este registro?")&&this.desserts.splice(e,1)},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idrubro="",this.orden="",this.rubroes="",this.rubroen="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Rubros/Actualizar",{idrubro:a.idrubro,rubroes:a.rubroes,rubroen:a.rubroen,orden:a.orden},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Rubros/Crear",{rubroes:i.rubroes,rubroen:i.rubroen,orden:i.orden},e).then((function(t){console.log(t),i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.rubroes.length<3||this.rubroes.length>50)&&this.validaMensaje.push("El rubro (ES) debe tener más de 3 caracteres y menos de 50 caracteres"),(this.rubroen.length<3||this.rubroen.length>50)&&this.validaMensaje.push("El rubro (EN) debe tener más de 3 caracteres y menos de 50 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adId=e.idrubro,this.adNombre=e.rubroes,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Rubros/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Rubros/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adnombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Qt=Jt,Zt=Object(b["a"])(Qt,Yt,Wt,!1,null,null,null),Xt=Zt.exports;g()(Zt,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Subrubros")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Orden"},model:{value:t.orden,callback:function(e){t.orden=e},expression:"orden"}})],1),a("v-flex",{attrs:{xs10:"",sm10:"",md10:""}},[a("v-select",{attrs:{items:t.rubros,label:"Rubros"},model:{value:t.idrubro,callback:function(e){t.idrubro=e},expression:"idrubro"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Subrubro(ES)"},model:{value:t.subrubroes,callback:function(e){t.subrubroes=e},expression:"subrubroes"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Subrubro(EN)"},model:{value:t.subrubroen,callback:function(e){t.subrubroen=e},expression:"subrubroen"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vivo,expression:"vivo"}],attrs:{type:"checkbox",id:"vivo"},domProps:{checked:Array.isArray(t.vivo)?t._i(t.vivo,null)>-1:t.vivo},on:{change:function(e){var a=t.vivo,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.vivo=a.concat([s])):r>-1&&(t.vivo=a.slice(0,r).concat(a.slice(r+1)))}else t.vivo=o}}}),a("label",{attrs:{for:"vivo"}},[t._v(" Es Vivo?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post,expression:"post"}],attrs:{type:"checkbox",id:"post"},domProps:{checked:Array.isArray(t.post)?t._i(t.post,null)>-1:t.post},on:{change:function(e){var a=t.post,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.post=a.concat([s])):r>-1&&(t.post=a.slice(0,r).concat(a.slice(r+1)))}else t.post=o}}}),a("label",{attrs:{for:"post"}},[t._v(" Es Post?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.conf,expression:"conf"}],attrs:{type:"checkbox",id:"conf"},domProps:{checked:Array.isArray(t.conf)?t._i(t.conf,null)>-1:t.conf},on:{change:function(e){var a=t.conf,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.conf=a.concat([s])):r>-1&&(t.conf=a.slice(0,r).concat(a.slice(r+1)))}else t.conf=o}}}),a("label",{attrs:{for:"conf"}},[t._v(" Es Confidencial?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{type:"number",label:"#Hoja"},model:{value:t.numhoja,callback:function(e){t.numhoja=e},expression:"numhoja"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.subrubros,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.subrubroes))]),a("td",[t._v(t._s(e.item.rubroorden))]),a("td",[t._v(t._s(e.item.rubroes))]),a("td",[t._v(t._s(e.item.numhoja))]),a("td",[e.item.vivo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[e.item.post?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[e.item.conf?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},ee=[],ae={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,rubros:[],subrubros:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Subrubro (ES)",value:"subrubroes"},{text:"#Rubro",value:"rubroorden"},{text:"Rubro (ES)",value:"rubroes"},{text:"#Hoja",value:"numhoja"},{text:"Es Vivo?",value:"vivo"},{text:"Es Post?",value:"post"},{text:"Es Conf?",value:"conf"},{text:"Estado",value:"activo",sortable:!1}],search:"",editedIndex:-1,id:"",idrubro:"",rubroorden:"",orden:"",subrubroes:"",subrubroen:"",numhoja:"",vivo:!1,post:!1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo subrubro":"Actualizar subrurbro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"Orden",dataKey:"orden"},{title:"Rubro",dataKey:"idrubro"},{title:"Subrubroes",dataKey:"subrubroes"},{title:"Subrubroen",dataKey:"subrubroen"},{title:"#Hoja",dataKey:"numhoja"}],e=[];this.subrubros.map((function(t){e.push({orden:t.orden,idrubro:t.idrubro,subrubroes:t.subrubroes,subrubroen:t.subrubroen,numhoja:t.numhoja})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Subrubros",40,30)}}),a.save("Subrubros.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Subrubros/Listar",a).then((function(e){t.subrubros=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];W.a.get("api/Rubros/Select",a).then((function(e){i=e.data,i.map((function(e){t.rubros.push({text:e.orden+": "+e.rubroes,value:e.idrubro})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idsubrubro=t.idsubrubro,this.idrubro=t.idrubro,this.subrubroes=t.subrubroes,this.subrubroen=t.subrubroen,this.numhoja=t.numhoja,this.vivo=t.vivo,this.post=t.post,this.conf=t.conf,this.orden=t.orden,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idsubrubro="",this.idrubro="",this.subrubroes="",this.subrubroen="",this.orden="",this.numhoja="",this.vivo=!1,this.post=!1,this.conf=!1,this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Subrubros/Actualizar",{idsubrubro:a.idsubrubro,idrubro:a.idrubro,orden:a.orden,subrubroes:a.subrubroes,subrubroen:a.subrubroen,numhoja:a.numhoja,post:a.post,conf:a.conf,vivo:a.vivo},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Subrubros/Crear",{idrubro:i.idrubro,orden:i.orden,subrubroes:i.subrubroes,subrubroen:i.subrubroen,numhoja:i.numhoja,post:i.post,conf:i.conf,vivo:i.vivo},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.subrubroes.length<3||this.subrubroes.length>50)&&this.validaMensaje.push("El subrubro(ES) debe tener más de 3 caracteres y menos de 50 caracteres."),(this.subrubroen.length<3||this.subrubroen.length>50)&&this.validaMensaje.push("El subrubro(EN) debe tener más de 3 caracteres y menos de 50 caracteres."),this.idrubro||this.validaMensaje.push("Seleccione un rubro."),this.numhoja&&0!=this.numhoja||this.validaMensaje.push("Ingrese el numero de hoja."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.subrubroes,this.adId=e.idsubrubro,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Subrubros/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Subrubros/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},ie=ae,oe=Object(b["a"])(ie,te,ee,!1,null,null,null),se=oe.exports;g()(oe,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Items")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Orden"},model:{value:t.orden,callback:function(e){t.orden=e},expression:"orden"}})],1),a("v-flex",{attrs:{xs10:"",sm10:"",md10:""}},[a("v-select",{attrs:{items:t.subrubros,label:"Subrubros"},model:{value:t.idsubrubro,callback:function(e){t.idsubrubro=e},expression:"idsubrubro"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Item(ES)"},model:{value:t.itemes,callback:function(e){t.itemes=e},expression:"itemes"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Item(EN)"},model:{value:t.itemen,callback:function(e){t.itemen=e},expression:"itemen"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.esdxd,expression:"esdxd"}],attrs:{type:"checkbox",id:"dd"},domProps:{checked:Array.isArray(t.esdxd)?t._i(t.esdxd,null)>-1:t.esdxd},on:{change:function(e){var a=t.esdxd,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.esdxd=a.concat([s])):r>-1&&(t.esdxd=a.slice(0,r).concat(a.slice(r+1)))}else t.esdxd=o}}}),a("label",{attrs:{for:"dd"}},[t._v(" Es DxD Shoot?")])]),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.espost,expression:"espost"}],attrs:{type:"checkbox",id:"po"},domProps:{checked:Array.isArray(t.espost)?t._i(t.espost,null)>-1:t.espost},on:{change:function(e){var a=t.espost,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.espost=a.concat([s])):r>-1&&(t.espost=a.slice(0,r).concat(a.slice(r+1)))}else t.espost=o}}}),a("label",{attrs:{for:"po"}},[t._v(" Es DxD Post?")])]),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.esmotion,expression:"esmotion"}],attrs:{type:"checkbox",id:"mo"},domProps:{checked:Array.isArray(t.esmotion)?t._i(t.esmotion,null)>-1:t.esmotion},on:{change:function(e){var a=t.esmotion,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.esmotion=a.concat([s])):r>-1&&(t.esmotion=a.slice(0,r).concat(a.slice(r+1)))}else t.esmotion=o}}}),a("label",{attrs:{for:"mo"}},[t._v(" Es DxD Motion?")])]),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tienesubitems,expression:"tienesubitems"}],attrs:{type:"checkbox",id:"chksubitems"},domProps:{checked:Array.isArray(t.tienesubitems)?t._i(t.tienesubitems,null)>-1:t.tienesubitems},on:{change:function(e){var a=t.tienesubitems,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.tienesubitems=a.concat([s])):r>-1&&(t.tienesubitems=a.slice(0,r).concat(a.slice(r+1)))}else t.tienesubitems=o}}}),a("label",{attrs:{for:"chksubitems"}},[t._v(" Subitems?")])]),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",label:"Cuenta GCOM"},model:{value:t.cuentagcom,callback:function(e){t.cuentagcom=e},expression:"cuentagcom"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",[t._v(t._s(e.item.subrubroorden))]),a("td",[t._v(t._s(e.item.subrubroes))]),a("td",[e.item.esdxd?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.espost?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.esmotion?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.vivo?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.post?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.conf?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.tienesubitems?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.cuentagcom))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},ne=[],ce={data:function(){return{snackbar:!1,snacktext:"",timeout:4e3,items:[],subrubros:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Item (ES)",value:"itemes"},{text:"#Subrubro",value:"subrubroorden"},{text:"Subrubro (ES)",value:"subrubroes"},{text:"DxD Shoot?",value:"esdxd"},{text:"DxD Post?",value:"espost"},{text:"DxD Motion?",value:"esmotion"},{text:"Es Vivo?",value:"vivo"},{text:"Es Post?",value:"post"},{text:"Es Conf?",value:"conf"},{text:"Tiene Subitems?",value:"tienesubitems"},{text:"Cuenta GCOM",value:"cuentagcom"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,id:"",idsubrubro:"",orden:"",subrubroes:"",itemes:"",subrubroen:"",itemen:"",esdxd:!1,espost:!1,esmotion:!1,tienesubitems:!1,cuentagcom:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo item":"Actualizar item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"Orden",dataKey:"orden"},{title:"Subrubro",dataKey:"subrubroes"},{title:"Itemes",dataKey:"itemes"},{title:"Es DxD",dataKey:"esdxd"},{title:"Es Post",dataKey:"espost"},{title:"Es Motion",dataKey:"esmotion"},{title:"Tiene Subitems?",dataKey:"tienesubitems"},{title:"Cuenta GCOM",dataKey:"cuentagcom"}],e=[];this.items.map((function(t){e.push({orden:t.orden,subrubroes:t.subrubroes,itemes:t.itemes,esdxd:t.esdxd,espost:t.espost,esmotion:t.esmotion,tienesubitems:t.tienesubitems,cuentagcom:t.cuentagcom})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Items",40,30)}}),a.save("Items.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Items/Listar",a).then((function(e){t.items=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];W.a.get("api/Subrubros/Select",a).then((function(e){i=e.data,i.map((function(e){t.subrubros.push({text:e.orden+": "+e.subrubroes,value:e.idsubrubro})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.iditem=t.iditem,this.idsubrubro=t.idsubrubro,this.itemes=t.itemes,this.itemen=t.itemen,this.esdxd=t.esdxd,this.espost=t.espost,this.esmotion=t.esmotion,this.tienesubitems=t.tienesubitems,this.cuentagcom=t.cuentagcom,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.orden=t.orden,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.iditem="",this.idsubrubro="",this.itemes="",this.itemen="",this.orden="",this.esdxd=!1,this.espost=!1,this.esmotion=!1,this.tienesubitems=!1,this.cuentagcom="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Items/Actualizar",{iditem:i.iditem,idsubrubro:i.idsubrubro,orden:i.orden,itemes:i.itemes,itemen:i.itemen,esdxd:i.esdxd,espost:i.espost,esmotion:i.esmotion,tienesubitems:i.tienesubitems,cuentagcom:i.cuentagcom,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Items/Crear",{idsubrubro:o.idsubrubro,orden:o.orden,itemes:o.itemes,itemen:o.itemen,esdxd:o.esdxd,espost:o.espost,esmotion:o.esmotion,tienesubitems:o.tienesubitems,cuentagcom:o.cuentagcom,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.itemes.length<3||this.itemes.length>50)&&this.validaMensaje.push("El item(ES) debe tener más de 3 caracteres y menos de 50 caracteres."),(this.itemen.length<3||this.itemen.length>50)&&this.validaMensaje.push("El item(EN) debe tener más de 3 caracteres y menos de 50 caracteres."),this.idsubrubro||this.validaMensaje.push("Seleccione un subrubro."),this.esdxd&&(this.espost||this.esmotion)&&this.validaMensaje.push("Combinacion inválida de selectores."),this.espost&&(this.esdxd||this.esmotion)&&this.validaMensaje.push("Combinacion inválida de selectores."),this.cuentagcom.length>6&&this.validaMensaje.push("La cuenta gcom no debe sobrepasar los 6 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.itemes,this.adId=e.iditem,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Items/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Items/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},de=ce,le=Object(b["a"])(de,re,ne,!1,null,null,null),ue=le.exports;g()(le,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Subitems")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Orden"},model:{value:t.orden,callback:function(e){t.orden=e},expression:"orden"}})],1),a("v-flex",{attrs:{xs10:"",sm10:"",md10:""}},[a("v-select",{attrs:{items:t.items,label:"Item"},model:{value:t.iditem,callback:function(e){t.iditem=e},expression:"iditem"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Subitem(ES)"},model:{value:t.subitemes,callback:function(e){t.subitemes=e},expression:"subitemes"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Subitem(EN)"},model:{value:t.subitemen,callback:function(e){t.subitemen=e},expression:"subitemen"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Subitem?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Subitem?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el subitem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.subitems,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},pe=[],he={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,subitems:[],items:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Subitem (ES)",value:"subitemes"},{text:"#Item",value:"itemorden"},{text:"Item (ES)",value:"itemes"},{text:"Estado",value:"activo",sortable:!1}],search:"",editedIndex:-1,id:"",iditem:"",orden:"",subitemes:"",subitemen:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo subitem":"Actualizar subitem"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"Orden",dataKey:"orden"},{title:"Item",dataKey:"iditem"},{title:"Subitemes",dataKey:"subitemes"},{title:"Subitemen",dataKey:"subitemen"}],e=[];this.subitems.map((function(t){e.push({orden:t.orden,iditem:t.iditem,subitemes:t.subitemes,subitemen:t.subitemen})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Subitems",40,30)}}),a.save("Subitems.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Subitems/Listar",a).then((function(e){t.subitems=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];W.a.get("api/Subitems/SelectItems",a).then((function(e){i=e.data,i.map((function(e){t.items.push({text:e.orden+": "+e.itemes,value:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idsubitem=t.idsubitem,this.iditem=t.iditem,this.subitemes=t.subitemes,this.subitemen=t.subitemen,this.orden=t.orden,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idsubitem="",this.iditem="",this.subitemes="",this.subitemen="",this.orden="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Subitems/Actualizar",{idsubitem:a.idsubitem,iditem:a.iditem,orden:a.orden,subitemes:a.subitemes,subitemen:a.subitemen},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Subitems/Crear",{iditem:i.iditem,orden:i.orden,subitemes:i.subitemes,subitemen:i.subitemen},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.subitemes.length<1||this.subitemes.length>50)&&this.validaMensaje.push("El subitem(ES) debe tener más de 1 caracter y menos de 50 caracteres."),(this.subitemen.length<1||this.subitemen.length>50)&&this.validaMensaje.push("El subitem(EN) debe tener más de 1 caracter y menos de 50 caracteres."),this.iditem||this.validaMensaje.push("Seleccione un item."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.subitemes,this.adId=e.idsubitem,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Subitems/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Subitems/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},fe=he,be=Object(b["a"])(fe,ve,pe,!1,null,null,null),xe=be.exports;g()(be,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Paises")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Pais"},model:{value:t.pais,callback:function(e){t.pais=e},expression:"pais"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"CUIT"},model:{value:t.cuit,callback:function(e){t.cuit=e},expression:"cuit"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.paises,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.pais))]),a("td",[t._v(t._s(e.item.cuit))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},_e=[],ke={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Pais",value:"pais"},{text:"CUIT",value:"cuit"},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idpais:"",pais:"",cuit:"",paises:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo país":"Actualizar país"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idpais"},{title:"Pais",dataKey:"pais"},{title:"CUIT",dataKey:"cuit"},{title:"Estado",dataKey:"activo"}],e=[];this.paises.map((function(t){e.push({idpais:t.idpais,pais:t.pais,cuit:t.cuit,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Paises",40,30)}}),a.save("Paises.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Paises/Listar",a).then((function(e){t.paises=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idpais=t.idpais,this.pais=t.pais,this.cuit=t.cuit,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idpais="",this.pais="",this.cuit="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Paises/Actualizar",{idpais:a.idpais,pais:a.pais,cuit:a.cuit},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Paises/Crear",{pais:i.pais,cuit:i.cuit},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.pais.length<3||this.pais.length>50)&&this.validaMensaje.push("El nombre del pais no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.pais,this.adId=e.idpais,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Paises/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Paises/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ce=ke,ye=Object(b["a"])(Ce,ge,_e,!1,null,null,null),Ae=ye.exports;g()(ye,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Provincias")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Provincia"},model:{value:t.provincia,callback:function(e){t.provincia=e},expression:"provincia"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.provincias,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.idprovincia))]),a("td",[t._v(t._s(e.item.provincia))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},je=[],Se={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Id",value:"idprovincia",sortable:!0},{text:"Provincia",value:"provincia"},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idprovincia:"",provincia:"",provincias:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva provincia":"Actualizar provincia"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idprovincia"},{title:"Provincia",dataKey:"provincia"},{title:"Estado",dataKey:"activo"}],e=[];this.provincias.map((function(t){e.push({idprovincia:t.idprovincia,provincia:t.provincia,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Provincias",40,30)}}),a.save("Provincias.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Provincias/Listar",a).then((function(e){t.provincias=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idprovincia=t.idprovincia,this.provincia=t.provincia,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idprovincia="",this.provincia="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Provincias/Actualizar",{idprovincia:a.idprovincia,provincia:a.provincia},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Provincias/Crear",{provincia:i.provincia},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.provincia.length<3||this.provincia.length>50)&&this.validaMensaje.push("El nombre de la provincia no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.provincia,this.adId=e.idprovincia,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Provincias/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Provincias/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ie=Se,Me=Object(b["a"])(Ie,De,je,!1,null,null,null),we=Me.exports;g()(Me,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Territorios")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Territorio"},model:{value:t.territorio,callback:function(e){t.territorio=e},expression:"territorio"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.territorios,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.idterritorio))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Ve=[],Fe={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Id",value:"idterritorio",sortable:!0},{text:"Territorio",value:"territorio"},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idterritorio:"",territorio:"",territorios:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo territorio":"Actualizar territorio"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idterritorio"},{title:"Territorio",dataKey:"territorio"},{title:"Estado",dataKey:"activo"}],e=[];this.territorios.map((function(t){e.push({idterritorio:t.idterritorio,territorio:t.territorio,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Territorios",40,30)}}),a.save("Territorios.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Territorios/Listar",a).then((function(e){t.territorios=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idterritorio=t.idterritorio,this.territorio=t.territorio,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idterritorio="",this.territorio="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Territorios/Actualizar",{idterritorio:a.idterritorio,territorio:a.territorio},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Territorios/Crear",{territorio:i.territorio},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.territorio.length<3||this.territorio.length>50)&&this.validaMensaje.push("El nombre del territorio no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.territorio,this.adId=e.idterritorio,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Territorios/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Territorios/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Te=Fe,Oe=Object(b["a"])(Te,Pe,Ve,!1,null,null,null),Ne=Oe.exports;g()(Oe,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Tipos de Producción")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Tipo de producción"},model:{value:t.tipoprod,callback:function(e){t.tipoprod=e},expression:"tipoprod"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"350"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Tipo producción?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Tipo producción?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el tipo de producción "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.tipoproys,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Be=[],$e={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Tipoprod",value:"tipoprod"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idtipoprod:"",tipoprod:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",tipoproys:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo tipo producción":"Actualizar tipo producción"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idtipoprod"},{title:"Tipo producción",dataKey:"tipoprod"},{title:"Estado",dataKey:"activo"}],e=[];this.tipoproys.map((function(t){e.push({idtipoprod:t.idtipoprod,tipoprod:t.tipoprod,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Tipoprods",40,30)}}),a.save("Tipoprods.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Tipoprods/Listar",a).then((function(e){t.tipoproys=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idtipoprod=t.idtipoprod,this.tipoprod=t.tipoprod,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idtipoprod="",this.tipoprod="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Tipoprods/Actualizar",{idtipoprod:i.idtipoprod,tipoprod:i.tipoprod,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Tipoprods/Crear",{tipoprod:o.tipoprod,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.tipoprod.length<3||this.tipoprod.length>50)&&this.validaMensaje.push("El nombre del tipo de producción no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.tipoprod,this.adId=e.idtipoprod,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Tipoprods/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Tipoprods/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ee=$e,Re=Object(b["a"])(Ee,ze,Be,!1,null,null,null),Le=Re.exports;g()(Re,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Tipos de Proyecto")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Tipo de proyecto"},model:{value:t.tipoproy,callback:function(e){t.tipoproy=e},expression:"tipoproy"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-text-field",{attrs:{label:"Descripcion"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"$Vta Desde",type:"number"},model:{value:t.impvenmay,callback:function(e){t.impvenmay=e},expression:"impvenmay"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"$Vta Hasta",type:"number"},model:{value:t.impvenmen,callback:function(e){t.impvenmen=e},expression:"impvenmen"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"%Gan Desde",type:"number"},model:{value:t.porganmay,callback:function(e){t.porganmay=e},expression:"porganmay"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"%Gan Hasta",type:"number"},model:{value:t.porganmen,callback:function(e){t.porganmen=e},expression:"porganmen"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"350"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Tipo proyecto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Tipo proyecto?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el tipo de proyecto "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.tipoproys,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.tipoproy))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[t._v(t._s(e.item.impvenmay))]),a("td",[t._v(t._s(e.item.impvenmen))]),a("td",[t._v(t._s(e.item.porganmay))]),a("td",[t._v(t._s(e.item.porganmen))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},qe=[],Ke={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Tipoproy",value:"tipoproy"},{text:"Descripcion",value:"descripcion"},{text:"$Vta.desde",value:"impvenmay"},{text:"$Vta.hasta",value:"impvenmen"},{text:"%Gan.desde",value:"porganmay"},{text:"%Gan.hasta",value:"porganmen"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idtipoproy:"",tipoproy:"",descripcion:"",impvenmay:0,impvenmen:0,porganmay:0,porganmen:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",tipoproys:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo tipo proyecto":"Actualizar tipo proyecto"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idtipoproy"},{title:"Tipo proyecto",dataKey:"tipoproy"},{title:"Descripcion",dataKey:"descripcion"},{title:"$VenDde",dataKey:"impvenmay"},{title:"$VenHta",dataKey:"impvenmen"},{title:"%GanDde",dataKey:"porganmay"},{title:"%GanHta",dataKey:"porganmen"},{title:"Estado",dataKey:"activo"}],e=[];this.tipoproys.map((function(t){e.push({idtipoproy:t.idtipoproy,tipoproy:t.tipoproy,descripcion:t.descripcion,impvenmay:t.impvenmay,impvenmen:t.impvenmen,porganmay:t.porganmay,porganmen:t.porganmen,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Tipoproys",40,30)}}),a.save("Tipoproys.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Tipoproys/Listar",a).then((function(e){t.tipoproys=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idtipoproy=t.idtipoproy,this.tipoproy=t.tipoproy,this.descripcion=t.descripcion,this.impvenmay=t.impvenmay,this.impvenmen=t.impvenmen,this.porganmay=t.porganmay,this.porganmen=t.porganmen,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idtipoproy="",this.tipoproy="",this.descripcion="",this.impvenmay="",this.impvenmen="",this.porganmay="",this.porganmen="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Tipoproys/Actualizar",{idtipoproy:i.idtipoproy,tipoproy:i.tipoproy,descripcion:i.descripcion,impvenmay:i.impvenmay,impvenmen:i.impvenmen,porganmay:i.porganmay,porganmen:i.porganmen,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Tipoproys/Crear",{tipoproy:o.tipoproy,descripcion:o.descripcion,impvenmay:o.impvenmay,impvenmen:o.impvenmen,porganmay:o.porganmay,porganmen:o.porganmen,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.tipoproy.length<3||this.tipoproy.length>50)&&this.validaMensaje.push("El nombre del tipo de proyecto no debe tener menos de 3 caracteres y mas de 50 caracteres."),(this.descripcion.length<3||this.descripcion.length>100)&&this.validaMensaje.push("El descripcion del tipo de proyecto no debe tener menos de 3 caracteres y mas de 100 caracteres."),this.impvenmay||this.validaMensaje.push("Ingrese un importe de venta (desde)"),this.impvenmen||this.validaMensaje.push("Ingrese un importe de venta (hasta)"),this.porganmay||this.validaMensaje.push("Ingrese un porcentaje de ganancia (desde)"),this.porganmen||this.validaMensaje.push("Ingrese un porcentaje de ganancia (hasta)"),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.tipoproy+": "+e.descripcion,this.adId=e.idtipoproy,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Tipoproys/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Tipoproys/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ge=Ke,He=Object(b["a"])(Ge,Ue,qe,!1,null,null,null),Ye=He.exports;g()(He,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Agencias")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Agencia"},model:{value:t.agencia,callback:function(e){t.agencia=e},expression:"agencia"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.agencias,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.idagencia))]),a("td",[t._v(t._s(e.item.agencia))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Je=[],Qe={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Id",value:"idagencia",sortable:!0},{text:"Agencia",value:"agencia"},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idagencia:"",agencia:"",agencias:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo agencia":"Actualizar agencia"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idagencia"},{title:"Agencia",dataKey:"agencia"},{title:"Estado",dataKey:"activo"}],e=[];this.agencias.map((function(t){e.push({idagencia:t.idagencia,agencia:t.agencia,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Agencias",40,30)}}),a.save("Agencias.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Agencias/Listar",a).then((function(e){t.agencias=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idagencia=t.idagencia,this.agencia=t.agencia,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idagencia="",this.agencia="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Agencias/Actualizar",{idagencia:a.idagencia,agencia:a.agencia},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Agencias/Crear",{agencia:i.agencia},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.agencia.length<3||this.agencia.length>50)&&this.validaMensaje.push("El nombre de la agencia no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.agencia,this.adId=e.idagencia,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Agencias/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Agencias/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ze=Qe,Xe=Object(b["a"])(Ze,We,Je,!1,null,null,null),ta=Xe.exports;g()(Xe,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Bancos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Banco"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.bancos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.idbanco))]),a("td",[t._v(t._s(e.item.nombre))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},aa=[],ia={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Id",value:"idbanco",sortable:!0},{text:"Banco",value:"banco"},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idbanco:"",nombre:"",bancos:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo banco":"Actualizar banco"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idbanco"},{title:"Banco",dataKey:"nombre"},{title:"Estado",dataKey:"activo"}],e=[];this.bancos.map((function(t){e.push({idbanco:t.idbanco,nombre:t.nombre,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Bancos",40,30)}}),a.save("Bancos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Bancos/Listar",a).then((function(e){t.bancos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idbanco=t.idbanco,this.nombre=t.nombre,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idbanco="",this.nombre="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Bancos/Actualizar",{idbanco:a.idbanco,nombre:a.nombre},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Bancos/Crear",{nombre:i.nombre},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre del banco no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idbanco,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Bancos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Bancos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},oa=ia,sa=Object(b["a"])(oa,ea,aa,!1,null,null,null),ra=sa.exports;g()(sa,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Conceptos de Gastos Recurrentes")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"450px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{clearable:"",label:"Concepto"},model:{value:t.concepto,callback:function(e){t.concepto=e},expression:"concepto"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{clearable:"",label:"Cuenta GCom"},model:{value:t.cuentagcom,callback:function(e){t.cuentagcom=e},expression:"cuentagcom"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.textos,label:"Color texto"},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-select",{attrs:{items:t.colores,label:"Color fondo"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),a("v-chip",{staticClass:"ma-2",attrs:{color:t.color,"text-color":t.texto}},[t._v("\n                                Ejemplo de como se visualizará el concepto en el calendario\n                            ")]),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Estado?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Estado?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el concepto "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.conceptos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.idconcepto))]),a("td",[a("v-chip",{staticClass:"ma-2",attrs:{color:e.item.color,"text-color":e.item.texto}},[t._v(t._s(e.item.concepto))])],1),a("td",[t._v(t._s(e.item.cuentagcom))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},ca=[],da={data:function(){return{colores:[{value:"#F44336",text:"Rojo"},{value:"#E91E63",text:"Rosa"},{value:"#9C27B0",text:"Violeta"},{value:"#673AB7",text:"Violeta oscuro"},{value:"#3F51B5",text:"Indigo"},{value:"#2196F3",text:"Azul"},{value:"#03A9F4",text:"Celeste"},{value:"#00BCD4",text:"Cianico"},{value:"#009688",text:"Turquesa"},{value:"#4CAF50",text:"Verde"},{value:"#8BC34A",text:"Verde claro"},{value:"#CDDC39",text:"Lima"},{value:"#FFEB3B",text:"Amarillo"},{value:"#FFC107",text:"Ambar"},{value:"#FF9800",text:"Naranja"},{value:"#FF5722",text:"Naranja oscuro"},{value:"#795548",text:"Marron"},{value:"#607D8B",text:"Lívido"},{value:"#9E9E9E",text:"Gris"},{value:"#000000",text:"Negro"},{value:"#FFFFFF",text:"Blanco"}],textos:[{value:"white",text:"Blanco"},{value:"black",text:"Negro"}],snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Id",value:"idconcepto"},{text:"Concepto de Gastos",value:"concepto"},{text:"Cuenta GCom",value:"cuentagcom"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idconcepto:"",concepto:"",color:"",texto:"",cuentagcom:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",conceptos:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo concepto":"Actualizar concepto"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idconcepto"},{title:"Concepto",dataKey:"concepto"},{title:"Texto",dataKey:"texto"},{title:"Color",dataKey:"color"},{title:"Cuenta Gcom",dataKey:"cuentagcom"},{title:"Estado",dataKey:"activo"}],e=[];this.conceptos.map((function(t){e.push({idconcepto:t.idconcepto,concepto:t.concepto,texto:t.texto,color:t.color,cuentagcom:t.cuentagcom,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Conceptos",40,30)}}),a.save("Conceptos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Conceptos/Listar",a).then((function(e){t.conceptos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idconcepto=t.idconcepto,this.concepto=t.concepto,this.color=t.color,this.texto=t.texto,this.cuentagcom=t.cuentagcom,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idconcepto="",this.concepto="",this.color="",this.text="",this.cuentagcom="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){new Date;var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Conceptos/Actualizar",{idconcepto:a.idconcepto,concepto:a.concepto,color:a.color,texto:a.texto,cuentagcom:a.cuentagcom,iduserumod:a.$store.state.usuario.idusuario},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Conceptos/Crear",{concepto:i.concepto,color:i.color,texto:i.texto,cuentagcom:i.cuentagcom,iduseralta:i.$store.state.usuario.idusuario},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.concepto.length<3||this.concepto.length>50)&&this.validaMensaje.push("El nombre del concepto no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.color||this.validaMensaje.push("Debe elegir un color de Fondo para el concepto."),this.texto||this.validaMensaje.push("Debe elegir un color de Texto para el concepto."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.concepto,this.adId=e.idconcepto,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Conceptos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Conceptos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},la=da,ua=a("cc20"),va=Object(b["a"])(la,na,ca,!1,null,null,null),pa=va.exports;g()(va,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VChip:ua["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Empresas")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.snacktext)+"\n                    "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                        Cerrar\n                    ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Empresa"},model:{value:t.empresa,callback:function(e){t.empresa=e},expression:"empresa"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"CUIT"},model:{value:t.cuit,callback:function(e){t.cuit=e},expression:"cuit"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Localidad"},model:{value:t.localidad,callback:function(e){t.localidad=e},expression:"localidad"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"C.P."},model:{value:t.cpostal,callback:function(e){t.cpostal=e},expression:"cpostal"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.provincias,label:"Provincia"},model:{value:t.idprovincia,callback:function(e){t.idprovincia=e},expression:"idprovincia"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.paises,label:"País"},model:{value:t.idpais,callback:function(e){t.idpais=e},expression:"idpais"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"eMail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Web Page"},model:{value:t.webpage,callback:function(e){t.webpage=e},expression:"webpage"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el ítem "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.empresas,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                        edit\n                        ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                            block\n                            ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                            check\n                            ")])]],2),a("td",[t._v(t._s(e.item.empresa))]),a("td",[t._v(t._s(e.item.cuit))]),a("td",[t._v(t._s(e.item.direccion))]),a("td",[t._v(t._s(e.item.localidad))]),a("td",[t._v(t._s(e.item.cpostal))]),a("td",[t._v(t._s(e.item.provincia))]),a("td",[t._v(t._s(e.item.pais))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.webpage))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},ha=[],fa={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,empresas:[],paises:[],provincias:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Empresa",value:"empresa",sortable:!0},{text:"CUIT",value:"cuit",sortable:!0},{text:"Dirección",value:"direccion",sortable:!0},{text:"Localidad",value:"localidad",sortable:!0},{text:"C.P.",value:"cpostal",sortable:!0},{text:"Provincia",value:"provincia",sortable:!0},{text:"Pais",value:"pais",sortable:!0},{text:"Telefono",value:"telefono",sortable:!0},{text:"eMail",value:"email",sortable:!0},{text:"Web Page",value:"webpage",sortable:!0},{text:"Estado",value:"activo",sortable:!1}],search:"",editedIndex:-1,idempresa:"",idpais:"",idprovincia:"",empresa:"",cuit:"",direccion:"",localidad:"",cpostal:"",email:"",telefono:"",webpage:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva empresa":"Actualizar empresa"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"Empresa",dataKey:"empresa"},{title:"CUIT",dataKey:"cuit"},{title:"Dirección",dataKey:"direccion"},{title:"Localidad",dataKey:"localidad"},{title:"C.P.",dataKey:"cpostal"},{title:"Provincia",dataKey:"provincia"},{title:"Pais",dataKey:"pais"},{title:"Teléfono",dataKey:"telefono"},{title:"eMail",dataKey:"email"},{title:"Web Page",dataKey:"webpage"},{title:"Activo",dataKey:"activo"}],e=[];this.empresas.map((function(t){e.push({empresa:t.empresa,cuit:t.cuit,direccion:t.direccion,localidad:t.localidad,cpostal:t.cpostal,provincia:t.provincia,pais:t.pais,telefono:t.telefono,email:t.email,webpage:t.webpage,activo:t.activo})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Empresas",40,30)}}),a.save("Empresas.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Empresas/Listar",a).then((function(e){t.empresas=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i={Authorization:"Bearer "+this.$store.state.token},o={headers:i};W.a.get("api/Paises/Select",o).then((function(a){e=a.data,e.map((function(e){t.paises.push({text:e.pais,value:e.idpais})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Provincias/Select",o).then((function(e){a=e.data,a.map((function(e){t.provincias.push({text:e.provincia,value:e.idprovincia})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idempresa=t.idempresa,this.idprovincia=t.idprovincia,this.idpais=t.idpais,this.empresa=t.empresa,this.cuit=t.cuit,this.direccion=t.direccion,this.localidad=t.localidad,this.cpostal=t.cpostal,this.telefono=t.telefono,this.email=t.email,this.webpage=t.webpage,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idempresa="",this.idpais="",this.idprovincia="",this.empresa="",this.cuit="",this.direccion="",this.localidad="",this.telefono="",this.email="",this.webpage="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Empresas/Actualizar",{idempresa:a.idempresa,idpais:a.idpais,idprovincia:a.idprovincia,empresa:a.empresa,cuit:a.cuit,direccion:a.direccion,localidad:a.localidad,cpostal:a.cpostal,telefono:a.telefono,email:a.email,webpage:a.webpage},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Empresas/Crear",{idpais:i.idpais,idprovincia:i.idprovincia,empresa:i.empresa,cuit:i.cuit,direccion:i.direccion,localidad:i.localidad,cpostal:i.cpostal,telefono:i.telefono,email:i.email,webpage:i.webpage},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.empresa.length<3||this.empresa.length>50)&&this.validaMensaje.push("La empresa debe tener más de 3 caracteres y menos de 50 caracteres."),this.idpais||this.validaMensaje.push("Seleccione un país."),this.idprovincia||this.validaMensaje.push("Seleccione una provincia."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.empresa,this.adId=e.idempresa,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Empresas/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Empresas/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},ba=fa,xa=Object(b["a"])(ba,ma,ha,!1,null,null,null),ga=xa.exports;g()(xa,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var _a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Estados")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Estado"},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Estado?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Estado?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el estado "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.estados,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.estado))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},ka=[],Ca={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Estado de proyecto",value:"estado"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idestado:"",estado:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",estados:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo estado":"Actualizar estado"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idestado"},{title:"Estado de Proyecto",dataKey:"estado"},{title:"Estado",dataKey:"activo"}],e=[];this.estados.map((function(t){e.push({idestado:t.idestado,estado:t.estado,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Estados",40,30)}}),a.save("Estados.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Estados/Listar",a).then((function(e){t.estados=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idestado=t.idestado,this.estado=t.estado,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idestado="",this.estado="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Estados/Actualizar",{idestado:i.idestado,estado:i.estado,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Estados/Crear",{estado:o.estado,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.estado.length<3||this.estado.length>50)&&this.validaMensaje.push("El nombre del estado no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.estado,this.adId=e.idestado,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Estados/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Estados/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},ya=Ca,Aa=Object(b["a"])(ya,_a,ka,!1,null,null,null),Da=Aa.exports;g()(Aa,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Origenes")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Origen"},model:{value:t.origen,callback:function(e){t.origen=e},expression:"origen"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:t.territorios,label:"Territorio"},model:{value:t.idterritorio,callback:function(e){t.idterritorio=e},expression:"idterritorio"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Origen?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Origen?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el origen "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.origenes,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Sa=[],Ia={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Origen",value:"origen"},{text:"Territorio",value:"territorio"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idorigen:"",origen:"",idterritorio:"",territorio:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",origenes:[],territorios:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo origen":"Actualizar origen"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idorigen"},{title:"Origen",dataKey:"origen"},{title:"Territorio",dataKey:"territorio"},{title:"Estado",dataKey:"activo"}],e=[];this.origenes.map((function(t){e.push({idorigen:t.idorigen,origen:t.origen,territorio:t.territorio,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Origenes",40,30)}}),a.save("Origenes.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Origenes/Listar",a).then((function(e){t.origenes=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];W.a.get("api/Territorios/Select",a).then((function(e){i=e.data,i.map((function(e){t.territorios.push({text:e.territorio,value:e.idterritorio})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idorigen=t.idorigen,this.origen=t.origen,this.idterritorio=t.idterritorio,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idorigen="",this.origen="",this.idterritorio="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Origenes/Actualizar",{idorigen:i.idorigen,origen:i.origen,idterritorio:i.idterritorio,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Origenes/Crear",{origen:o.origen,idterritorio:o.idterritorio,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.origen.length<3||this.origen.length>50)&&this.validaMensaje.push("El nombre del origen no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.origen,this.adId=e.idorigen,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Origenes/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Origenes/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ma=Ia,wa=Object(b["a"])(Ma,ja,Sa,!1,null,null,null),Pa=wa.exports;g()(wa,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Productoras")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Productora"},model:{value:t.productora,callback:function(e){t.productora=e},expression:"productora"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.productoras,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.idproductora))]),a("td",[t._v(t._s(e.item.productora))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Fa=[],Ta={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Id",value:"idproductora",sortable:!0},{text:"Productora",value:"productora"},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idproductora:"",productora:"",productoras:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva productora":"Actualizar productora"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idproductora"},{title:"Productora",dataKey:"productora"},{title:"Estado",dataKey:"activo"}],e=[];this.productoras.map((function(t){e.push({idproductora:t.idproductora,productora:t.productora,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Productoras",40,30)}}),a.save("Productoras.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Productoras/Listar",a).then((function(e){t.productoras=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idproductora=t.idproductora,this.productora=t.productora,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idproductora="",this.productora="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Productoras/Actualizar",{idproductora:a.idproductora,productora:a.productora},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Productoras/Crear",{productora:i.productora},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.productora.length<3||this.productora.length>50)&&this.validaMensaje.push("El nombre de la productora no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.productora,this.adId=e.idproductora,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Productoras/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Productoras/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Oa=Ta,Na=Object(b["a"])(Oa,Va,Fa,!1,null,null,null),za=Na.exports;g()(Na,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Personas")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.snacktext)+"\n                    "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                        Cerrar\n                    ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"eMail"},model:{value:t.emailpersonal,callback:function(e){t.emailpersonal=e},expression:"emailpersonal"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:t.telefonopersonal,callback:function(e){t.telefonopersonal=e},expression:"telefonopersonal"}})],1),a("v-flex",{attrs:{xs12:"",xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.tipodocumentos,label:"Tipo Doc."},model:{value:t.tipodocumento,callback:function(e){t.tipodocumento=e},expression:"tipodocumento"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Nro. Documento"},model:{value:t.numdocumento,callback:function(e){t.numdocumento=e},expression:"numdocumento"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.esdirector,expression:"esdirector"}],attrs:{type:"checkbox",id:"esdirector"},domProps:{checked:Array.isArray(t.esdirector)?t._i(t.esdirector,null)>-1:t.esdirector},on:{change:function(e){var a=t.esdirector,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.esdirector=a.concat([s])):r>-1&&(t.esdirector=a.slice(0,r).concat(a.slice(r+1)))}else t.esdirector=o}}}),a("label",{attrs:{for:"esdirector"}},[t._v(" Es director?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.esep,expression:"esep"}],attrs:{type:"checkbox",id:"esep"},domProps:{checked:Array.isArray(t.esep)?t._i(t.esep,null)>-1:t.esep},on:{change:function(e){var a=t.esep,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.esep=a.concat([s])):r>-1&&(t.esep=a.slice(0,r).concat(a.slice(r+1)))}else t.esep=o}}}),a("label",{attrs:{for:"esp"}},[t._v(" Es EP?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.eslp,expression:"eslp"}],attrs:{type:"checkbox",id:"eslp"},domProps:{checked:Array.isArray(t.eslp)?t._i(t.eslp,null)>-1:t.eslp},on:{change:function(e){var a=t.eslp,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.eslp=a.concat([s])):r>-1&&(t.eslp=a.slice(0,r).concat(a.slice(r+1)))}else t.eslp=o}}}),a("label",{attrs:{for:"eslp"}},[t._v(" Es LP?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.escp,expression:"escp"}],attrs:{type:"checkbox",id:"escp"},domProps:{checked:Array.isArray(t.escp)?t._i(t.escp,null)>-1:t.escp},on:{change:function(e){var a=t.escp,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.escp=a.concat([s])):r>-1&&(t.escp=a.slice(0,r).concat(a.slice(r+1)))}else t.escp=o}}}),a("label",{attrs:{for:"escp"}},[t._v(" Es CP?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.escrew,expression:"escrew"}],attrs:{type:"checkbox",id:"escrew"},domProps:{checked:Array.isArray(t.escrew)?t._i(t.escrew,null)>-1:t.escrew},on:{change:function(e){var a=t.escrew,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.escrew=a.concat([s])):r>-1&&(t.escrew=a.slice(0,r).concat(a.slice(r+1)))}else t.escrew=o}}}),a("label",{attrs:{for:"escrew"}},[t._v(" Es Crew?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.manejafondos,expression:"manejafondos"}],attrs:{type:"checkbox",id:"manejafondos"},domProps:{checked:Array.isArray(t.manejafondos)?t._i(t.manejafondos,null)>-1:t.manejafondos},on:{change:function(e){var a=t.manejafondos,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.manejafondos=a.concat([s])):r>-1&&(t.manejafondos=a.slice(0,r).concat(a.slice(r+1)))}else t.manejafondos=o}}}),a("label",{attrs:{for:"manejafondos"}},[t._v(" Maneja Fondos?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.esproveedor,expression:"esproveedor"}],attrs:{type:"checkbox",id:"esproveedor"},domProps:{checked:Array.isArray(t.esproveedor)?t._i(t.esproveedor,null)>-1:t.esproveedor},on:{change:function(e){var a=t.esproveedor,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.esproveedor=a.concat([s])):r>-1&&(t.esproveedor=a.slice(0,r).concat(a.slice(r+1)))}else t.esproveedor=o}}}),a("label",{attrs:{for:"esproveedor"}},[t._v(" Es proveedor?")])]),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.escliente,expression:"escliente"}],attrs:{type:"checkbox",id:"escliente"},domProps:{checked:Array.isArray(t.escliente)?t._i(t.escliente,null)>-1:t.escliente},on:{change:function(e){var a=t.escliente,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.escliente=a.concat([s])):r>-1&&(t.escliente=a.slice(0,r).concat(a.slice(r+1)))}else t.escliente=o}}}),a("label",{attrs:{for:"escliente"}},[t._v(" Es Cliente?")])]),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Domicilio"},model:{value:t.domicilio,callback:function(e){t.domicilio=e},expression:"domicilio"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Localidad"},model:{value:t.localidad,callback:function(e){t.localidad=e},expression:"localidad"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"C.P."},model:{value:t.cpostal,callback:function(e){t.cpostal=e},expression:"cpostal"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.provincias,label:"Provincia"},model:{value:t.idprovincia,callback:function(e){t.idprovincia=e},expression:"idprovincia"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.paises,label:"País"},model:{value:t.idpais,callback:function(e){t.idpais=e},expression:"idpais"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Persona?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Persona?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            a "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personas,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                        edit\n                        ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                            block\n                            ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                            check\n                            ")])]],2),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.emailpersonal))]),a("td",[t._v(t._s(e.item.telefonopersonal))]),a("td",[e.item.manejafondos?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.esdirector?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.esep?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.eslp?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.escp?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.escrew?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.esproveedor?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[e.item.escliente?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.domicilio))]),a("td",[t._v(t._s(e.item.localidad))]),a("td",[t._v(t._s(e.item.cpostal))]),a("td",[t._v(t._s(e.item.provincia))]),a("td",[t._v(t._s(e.item.pais))]),a("td",[t._v(t._s(e.item.tipodocumento))]),a("td",[t._v(t._s(e.item.numdocumento))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},$a=[],Ea={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,personas:[],paises:[],provincias:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre Completo",value:"nombre",sortable:!0},{text:"eMail",value:"emailpersonal",sortable:!0},{text:"Telefono",value:"telefonopersonal",sortable:!0},{text:"Fondos?",value:"manejafondos",sortable:!0},{text:"Director?",value:"esdirector",sortable:!0},{text:"EP?",value:"esep",sortable:!0},{text:"LP?",value:"eslp",sortable:!0},{text:"CP?",value:"escp",sortable:!0},{text:"Crew?",value:"escrew",sortable:!0},{text:"Proveedor?",value:"esproveedor",sortable:!0},{text:"Cliente?",value:"escliente",sortable:!0},{text:"Domicilio",value:"domicilio",sortable:!0},{text:"Localidad",value:"localidad",sortable:!0},{text:"C.P.",value:"cpostal",sortable:!0},{text:"Provincia",value:"provincia",sortable:!0},{text:"Pais",value:"pais",sortable:!0},{text:"Tipo Doc.",value:"tipodocumento",sortable:!0},{text:"Númenro",value:"numdocumento",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idpersona:"",idpais:"",idprovincia:"",nombre:"",domicilio:"",localidad:"",cpostal:"",emailpersonal:"",telefonopersonal:"",tipodocumentos:["CUIL","CUIT","DNI","PAS","LC","CI"],tipodocumento:"",numdocumento:"",manejafondos:!1,esdirector:!1,esep:!1,eslp:!1,escp:!1,escrew:!1,esproveedor:!1,escliente:!1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva persona":"Actualizar persona"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"Nombre",dataKey:"nombre"},{title:"eMail",dataKey:"emailpersonal"},{title:"Teléfono",dataKey:"telefonopersonal"},{title:"Maneja Fondos",dataKey:"manejafondos"},{title:"DIR",dataKey:"esdirector"},{title:"EP",dataKey:"esep"},{title:"LP",dataKey:"eslp"},{title:"CP",dataKey:"escp"},{title:"Crew",dataKey:"escrew"},{title:"Prov",dataKey:"esproveedor"},{title:"Cli",dataKey:"escliente"},{title:"Domicilio",dataKey:"domicilio"},{title:"Localidad",dataKey:"localidad"},{title:"C.P.",dataKey:"cpostal"},{title:"Provincia",dataKey:"provincia"},{title:"Pais",dataKey:"pais"},{title:"Tipo Doc.",dataKey:"tipodocumento"},{title:"Número",dataKey:"numdocumento"},{title:"Activo",dataKey:"activo"}],e=[];this.personas.map((function(t){e.push({nombre:t.nombre,emailpersonal:t.emailpersonal,telefonopersonal:t.telefonopersonal,manejafondos:t.manejafondos,esdirector:t.esdirector,esep:t.esep,eslp:t.eslp,escp:t.escp,escrew:t.escrew,esproveedor:t.esproveedor,escliente:t.escliente,domicilio:t.domicilio,localidad:t.localidad,cpostal:t.cpostal,provincia:t.provincia,pais:t.pais,tipodocumento:t.tipodocumento,numdocumento:t.numdocumento,activo:t.activo})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Personas",40,30)}}),a.save("Personas.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Personas/Listar",a).then((function(e){t.personas=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i={Authorization:"Bearer "+this.$store.state.token},o={headers:i};W.a.get("api/Paises/Select",o).then((function(a){e=a.data,e.map((function(e){t.paises.push({text:e.pais,value:e.idpais})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Provincias/Select",o).then((function(e){a=e.data,a.map((function(e){t.provincias.push({text:e.provincia,value:e.idprovincia})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idpersona=t.idpersona,this.idprovincia=t.idprovincia,this.idpais=t.idpais,this.nombre=t.nombre,this.domicilio=t.domicilio,this.localidad=t.localidad,this.cpostal=t.cpostal,this.emailpersonal=t.emailpersonal,this.telefonopersonal=t.telefonopersonal,this.tipodocumento=t.tipodocumento,this.numdocumento=t.numdocumento,this.manejafondos=t.manejafondos,this.esdirector=t.esdirector,this.esep=t.esep,this.eslp=t.eslp,this.escp=t.escp,this.escrew=t.escrew,this.esproveedor=t.esproveedor,this.escliente=t.escliente,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idpersona="",this.idpais="",this.idprovincia="",this.nombre="",this.domicilio="",this.localidad="",this.cpostal="",this.emailpersonal="",this.telefonopersonal="",this.tipodocumento="",this.numdocumento="",this.manejafondos=!1,this.esdirector=!1,this.esep=!1,this.eslp=!1,this.escp=!1,this.escrew=!1,this.esproveedor=!1,this.escliente=!1,this.editedIndex=1,this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Personas/Actualizar",{idpersona:a.idpersona,idpais:a.idpais,idprovincia:a.idprovincia,nombre:a.nombre,domicilio:a.domicilio,localidad:a.localidad,cpostal:a.cpostal,emailpersonal:a.emailpersonal,telefonopersonal:a.telefonopersonal,tipodocumento:a.tipodocumento,numdocumento:a.numdocumento,manejafondos:a.manejafondos,esdirector:a.esdirector,esep:a.esep,eslp:a.eslp,escp:a.escp,escrew:a.escrew,esproveedor:a.esproveedor,escliente:a.escliente},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Personas/Crear",{idpais:i.idpais,idprovincia:i.idprovincia,nombre:i.nombre,domicilio:i.domicilio,localidad:i.localidad,cpostal:i.cpostal,emailpersonal:i.emailpersonal,telefonopersonal:i.telefonopersonal,tipodocumento:i.tipodocumento,numdocumento:i.numdocumento,manejafondos:i.manejafondos,esdirector:i.esdirector,esep:i.esep,eslp:i.eslp,escp:i.escp,escrew:i.escrew,esproveedor:i.esproveedor,escliente:i.escliente},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>100)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 100 caracteres."),this.idpais||this.validaMensaje.push("Seleccione un país."),this.idprovincia||this.validaMensaje.push("Seleccione una provincia."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idpersona,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Personas/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Personas/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ra=Ea,La=Object(b["a"])(Ra,Ba,$a,!1,null,null,null),Ua=La.exports;g()(La,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Pitch")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Pitch"},model:{value:t.pitch,callback:function(e){t.pitch=e},expression:"pitch"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Pitch?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Pitch?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el pitch "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.pitchs,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.pitch))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Ka=[],Ga={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Pitch",value:"pitch"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idpitch:"",pitch:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",pitchs:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo pitch":"Actualizar pitch"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idpitch"},{title:"Pitch",dataKey:"pitch"},{title:"Estado",dataKey:"activo"}],e=[];this.pitchs.map((function(t){e.push({idpitch:t.idpitch,pitch:t.pitch,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Pitchs",40,30)}}),a.save("Pitchs.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Pitchs/Listar",a).then((function(e){t.pitchs=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idpitch=t.idpitch,this.pitch=t.pitch,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idpitch="",this.pitch="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Pitchs/Actualizar",{idpitch:i.idpitch,pitch:i.pitch,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Pitchs/Crear",{pitch:o.pitch,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.pitch.length<3||this.pitch.length>50)&&this.validaMensaje.push("El nombre del pitch no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.pitch,this.adId=e.idpitch,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Pitchs/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Pitchs/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ha=Ga,Ya=Object(b["a"])(Ha,qa,Ka,!1,null,null,null),Wa=Ya.exports;g()(Ya,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Posiciones")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Posicion"},model:{value:t.posicion,callback:function(e){t.posicion=e},expression:"posicion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Posicion?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Posicion?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        la posicion "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.posiciones,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.posicion))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Qa=[],Za={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Posicion",value:"posicion"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idposicion:"",posicion:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",posiciones:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo posicion":"Actualizar posicion"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idposicion"},{title:"Posicion",dataKey:"posicion"},{title:"Estado",dataKey:"activo"}],e=[];this.posiciones.map((function(t){e.push({idposicion:t.idposicion,posicion:t.posicion,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Posiciones",40,30)}}),a.save("Posiciones.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Posiciones/Listar",a).then((function(e){t.posiciones=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idposicion=t.idposicion,this.posicion=t.posicion,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idposicion="",this.posicion="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Posiciones/Actualizar",{idposicion:i.idposicion,posicion:i.posicion,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Posiciones/Crear",{posicion:o.posicion,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.posicion.length<3||this.posicion.length>50)&&this.validaMensaje.push("El nombre del posicion no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.posicion,this.adId=e.idposicion,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Posiciones/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Posiciones/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Xa=Za,ti=Object(b["a"])(Xa,Ja,Qa,!1,null,null,null),ei=ti.exports;g()(ti,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Resultados")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nueva")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Resultado"},model:{value:t.resultado,callback:function(e){t.resultado=e},expression:"resultado"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Resultado?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Resultado?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el resultado "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.origenes,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.resultado))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},ii=[],oi={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Resultado",value:"resultado"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idresultado:"",resultado:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",origenes:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo resultado":"Actualizar resultado"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idresultado"},{title:"Resultado",dataKey:"resultado"},{title:"Estado",dataKey:"activo"}],e=[];this.origenes.map((function(t){e.push({idresultado:t.idresultado,resultado:t.resultado,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Resultados",40,30)}}),a.save("Resultados.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Resultados/Listar",a).then((function(e){t.origenes=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idresultado=t.idresultado,this.resultado=t.resultado,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idresultado="",this.resultado="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Resultados/Actualizar",{idresultado:i.idresultado,resultado:i.resultado,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Resultados/Crear",{resultado:o.resultado,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.resultado.length<3||this.resultado.length>50)&&this.validaMensaje.push("El nombre del resultado no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.resultado,this.adId=e.idresultado,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Resultados/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Resultados/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},si=oi,ri=Object(b["a"])(si,ai,ii,!1,null,null,null),ni=ri.exports;g()(ri,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Roles")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.roles,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},di=[],li={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,roles:[],dialog:!1,headers:[{text:"Nombre",value:"nombre"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:""}},computed:{},watch:{},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Roles/Listar",a).then((function(e){t.roles=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},ui=li,vi=Object(b["a"])(ui,ci,di,!1,null,null,null),pi=vi.exports;g()(vi,{VBtn:k["a"],VDataTable:ht["a"],VDivider:bt["a"],VFlex:j["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var mi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Usuarios")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Userid"},model:{value:t.userid,callback:function(e){t.userid=e},expression:"userid"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.idrol,callback:function(e){t.idrol=e},expression:"idrol"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.personas,"search-input":t.searchp,label:"Persona"},on:{"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e}},model:{value:t.idpersona,callback:function(e){t.idpersona=e},expression:"idpersona"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-switch",{staticClass:"mx-2",attrs:{label:"Solicitar Password"},model:{value:t.pxch,callback:function(e){t.pxch=e},expression:"pxch"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.userid))]),a("td",[t._v(t._s(e.item.rol))]),a("td",[t._v(t._s(e.item.idpersona))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},hi=[],fi=(a("87f3"),a("6b54"),{data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,usuarios:[],roles:[],personas:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Userid",value:"userid"},{text:"Rol",value:"rol"},{text:"Idpersona",value:"idpersona"},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:"",searchp:"",editedIndex:-1,id:"",idrol:"",idpersona:"",userid:"",telefono:"",email:"",password:"",pxch:!1,actPassword:!1,passwordAnt:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo usuario":"Actualizar usuario"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{genpasswd:function(t){if(t>10)throw new Error("Too big n for this function");var e="0000000000"+Math.floor(Number.MAX_SAFE_INTEGER*Math.random()).toString(36);return e.slice(-t)},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Usuarios/Listar",a).then((function(e){t.usuarios=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i={Authorization:"Bearer "+this.$store.state.token},o={headers:i};W.a.get("api/Roles/Select",o).then((function(a){e=a.data,e.map((function(e){t.roles.push({text:e.nombre,value:e.idrol})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/Select",o).then((function(e){a=e.data,a.map((function(e){t.personas.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.id=t.idusuario,this.idrol=t.idrol,this.idpersona=t.idpersona,this.userid=t.userid,this.telefono=t.telefono,this.email=t.email,this.password=t.password_hash,this.passwordAnt=t.password_hash,this.pxch=t.pxch,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idrol="",this.idpersona="",this.userid="",this.telefono="",this.email="",this.password="",this.passwordAnt="",this.pxch=!1,this.actPassword=!1,this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;a.password!=a.passwordAnt&&(a.actPassword=!0),W.a.put("api/Usuarios/Actualizar",{idusuario:a.id,idrol:a.idrol,idpersona:a.idpersona,userid:a.userid,telefono:a.telefono,email:a.email,password:a.password,act_password:a.actPassword,pxch:a.pxch},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Usuarios/Crear",{idrol:i.idrol,idpersona:i.idpersona,userid:i.userid,telefono:i.telefono,email:i.email,password:i.password,pxch:i.pxch},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.userid.length<3||this.userid.length>100)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 100 caracteres."),this.idrol||this.validaMensaje.push("Seleccione un rol."),this.email||this.validaMensaje.push("Ingrese el email del usuario."),this.password||this.validaMensaje.push("Ingrese el password del usuario."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.userid,this.adId=e.idusuario,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Usuarios/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Usuarios/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}}),bi=fi,xi=a("b73d"),gi=Object(b["a"])(bi,mi,hi,!1,null,null,null),_i=gi.exports;g()(gi,{VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VSwitch:xi["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Usuario x Proyecto")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"550px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:t.proyectos,label:"Proyecto"},model:{value:t.idproyecto,callback:function(e){t.idproyecto=e},expression:"idproyecto"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:t.usuarios,label:"Usuario"},model:{value:t.idusuario,callback:function(e){t.idusuario=e},expression:"idusuario"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vivo,expression:"vivo"}],attrs:{type:"checkbox",id:"vivo"},domProps:{checked:Array.isArray(t.vivo)?t._i(t.vivo,null)>-1:t.vivo},on:{change:function(e){var a=t.vivo,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.vivo=a.concat([s])):r>-1&&(t.vivo=a.slice(0,r).concat(a.slice(r+1)))}else t.vivo=o}}}),a("label",{attrs:{for:"vivo"}},[t._v("Acceso Vivo?")])]),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post,expression:"post"}],attrs:{type:"checkbox",id:"post"},domProps:{checked:Array.isArray(t.post)?t._i(t.post,null)>-1:t.post},on:{change:function(e){var a=t.post,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.post=a.concat([s])):r>-1&&(t.post=a.slice(0,r).concat(a.slice(r+1)))}else t.post=o}}}),a("label",{attrs:{for:"post"}},[t._v("Acceso Post?")])]),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.confidencial,expression:"confidencial"}],attrs:{type:"checkbox",id:"confidencial"},domProps:{checked:Array.isArray(t.confidencial)?t._i(t.confidencial,null)>-1:t.confidencial},on:{change:function(e){var a=t.confidencial,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.confidencial=a.concat([s])):r>-1&&(t.confidencial=a.slice(0,r).concat(a.slice(r+1)))}else t.confidencial=o}}}),a("label",{attrs:{for:"confidencial"}},[t._v("Acceso Confidencial?")])]),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        la asignación: "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModalC,callback:function(e){t.adModalC=e},expression:"adModalC"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Clasificar?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desclasificar?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el acceso confidencial de: "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrarC}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activarC}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivarC}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarioproyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.confidencial?[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrarC(2,e.item)}}},[t._v("\n                        visibility_off\n                        ")])]:[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrarC(1,e.item)}}},[t._v("\n                        visibility\n                        ")])],e.item.activo?[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.proyectoorden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.userid))]),a("td",[e.item.vivo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[e.item.post?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[e.item.confidencial?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Ci=[],yi={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,usuarioproyectos:[],proyectos:[],usuarios:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"proyectoorden"},{text:"Proyecto",value:"proyecto"},{text:"Usuario",value:"userid"},{text:"Vivo",value:"vivo",sortable:!1},{text:"Post",value:"post",sortable:!1},{text:"Confidencial",value:"confidencial",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idusuarioproyecto:"",idusuario:"",idproyecto:"",vivo:!1,post:!1,confidencial:!1,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idpersona:"",userid:"",telefono:"",email:"",password:"",actPassword:!1,passwordAnt:"",valida:0,validaMensaje:[],adModal:0,adModalC:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva asignación Usuario/Proyecto":"Actualizar relación Usuario/Proyecto"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Usuarioproyectos/Listar",a).then((function(e){t.usuarioproyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i={Authorization:"Bearer "+this.$store.state.token},o={headers:i};W.a.get("api/Usuarios/Listaractivos",o).then((function(a){e=a.data,e.map((function(e){t.usuarios.push({text:e.userid,value:e.idusuario})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proyectos/Select",o).then((function(e){a=e.data,a.map((function(e){t.proyectos.push({text:e.orden+": "+e.proyecto,value:e.idproyecto})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idusuarioproyecto=t.idusuarioproyecto,this.idusuario=t.idusuario,this.idproyecto=t.idproyecto,this.vivo=t.vivo,this.post=t.post,this.confidencial=t.confidencial,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idusuarioproyecto="",this.idusuario="",this.idproyecto="",this.vivo=!1,this.post=!1,this.confidencial=!1,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.actPassword=!1,this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=this,e=new Date,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};if(this.editedIndex>-1)W.a.put("api/Usuarioproyectos/Actualizar",{idusuarioproyecto:t.idusuarioproyecto,idusuario:t.idusuario,idproyecto:t.idproyecto,vivo:t.vivo,post:t.post,confidencial:t.confidencial,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}));else{var o=this;W.a.post("api/Usuarioproyectos/Crear",{idusuario:o.idusuario,idproyecto:o.idproyecto,vivo:o.vivo,post:o.post,confidencial:o.confidencial,iduseralta:o.$store.state.usuario.idusuario,fecalta:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idproyecto||this.validaMensaje.push("Seleccione un proyecto."),this.idusuario||this.validaMensaje.push("Seleccione un usuario."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.proyectoorden+": "+e.proyecto+" - "+e.userid,this.adId=e.idusuarioproyecto,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Usuarioproyectos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Usuarioproyectos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},activarDesactivarMostrarC:function(t,e){this.adModalC=1,this.adNombre=e.userid+" a "+e.proyectoorden+": "+e.proyecto,this.adId=e.idusuarioproyecto,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModalC=0},activarDesactivarCerrarC:function(){this.adModalC=0},activarC:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Usuarioproyectos/ActivarC/"+this.adId,{},a).then((function(e){t.adModalC=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivarC:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Usuarioproyectos/DesactivarC/"+this.adId,{},a).then((function(e){t.adModalC=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ai=yi,Di=Object(b["a"])(Ai,ki,Ci,!1,null,null,null),ji=Di.exports;g()(Di,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Clientes")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.snacktext)+"\n                    "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                        Cerrar\n                    ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Razon social"},model:{value:t.razonsocial,callback:function(e){t.razonsocial=e},expression:"razonsocial"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.situacionesiva,label:"IVA"},model:{value:t.situacioniva,callback:function(e){t.situacioniva=e},expression:"situacioniva"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"CUIT"},model:{value:t.cuit,callback:function(e){t.cuit=e},expression:"cuit"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.situacionesiibb,label:"IIBB"},on:{change:function(e){return t.validarJurisdiccion()}},model:{value:t.situacioniibb,callback:function(e){t.situacioniibb=e},expression:"situacioniibb"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.jurisdicciones,disabled:!t.esMl,label:"Jurisdicción"},model:{value:t.jurisdiccion,callback:function(e){t.jurisdiccion=e},expression:"jurisdiccion"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"eMail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Localidad"},model:{value:t.localidad,callback:function(e){t.localidad=e},expression:"localidad"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"C.P."},model:{value:t.cpostal,callback:function(e){t.cpostal=e},expression:"cpostal"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-select",{attrs:{items:t.provincias,label:"Provincia"},model:{value:t.idprovincia,callback:function(e){t.idprovincia=e},expression:"idprovincia"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-select",{attrs:{items:t.paises,label:"País"},model:{value:t.idpais,callback:function(e){t.idpais=e},expression:"idpais"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-select",{attrs:{clearable:"",items:t.personas,label:"Contacto"},model:{value:t.idpersona,callback:function(e){t.idpersona=e},expression:"idpersona"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Cliente?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Cliente?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el cliente "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.clientes,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                        edit\n                        ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                            block\n                            ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                            check\n                            ")])]],2),a("td",[t._v(t._s(e.item.razonsocial))]),a("td",[t._v(t._s(e.item.cuit))]),a("td",[t._v(t._s(e.item.situacioniva))]),a("td",[t._v(t._s(e.item.situacioniibb))]),a("td",[t._v(t._s(e.item.jurisdiccion))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.direccion))]),a("td",[t._v(t._s(e.item.localidad))]),a("td",[t._v(t._s(e.item.cpostal))]),a("td",[t._v(t._s(e.item.provincia))]),a("td",[t._v(t._s(e.item.pais))]),a("td",[t._v(t._s(e.item.persona))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Ii=[],Mi=a("bd86"),wi={data:function(){var t;return t={snackbar:!1,snacktext:"Hola",timeout:4e3,clientes:[],paises:[],provincias:[],personas:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Razon Social",value:"razonsocial",sortable:!0},{text:"CUIT",value:"cuit",sortable:!0},{text:"IVA",value:"situacioniva",sortable:!0},{text:"IIBB",value:"situacioniibb",sortable:!0},{text:"Jurisdicción",value:"jurisdiccion",sortable:!0},{text:"eMail",value:"email",sortable:!0},{text:"Telefono",value:"telefono",sortable:!0},{text:"Dirección",value:"direccion",sortable:!0},{text:"Localidad",value:"localidad",sortable:!0},{text:"C.P.",value:"cpostal",sortable:!0},{text:"Provincia",value:"provincia",sortable:!0},{text:"Pais",value:"pais",sortable:!0},{text:"Contacto",value:"persona",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idpersona:"",idpais:"",idprovincia:"",idcliente:"",razonsocial:"",cuit:"",cuitoriginal:"",situacionesiva:[{value:"01",text:"IVA Responsable Inscripto"},{value:"02",text:"IVA Responsable no Inscripto"},{value:"03",text:"IVA no Responsable"},{value:"04",text:"IVA Sujeto Exento"},{value:"05",text:"Consumidor Final"},{value:"06",text:"Responsable Monotributo"},{value:"07",text:"Sujeto no Categorizado"},{value:"08",text:"Proveedor del Exterior"},{value:"09",text:"Cliente del Exterior"},{value:"10",text:"IVA Liberado – Ley Nº 19.640"},{value:"11",text:"IVA Responsable Inscripto – Agente de Percepción"},{value:"12",text:"Pequeño Contribuyente Eventual"},{value:"13",text:"Monotributista Social"},{value:"14",text:"Pequeño Contribuyente Eventual Social"}],situacionesiibb:[{value:"1",text:"No Inscripto"},{value:"2",text:"Local"},{value:"3",text:"Convenio Multilateral"},{value:"4",text:"Regimen Simplificado"},{value:"5",text:"Excento"}],jurisdicciones:[{value:"901",text:"Capital Federal"},{value:"902",text:"Buenos Aires"},{value:"903",text:"Catamarca"},{value:"904",text:"Córdoba"},{value:"905",text:"Corrientes"},{value:"906",text:"Chaco"},{value:"907",text:"Chubut"},{value:"908",text:"Entre Ríos"},{value:"909",text:"Formosa"},{value:"910",text:"Jujuy"},{value:"911",text:"La Pampa"},{value:"912",text:"La Rioja"},{value:"913",text:"Mendoza"},{value:"914",text:"Misiones"},{value:"915",text:"Neuquén"},{value:"916",text:"Río Negro"},{value:"917",text:"Salta"},{value:"918",text:"San Juan"},{value:"919",text:"San Luis"},{value:"920",text:"Santa Cruz"},{value:"921",text:"Santa Fe"},{value:"922",text:"Santiago del Estero"},{value:"923",text:"Tierra del Fuego"},{value:"924",text:"Tucumán"}],situacioniva:"",situacioniibb:"",jurisdiccion:"",email:"",telefono:"",direccion:"",localidad:"",cpostal:""},Object(Mi["a"])(t,"idpersona",""),Object(Mi["a"])(t,"iduseralta",""),Object(Mi["a"])(t,"fecalta",""),Object(Mi["a"])(t,"iduserumod",""),Object(Mi["a"])(t,"fecumod",""),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adModal",0),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),Object(Mi["a"])(t,"esMl",""),t},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo cliente":"Actualizar cliente"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"R.Social",dataKey:"razonsocial"},{title:"CUIT",dataKey:"cuit"},{title:"Sitacion IVA",dataKey:"situacioniva"},{title:"eMail",dataKey:"email"},{title:"Teléfono",dataKey:"telefono"},{title:"Dirección",dataKey:"direccion"},{title:"Localidad",dataKey:"localidad"},{title:"C.P.",dataKey:"cpostal"},{title:"Provincia",dataKey:"provincia"},{title:"Pais",dataKey:"pais"},{title:"Activo",dataKey:"activo"}],e=[];this.clientes.map((function(t){e.push({razonsocial:t.razonsocial,cuit:t.cuit,situacioniva:t.situacioniva,email:t.email,telefono:t.telefono,direccion:t.direccion,localidad:t.localidad,provincia:t.provincia,pais:t.pais,activo:t.activo})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Clientes",40,30)}}),a.save("Clientes.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Clientes/Listar",a).then((function(e){t.clientes=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};W.a.get("api/Paises/Select",s).then((function(a){e=a.data,e.map((function(e){t.paises.push({text:e.pais,value:e.idpais})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Provincias/Select",s).then((function(e){a=e.data,a.map((function(e){t.provincias.push({text:e.provincia,value:e.idprovincia})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectContactoCliente",s).then((function(e){i=e.data,i.map((function(e){t.personas.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idcliente=t.idcliente,this.idprovincia=t.idprovincia,this.idpais=t.idpais,this.razonsocial=t.razonsocial,this.cuit=t.cuit,this.cuitoriginal=t.cuit,this.situacioniva=t.situacioniva,this.situacioniibb=t.situacioniibb,this.jurisdiccion=t.jurisdiccion,this.validarJurisdiccion(),this.email=t.email,this.telefono=t.telefono,this.direccion=t.direccion,this.localidad=t.localidad,this.cpostal=t.cpostal,this.idpersona=t.idpersona,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idcliente="",this.idpais="",this.idprovincia="",this.razonsocial="",this.cuit="",this.cuitoriginal="",this.situacioniva="",this.situacioniibb="",this.jurisdiccion="",this.email="",this.telefono="",this.direccion="",this.localidad="",this.cpostal="",this.idpersona="",this.editedIndex=-1,this.validaMensaje=[]},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Clientes/Actualizar",{idcliente:i.idcliente,idpais:i.idpais,idprovincia:i.idprovincia,razonsocial:i.razonsocial,cuit:i.cuit,situacioniva:i.situacioniva,situacioniibb:i.situacioniibb,jurisdiccion:i.jurisdiccion,email:i.email,telefono:i.telefono,direccion:i.direccion,localidad:i.localidad,cpostal:i.cpostal,idpersona:i.idpersona,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Clientes/Crear",{idpais:o.idpais,idprovincia:o.idprovincia,razonsocial:o.razonsocial,cuit:o.cuit,situacioniva:o.situacioniva,situacioniibb:o.situacioniibb,jurisdiccion:o.jurisdiccion,email:o.email,telefono:o.telefono,direccion:o.direccion,localidad:o.localidad,cpostal:o.cpostal,idpersona:o.idpersona,iduseralta:o.$store.state.usuario.idusuario,fecalta:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),iduserumod:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validarJurisdiccion:function(){"3"==this.situacioniibb?this.esMl=!0:(this.esMl=!1,this.jurisdiccion="")},validar:function(){return this.valida=0,this.validaMensaje=[],(this.razonsocial.length<3||this.razonsocial.length>50)&&this.validaMensaje.push("La razon social debe tener más de 3 caracteres y menos de 50 caracteres."),this.idpais||this.validaMensaje.push("Seleccione un país."),this.idprovincia||this.validaMensaje.push("Seleccione una provincia."),this.cuitValido(this.cuit)||this.validaMensaje.push("Numero de CUIT duplicado."),this.validaMensaje.length&&(this.valida=1),this.valida},cuitValido:function(t){var e=!0;if(t.substr(0,2)<"50"&&this.cuitoriginal!=this.cuit)for(var a=0;a<this.clientes.length;a++)if(this.clientes[a]["cuit"]===t){e=!1;break}return e},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.razonsocial,this.adId=e.idcliente,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Clientes/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Clientes/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Pi=wi,Vi=Object(b["a"])(Pi,Si,Ii,!1,null,null,null),Fi=Vi.exports;g()(Vi,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Ti=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Proveedores")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.snacktext)+"\n                    "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                        Cerrar\n                    ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs10:"",sm10:"",md10:""}},[a("v-text-field",{attrs:{label:"Razon social"},model:{value:t.razonsocial,callback:function(e){t.razonsocial=e},expression:"razonsocial"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.generico,expression:"generico"}],attrs:{type:"checkbox",id:"generico"},domProps:{checked:Array.isArray(t.generico)?t._i(t.generico,null)>-1:t.generico},on:{change:[function(e){var a=t.generico,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.generico=a.concat([s])):r>-1&&(t.generico=a.slice(0,r).concat(a.slice(r+1)))}else t.generico=o},function(e){return t.armaGenerico()}]}}),a("label",{attrs:{for:"generico"}},[t._v(" Generico?")])]),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-select",{attrs:{items:t.situacionesiva,label:"IVA"},model:{value:t.situacioniva,callback:function(e){t.situacioniva=e},expression:"situacioniva"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{items:t.tipocomprobantes,label:"Cbte.Generico",disabled:!t.generico},model:{value:t.tipocomprobantegenerico,callback:function(e){t.tipocomprobantegenerico=e},expression:"tipocomprobantegenerico"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{label:"CUIT",disabled:t.generico},model:{value:t.cuit,callback:function(e){t.cuit=e},expression:"cuit"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"eMail",disabled:t.generico},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Telefono",disabled:t.generico},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-select",{attrs:{clearable:"",items:t.personas,label:"Contacto",disabled:t.generico},model:{value:t.idpersona,callback:function(e){t.idpersona=e},expression:"idpersona"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Proveedor?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Proveedor?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el proveedor "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1100px"},model:{value:t.dialogAp,callback:function(e){t.dialogAp=e},expression:"dialogAp"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Alternativas de Pago Proveedor #"+t._s(t.idproveedor)+": "+t._s(t.proveedor)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"750px"},model:{value:t.dialogApForm,callback:function(e){t.dialogApForm=e},expression:"dialogApForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitleAp))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Orden"},model:{value:t.orden,callback:function(e){t.orden=e},expression:"orden"}})],1),a("v-flex",{attrs:{xs7:"",sm7:"",md7:""}},[a("v-text-field",{attrs:{label:"Beneficiario"},model:{value:t.beneficiario,callback:function(e){t.beneficiario=e},expression:"beneficiario"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"CUIT/CUIL"},model:{value:t.cuitcuil,callback:function(e){t.cuitcuil=e},expression:"cuitcuil"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{label:"Banco"},model:{value:t.banco,callback:function(e){t.banco=e},expression:"banco"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Tipo"},model:{value:t.tipocuenta,callback:function(e){t.tipocuenta=e},expression:"tipocuenta"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{label:"#Cuenta"},model:{value:t.numcuenta,callback:function(e){t.numcuenta=e},expression:"numcuenta"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"CBU"},model:{value:t.cbu,callback:function(e){t.cbu=e},expression:"cbu"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Alias"},model:{value:t.alias,callback:function(e){t.alias=e},expression:"alias"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeApForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardarAp(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModalAp,callback:function(e){t.adModalAp=e},expression:"adModalAp"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Alternativa Pago?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Alternativa Pago?")]):t._e(),a("v-card-text",[t._v("\n                                    Estás a punto de \n                                    "),1==t.adAccionAp?a("span",[t._v("Activar ")]):t._e(),2==t.adAccionAp?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                    la Alternativa de Pago "+t._s(t.adNombreAp)+"\n                                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrarAp}},[t._v("\n                                        Cancelar\n                                    ")]),1==t.adAccionAp?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activarAp}},[t._v("\n                                        Activar\n                                    ")]):t._e(),2==t.adAccionAp?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivarAp}},[t._v("\n                                        Desactivar\n                                    ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.alternativapagos},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                    edit\n                                    ")]),[e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrarAp(2,e.item)}}},[t._v("\n                                            block\n                                            ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrarAp(1,e.item)}}},[t._v("\n                                            check\n                                            ")])]]],2),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.beneficiario))]),a("td",[t._v(t._s(e.item.banco))]),a("td",[t._v(t._s(e.item.cuitcuil))]),a("td",[t._v(t._s(e.item.tipocuenta))]),a("td",[t._v(t._s(e.item.numcuenta))]),a("td",[t._v(t._s(e.item.cbu))]),a("td",[t._v(t._s(e.alias))]),a("td",{staticClass:"justify-center "},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                    NADA PARA MOSTRAR :(\n                                ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetailAp(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetailAp(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proveedores,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                        edit\n                        ")]),e.item.activo?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editAlternativapago(e.item)}}},[t._v("\n                        tab\n                        ")]):t._e(),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                            block\n                            ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                            check\n                            ")])]],2),a("td",[t._v(t._s(e.item.razonsocial))]),a("td",[t._v(t._s(e.item.cuit))]),a("td",[t._v(t._s(e.item.situacioniva))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[e.item.generico?a("div",[a("span",{staticClass:"red--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.tipocomprobantegenerico))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Oi=[],Ni=(a("20d6"),a("55dd"),{data:function(){var t;return t={snackbar:!1,snacktext:"Hola",timeout:4e3,proveedores:[],paises:[],provincias:[],personas:[],alternativapagos:[],dialog:!1,dialogAp:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Razon Social",value:"razonsocial",sortable:!0},{text:"CUIT",value:"cuit",sortable:!0},{text:"IVA",value:"situacioniva",sortable:!0},{text:"eMail",value:"email",sortable:!0},{text:"Telefono",value:"telefono",sortable:!0},{text:"Contacto",value:"persona",sortable:!0},{text:"Generico",value:"generico",sortable:!0},{text:"Cbte.Generico",value:"tipocomprobantegenerico",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Orden",value:"orden",sortable:!0},{text:"Beneficiario",value:"beneficiario",sortable:!0},{text:"Banco",value:"banco",sortable:!0},{text:"CUIT/CUIL",value:"cuitcuil",sortable:!0},{text:"Tipo",value:"tipocuenta",sortable:!0},{text:"#Cuenta",value:"numcuenta",sortable:!0},{text:"CBU",value:"cbu",sortable:!0},{text:"Alias",value:"alias",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],tipocomprobantes:[{value:"01",text:"Fc A"},{value:"02",text:"Fc B"},{value:"03",text:"Tk A"},{value:"04",text:"Tk B"},{value:"05",text:"Fc C"},{value:"06",text:"Fc M"},{value:"07",text:"Otro"}],search:"",editedIndex:-1,editedIndexAp:-1,idpersona:"",idpais:"",idprovincia:"",idproveedor:"",proveedor:"",razonsocial:"",generico:!1,tipocomprobantegenerico:"",cuit:"",cuitoriginal:"",situacionesiva:[{value:"01",text:"IVA Responsable Inscripto"},{value:"02",text:"IVA Responsable no Inscripto"},{value:"03",text:"IVA no Responsable"},{value:"04",text:"IVA Sujeto Exento"},{value:"05",text:"Consumidor Final"},{value:"06",text:"Responsable Monotributo"},{value:"07",text:"Sujeto no Categorizado"},{value:"08",text:"Proveedor del Exterior"},{value:"10",text:"IVA Liberado – Ley Nº 19.640"},{value:"11",text:"IVA Responsable Inscripto – Agente de Percepción"},{value:"12",text:"Pequeño Contribuyente Eventual"},{value:"13",text:"Monotributista Social"},{value:"14",text:"Pequeño Contribuyente Eventual Social"}],situacioniva:"",email:"",telefono:""},Object(Mi["a"])(t,"idpersona",""),Object(Mi["a"])(t,"idalternativapago",""),Object(Mi["a"])(t,"orden",""),Object(Mi["a"])(t,"beneficiario",""),Object(Mi["a"])(t,"banco",""),Object(Mi["a"])(t,"cuitcuil",""),Object(Mi["a"])(t,"tipocuenta",""),Object(Mi["a"])(t,"numcuenta",""),Object(Mi["a"])(t,"cbu",""),Object(Mi["a"])(t,"alias",""),Object(Mi["a"])(t,"iduseralta",""),Object(Mi["a"])(t,"fecalta",""),Object(Mi["a"])(t,"iduserumod",""),Object(Mi["a"])(t,"fecumod",""),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"esMl",!1),Object(Mi["a"])(t,"adModal",0),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adModalAp",0),Object(Mi["a"])(t,"adAccionAp",0),Object(Mi["a"])(t,"adNombreAp",0),Object(Mi["a"])(t,"adId",""),Object(Mi["a"])(t,"dialogApForm",!1),t},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo proveedor":"Actualizar proveedor"},formTitleAp:function(){return-1===this.editedIndexAp?"Nueva alternativa pago de "+this.proveedor:"Actualizar alternativa pago de "+this.proveedor}},watch:{dialog:function(t){t||this.close()},dialogApForm:function(t){t||this.closeApForm()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"R.Social",dataKey:"razonsocial"},{title:"CUIT",dataKey:"cuit"},{title:"IVA",dataKey:"situacioniva"},{title:"eMail",dataKey:"email"},{title:"Teléfono",dataKey:"telefono"},{title:"Generico",dataKey:"generico"},{title:"Activo",dataKey:"activo"}],e=[];this.proveedores.map((function(t){e.push({razonsocial:t.razonsocial,generico:t.generico,cuit:t.cuit,situacioniva:t.situacioniva,email:t.email,telefono:t.telefono,activo:t.activo})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Proveedores",40,30)}}),a.save("Proveedores.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Proveedores/Listar",a).then((function(e){t.proveedores=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};W.a.get("api/Paises/Select",s).then((function(a){e=a.data.sort((function(t,e){return t.pais>e.pais?1:-1})),e.map((function(e){t.paises.push({text:e.pais,value:e.idpais,cuit:e.cuit})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Provincias/Select",s).then((function(e){a=e.data,a.map((function(e){t.provincias.push({text:e.provincia,value:e.idprovincia})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectContactoProveedor",s).then((function(e){i=e.data,i.map((function(e){t.personas.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idproveedor=t.idproveedor,this.razonsocial=t.razonsocial,this.generico=t.generico,this.tipocomprobantegenerico=t.tipocomprobantegenerico,this.cuit=t.cuit,this.situacioniva=t.situacioniva,this.email=t.email,this.telefono=t.telefono,this.idpersona=t.idpersona,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idproveedor="",this.razonsocial="",this.generico=!1,this.tipocomprobantegenerico="",this.cuit="",this.cuitoriginal="",this.situacioniva="",this.email="",this.telefono="",this.idpersona="",this.idpais="",this.idprovincia="",this.editedIndex=-1,this.validaMensaje=[]},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Proveedores/Actualizar",{idproveedor:i.idproveedor,razonsocial:i.razonsocial,generico:i.generico,tipocomprobantegenerico:i.tipocomprobantegenerico,cuit:i.cuit,situacioniva:i.situacioniva,email:i.email,telefono:i.telefono,idpersona:i.idpersona,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Proveedores/Crear",{idpais:o.idpais,idprovincia:o.idprovincia,razonsocial:o.razonsocial,generico:o.generico,tipocomprobantegenerico:o.tipocomprobantegenerico,cuit:o.cuit,situacioniva:o.situacioniva,email:o.email,telefono:o.telefono,idpersona:o.idpersona,iduseralta:o.$store.state.usuario.idusuario,fecalta:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),iduserumod:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},armaGenerico:function(){this.situacioniibb="5",this.idprovincia=3,this.idpais=1,this.formadepago="CONTADO"},selectCuit:function(){var t=this,e=this.paises.findIndex((function(e){return e.value===t.idpais}));"ARGENTINA"!=this.paises[e].text&&(this.situacioniva="08",this.cuit=this.paises[e].cuit)},validar:function(){return this.valida=0,this.validaMensaje=[],(this.razonsocial.length<3||this.razonsocial.length>50)&&this.validaMensaje.push("La razon social debe tener más de 3 caracteres y menos de 50 caracteres."),this.situacioniva||this.validaMensaje.push("Seleccione una situacion IVA."),("05"==!this.situacioniva&&"07"==!this.situacioniva||!this.cuit&&!this.generico)&&this.validaMensaje.push("Ingrese un CUIT."),this.cuitValido(this.cuit)||this.generico||this.validaMensaje.push("Numero de CUIT duplicado."),!this.tipocomprobantegenerico&&this.generico&&this.validaMensaje.push("Seleccione un Tipo de Cbte Generico."),this.validaMensaje.length&&(this.valida=1),this.valida},cuitValido:function(t){var e=1;if(t.substr(0,2)<"50"&&this.cuitoriginal!=this.cuit)for(var a=0;a<this.proveedores.length;a++)if(this.proveedores[a]["cuit"]===t){e=-1;break}return e},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.razonsocial,this.adId=e.idproveedor,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proveedores/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proveedores/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},validarAp:function(){return this.valida=0,this.validaMensaje=[],this.orden||this.validaMensaje.push("Ingrese un #Orden."),(this.beneficiario.length<3||this.beneficiario.length>50)&&this.validaMensaje.push("El beneficiario debe tener más de 3 caracteres y menos de 50 caracteres."),this.cuitcuil||this.validaMensaje.push("Ingrese un CUIT/CUIL para hacer eTransfers."),this.cbu||this.alias||this.validaMensaje.push("Ingrese un CBU o un Alias para hacer eTransfers."),this.cbu.length>22&&this.validaMensaje.push("El CBU no puede exceder las 22 posiciones."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrarAp:function(t,e){this.adModalAp=1,this.adNombreAp=e.beneficiario,this.adIdAp=e.idalternativapago,1==t?this.adAccionAp=1:2==t?this.adAccionAp=2:this.adModalAp=0},activarDesactivarCerrarAp:function(){this.adModalAp=0},activarAp:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Alternativapagos/Activar/"+this.adIdAp,{},a).then((function(e){t.adModalAp=0,t.adAccionAp=0,t.adNombreAp="",t.adIdAp="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivarAp:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Alternativapagos/Desactivar/"+this.adIdAp,{},a).then((function(e){t.adModalAp=0,t.adAccionAp=0,t.adNombreAp="",t.adIdAp="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editAlternativapago:function(t){this.idproveedor=t.idproveedor,this.proveedor=t.razonsocial,this.listarDetail(),this.dialogAp=!0},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Alternativapagos/ListarProveedor/"+this.idproveedor,a).then((function(e){t.alternativapagos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editDetailItem:function(t){this.idalternativapago=t.idalternativapago,this.idproveedor=t.idproveedor,this.orden=t.orden,this.beneficiario=t.beneficiario,this.banco=t.banco,this.cuitcuil=t.cuitcuil,this.tipocuenta=t.tipocuenta,this.numcuenta=t.numcuenta,this.cbu=t.cbu,this.alias=t.alias,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndexAp=1,this.dialogApForm=!0},createDetailAp:function(){this.limpiarDetail(),this.editedIndexAp=-1,this.dialogApForm=!0},closeDetailAp:function(){this.dialogAp=!1,this.limpiar()},closeApForm:function(){this.dialogApForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarDetail:function(){this.idalternativapago="",this.orden="",this.beneficiario="",this.banco="",this.cuitcuil="",this.tipocuenta="",this.numcuenta="",this.cbu="",this.alias="",this.editedIndexAp=-1},guardarAp:function(){if(!this.validarAp()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndexAp>-1){var i=this;W.a.put("api/Alternativapagos/Actualizar",{idalternativapago:i.idalternativapago,idproveedor:i.idproveedor,orden:i.orden,beneficiario:i.beneficiario,banco:i.banco,cuitcuil:i.cuitcuil,tipocuenta:i.tipocuenta,numcuenta:i.numcuenta,cbu:i.cbu,alias:i.alias,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeApForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;console.log(o),W.a.post("api/Alternativapagos/Crear",{idproveedor:o.idproveedor,orden:o.orden,beneficiario:o.beneficiario,banco:o.banco,cuitcuil:o.cuitcuil,tipocuenta:o.tipocuenta,numcuenta:o.numcuenta,cbu:o.cbu,alias:o.alias,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeApForm(),o.listarDetail(),o.limpiarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}}}}),zi=Ni,Bi=a("0798"),$i=Object(b["a"])(zi,Ti,Oi,!1,null,null,null),Ei=$i.exports;g()($i,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Crews")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.snacktext)+"\n                    "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                        Cerrar\n                    ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.personas,"search-input":t.searchp,label:"Crew"},on:{"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e}},model:{value:t.idpersona,callback:function(e){t.idpersona=e},expression:"idpersona"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"CUIL"},model:{value:t.cuil,callback:function(e){t.cuil=e},expression:"cuil"}})],1),[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Nacimiento","prepend-icon":"event",readonly:""},model:{value:t.fecnacimiento,callback:function(e){t.fecnacimiento=e},expression:"fecnacimiento"}},i))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{ref:"picker",on:{change:t.save},model:{value:t.fecnacimiento,callback:function(e){t.fecnacimiento=e},expression:"fecnacimiento"}})],1)],a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Nacionalidad"},model:{value:t.nacionalidad,callback:function(e){t.nacionalidad=e},expression:"nacionalidad"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Estudios Cursados"},model:{value:t.estudioscursados,callback:function(e){t.estudioscursados=e},expression:"estudioscursados"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{items:t.estadocivils,label:"Estado Civil"},model:{value:t.estadocivil,callback:function(e){t.estadocivil=e},expression:"estadocivil"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Datos Cónyugue"},model:{value:t.datosconyugue,callback:function(e){t.datosconyugue=e},expression:"datosconyugue"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{label:"#Hijos"},model:{value:t.cantidadhijos,callback:function(e){t.cantidadhijos=e},expression:"cantidadhijos"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"<MMAA;> Nacimiento Hijos"},model:{value:t.listammaanacimientohijos,callback:function(e){t.listammaanacimientohijos=e},expression:"listammaanacimientohijos"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Sindicato"},model:{value:t.sindicato,callback:function(e){t.sindicato=e},expression:"sindicato"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"#Afiliado Sindicato"},model:{value:t.numafiliadosindicato,callback:function(e){t.numafiliadosindicato=e},expression:"numafiliadosindicato"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Obra Social"},model:{value:t.obrasocial,callback:function(e){t.obrasocial=e},expression:"obrasocial"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"#Afiliado Obra Social"},model:{value:t.numafiliadoobrasocial,callback:function(e){t.numafiliadoobrasocial=e},expression:"numafiliadoobrasocial"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"CBU"},model:{value:t.cbu,callback:function(e){t.cbu=e},expression:"cbu"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Crew?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Crew?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el crew "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.crews,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                        edit\n                        ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                            block\n                            ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                            check\n                            ")])]],2),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.cuil))]),a("td",[t._v(t._s(e.item.fecnacimiento.substr(0,10)))]),a("td",[t._v(t._s(e.item.nacionalidad))]),a("td",[t._v(t._s(e.item.estudioscursados))]),a("td",[t._v(t._s(e.item.estadocivil))]),a("td",[t._v(t._s(e.item.datosconyugue))]),a("td",[t._v(t._s(e.item.cantidadhijos))]),a("td",[t._v(t._s(e.item.listammaanacimientohijos))]),a("td",[t._v(t._s(e.item.sindicato))]),a("td",[t._v(t._s(e.item.numafiliadosindicato))]),a("td",[t._v(t._s(e.item.obrasocial))]),a("td",[t._v(t._s(e.item.numafiliadoobrasocial))]),a("td",[t._v(t._s(e.item.cbu))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Li=[],Ui={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fecnacimiento:null,menu:!1,off:!1,crews:[],personas:[],estadocivils:["Soltero/a","Casado/a","Separado/a","Divorciado/a","Viudo/a","Concubino/a"],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"CUIL",value:"cuil",sortable:!0},{text:"FecNacimiento",value:"fecnacimiento",sortable:!0},{text:"Nacionalidad",value:"nacionalidad",sortable:!0},{text:"Estudios Cursados",value:"estudioscursados",sortable:!0},{text:"Estado Civil",value:"estadocivil",sortable:!0},{text:"Datos Conyugue",value:"datosconyugue",sortable:!0},{text:"#Hijos",value:"cantidadhijos",sortable:!0},{text:"MMAA; Nac.Hijos",value:"listammaanacimientohijos",sortable:!0},{text:"Sindicato",value:"sindicato",sortable:!0},{text:"#Afiliado Sindicato",value:"numafiliadosindicato",sortable:!0},{text:"Obra Social",value:"obrasocial",sortable:!0},{text:"#Afiliado Obra Social",value:"numafiliadoobrasocial",sortable:!0},{text:"CBU",value:"cbu",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",searchp:"",editedIndex:-1,idcrew:"",idpersona:"",cuil:"",nacionalidad:"",estudioscursados:"",estadocivil:"",datosconyugue:"",cantidadhijos:0,listammaanacimientohijos:"",sindicato:"",numafiliadosindicato:"",obrasocial:"",numafiliadoobrasocial:"",cbu:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo crew":"Actualizar crew"}},watch:{dialog:function(t){t||this.close()},menu:function(t){var e=this;t&&setTimeout((function(){return e.$refs.picker.activePicker="YEAR"}))}},created:function(){this.listar(),this.select()},methods:{save:function(t){this.$refs.menu.save(t)},crearPDF:function(){var t=[{title:"Nombre",dataKey:"nombre"},{title:"CUIL",dataKey:"cuil"},{title:"FecNacimiento",dataKey:"fecnacimiento"},{title:"Nacionalidad",dataKey:"nacionalidad"},{title:"Estado Civil",dataKey:"estadocivil"},{title:"Sindicato",dataKey:"sindicato"},{title:"#Afiliado",dataKey:"numafiliadosindicato"},{title:"Obrasocial",dataKey:"obrasocial"},{title:"#Afiliado",dataKey:"numafiliadoobrasocial"},{title:"CBU",dataKey:"cbu"},{title:"Activo",dataKey:"activo"}],e=[];this.crews.map((function(t){e.push({nombre:t.nombre,cuil:t.cuil,fecnacimiento:t.fecnacimiento,nacionalidad:t.nacionalidad,estadocivil:t.estadocivil,sindicato:t.sindicato,numafiliadosindicato:t.numafiliadosindicato,obrasocial:t.obrasocial,numafiliadoobrasocial:t.numafiliadoobrasocial,cbu:t.cbu,activo:t.activo})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Crews",40,30)}}),a.save("Crews.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Crews/Listar",a).then((function(e){t.crews=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.get("api/Personas/SelectContactoCrew",i).then((function(a){e=a.data,e.map((function(e){t.personas.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idcrew=t.idcrew,this.idpersona=t.idpersona,this.cuil=t.cuil,this.fecnacimiento=t.fecnacimiento.substr(0,10),this.nacionalidad=t.nacionalidad,this.estudioscursados=t.estudioscursados,this.estadocivil=t.estadocivil,this.datosconyugue=t.datosconyugue,this.cantidadhijos=t.cantidadhijos,this.listammaanacimientohijos=t.listammaanacimientohijos,this.sindicato=t.sindicato,this.numafiliadosindicato=t.numafiliadosindicato,this.obrasocial=t.obrasocial,this.numafiliadoobrasocial=t.numafiliadoobrasocial,this.cbu=t.cbu,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idcrew="",this.idpersona="",this.cuil="",this.fecnacimiento="",this.nacionalidad="",this.estudioscursados="",this.estadocivil="",this.datosconyugue="",this.cantidadhijos=0,this.listammaanacimientohijos="",this.sindicato="",this.numafiliadosindicato="",this.obrasocial="",this.numafiliadoobrasocial="",this.cbu="",this.editedIndex=1,this.editedIndex=-1,this.searchp=""},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Crews/Actualizar",{idcrew:a.idcrew,idpersona:a.idpersona,cuil:a.cuil,fecnacimiento:a.fecnacimiento,nacionalidad:a.nacionalidad,estudioscursados:a.estudioscursados,estadocivil:a.estadocivil,datosconyugue:a.datosconyugue,cantidadhijos:a.cantidadhijos,listammaanacimientohijos:a.listammaanacimientohijos,sindicato:a.sindicato,numafiliadosindicato:a.numafiliadosindicato,obrasocial:a.obrasocial,numafiliadoobrasocial:a.numafiliadoobrasocial,cbu:a.cbu},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Crews/Crear",{idpersona:i.idpersona,cuil:i.cuil,fecnacimiento:i.fecnacimiento,nacionalidad:i.nacionalidad,estudioscursados:i.estudioscursados,estadocivil:i.estadocivil,datosconyugue:i.datosconyugue,cantidadhijos:i.cantidadhijos,listammaanacimientohijos:i.listammaanacimientohijos,sindicato:i.sindicato,numafiliadosindicato:i.numafiliadosindicato,obrasocial:i.obrasocial,numafiliadoobrasocial:i.numafiliadoobrasocial,cbu:i.cbu},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idpersona||this.validaMensaje.push("Seleccione una Persona."),(this.nacionalidad.length<3||this.nacionalidad.length>50)&&this.validaMensaje.push("La nacionalidad debe tener más de 3 caracteres y menos de 20 caracteres."),this.cuil||this.validaMensaje.push("Ingrese un CUIL."),this.fecnacimiento||this.validaMensaje.push("Ingrese fecha de nacimiento."),this.nacionalidad||this.validaMensaje.push("Ingrese nacionalidad."),this.estudioscursados||this.validaMensaje.push("Ingrese estudios cursados."),this.estadocivil||this.validaMensaje.push("Ingrese estado civil."),this.cantidadhijos||this.validaMensaje.push("Ingrese la cantidad de hijos."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idcrew,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Crews/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Crews/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},qi=Ui,Ki=Object(b["a"])(qi,Ri,Li,!1,null,null,null),Gi=Ki.exports;g()(Ki,{VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Hi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Proyectos en Cartera")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.snacktext)+"\n                    "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                        Cerrar\n                    ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1200px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{disabled:"",label:"#Proyecto"},model:{value:t.orden,callback:function(e){t.orden=e},expression:"orden"}})],1),a("v-flex",{attrs:{xs7:"",sm:"",md7:""}},[a("v-text-field",{attrs:{disabled:"",label:"Proyecto"},model:{value:t.proyecto,callback:function(e){t.proyecto=e},expression:"proyecto"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-select",{attrs:{items:t.clientes,label:"Cliente"},on:{change:function(e){return t.selectProyectosDeCliente()}},model:{value:t.idcliente,callback:function(e){t.idcliente=e},expression:"idcliente"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchep,items:t.eps,label:"E.P."},on:{"update:searchInput":function(e){t.searchep=e},"update:search-input":function(e){t.searchep=e}},model:{value:t.idep,callback:function(e){t.idep=e},expression:"idep"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchor,items:t.origenes,label:"Origen"},on:{"update:searchInput":function(e){t.searchor=e},"update:search-input":function(e){t.searchor=e}},model:{value:t.idorigen,callback:function(e){t.idorigen=e},expression:"idorigen"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchag,items:t.agencias,label:"Agencia"},on:{"update:searchInput":function(e){t.searchag=e},"update:search-input":function(e){t.searchag=e}},model:{value:t.idagencia,callback:function(e){t.idagencia=e},expression:"idagencia"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.territorios,disabled:"",label:"Territorio"},model:{value:t.idterritorio,callback:function(e){t.idterritorio=e},expression:"idterritorio"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{"search-input":t.searchdi,items:t.directores,label:"Director"},on:{"update:searchInput":function(e){t.searchdi=e},"update:search-input":function(e){t.searchdi=e}},model:{value:t.iddirector,callback:function(e){t.iddirector=e},expression:"iddirector"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchco,items:t.directores,label:"Co-director"},on:{"update:searchInput":function(e){t.searchco=e},"update:search-input":function(e){t.searchco=e}},model:{value:t.idcodirector,callback:function(e){t.idcodirector=e},expression:"idcodirector"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.tipoprods,label:"Tipo de Produccion"},model:{value:t.idtipoprod,callback:function(e){t.idtipoprod=e},expression:"idtipoprod"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.productoras,label:"Productora"},model:{value:t.idproductora,callback:function(e){t.idproductora=e},expression:"idproductora"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.empresas,label:"Empresa"},model:{value:t.idempresa,callback:function(e){t.idempresa=e},expression:"idempresa"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{clearable:"",items:t.lps,label:"L.P."},model:{value:t.idlp,callback:function(e){t.idlp=e},expression:"idlp"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{clearable:"",items:t.cps,label:"C.P."},model:{value:t.idcp,callback:function(e){t.idcp=e},expression:"idcp"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":t.searchra,items:t.raices,label:"Proyecto Raíz"},on:{"update:searchInput":function(e){t.searchra=e},"update:search-input":function(e){t.searchra=e}},model:{value:t.idraiz,callback:function(e){t.idraiz=e},expression:"idraiz"}})],1),[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Adjudicación","prepend-icon":"event",readonly:""},model:{value:t.fecadjudicacion,callback:function(e){t.fecadjudicacion=e},expression:"fecadjudicacion"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.fecadjudicacion,callback:function(e){t.fecadjudicacion=e},expression:"fecadjudicacion"}})],1)],1)],[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Rodaje","prepend-icon":"event",readonly:""},model:{value:t.fecrodaje,callback:function(e){t.fecrodaje=e},expression:"fecrodaje"}},i))]}}]),model:{value:t.menu6,callback:function(e){t.menu6=e},expression:"menu6"}},[a("v-date-picker",{on:{input:function(e){t.menu6=!1}},model:{value:t.fecrodaje,callback:function(e){t.fecrodaje=e},expression:"fecrodaje"}})],1)],1)],[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Offline","prepend-icon":"event",readonly:""},model:{value:t.fecoffline,callback:function(e){t.fecoffline=e},expression:"fecoffline"}},i))]}}]),model:{value:t.menu7,callback:function(e){t.menu7=e},expression:"menu7"}},[a("v-date-picker",{on:{input:function(e){t.menu7=!1}},model:{value:t.fecoffline,callback:function(e){t.fecoffline=e},expression:"fecoffline"}})],1)],1)],[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Online","prepend-icon":"event",readonly:""},model:{value:t.feconline,callback:function(e){t.feconline=e},expression:"feconline"}},i))]}}]),model:{value:t.menu8,callback:function(e){t.menu8=e},expression:"menu8"}},[a("v-date-picker",{on:{input:function(e){t.menu8=!1}},model:{value:t.feconline,callback:function(e){t.feconline=e},expression:"feconline"}})],1)],1)],[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Inicio DxD","prepend-icon":"event",readonly:""},model:{value:t.fecdesdxd,callback:function(e){t.fecdesdxd=e},expression:"fecdesdxd"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.fecdesdxd,callback:function(e){t.fecdesdxd=e},expression:"fecdesdxd"}})],1)],1)],[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fin DxD","prepend-icon":"event",readonly:""},model:{value:t.fechasdxd,callback:function(e){t.fechasdxd=e},expression:"fechasdxd"}},i))]}}]),model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[a("v-date-picker",{attrs:{min:t.fecdesdxd},on:{input:function(e){t.menu3=!1}},model:{value:t.fechasdxd,callback:function(e){t.fechasdxd=e},expression:"fechasdxd"}})],1)],1)],[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Inicio CF","prepend-icon":"event",readonly:""},model:{value:t.fecdescf,callback:function(e){t.fecdescf=e},expression:"fecdescf"}},i))]}}]),model:{value:t.menu4,callback:function(e){t.menu4=e},expression:"menu4"}},[a("v-date-picker",{on:{input:function(e){t.menu4=!1}},model:{value:t.fecdescf,callback:function(e){t.fecdescf=e},expression:"fecdescf"}})],1)],1)],[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fin CF","prepend-icon":"event",readonly:""},model:{value:t.fechascf,callback:function(e){t.fechascf=e},expression:"fechascf"}},i))]}}]),model:{value:t.menu5,callback:function(e){t.menu5=e},expression:"menu5"}},[a("v-date-picker",{attrs:{min:t.fecdescf},on:{input:function(e){t.menu5=!1}},model:{value:t.fechascf,callback:function(e){t.fechascf=e},expression:"fechascf"}})],1)],1)],a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{type:"number",label:"ARS/USD"},model:{value:t.ars1usd,callback:function(e){t.ars1usd=e},expression:"ars1usd"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Proyecto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Proyecto?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el proyecto "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                        edit\n                        ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                            block\n                            ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                            check\n                            ")])]],2),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.empresa))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[t._v(t._s(e.item.agencia))]),a("td",[t._v(t._s(e.item.productora))]),a("td",[t._v(t._s(e.item.director))]),a("td",[t._v(t._s(e.item.codirector))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.lp))]),a("td",[t._v(t._s(e.item.cp))]),a("td",[t._v(t._s(e.item.ars1usd))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[e.item.fecdesdxd?a("div",[t._v("\n                            "+t._s(e.item.fecdesdxd.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecdesdxd)+"\n                        ")])]),a("td",[e.item.fechasdxd?a("div",[t._v("\n                            "+t._s(e.item.fechasdxd.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fechasdxd)+"\n                        ")])]),a("td",[e.item.fecdescf?a("div",[t._v("\n                            "+t._s(e.item.fecdescf.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecdescf)+"\n                        ")])]),a("td",[e.item.fechascf?a("div",[t._v("\n                            "+t._s(e.item.fechascf.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fechascf)+"\n                        ")])]),a("td",[e.item.fecrodaje?a("div",[t._v("\n                            "+t._s(e.item.fecrodaje.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecrodaje)+"\n                        ")])]),a("td",[e.item.fecoffline?a("div",[t._v("\n                            "+t._s(e.item.fecoffline.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecoffline)+"\n                        ")])]),a("td",[e.item.feconline?a("div",[t._v("\n                            "+t._s(e.item.feconline.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feconline)+"\n                        ")])]),a("td",[t._v(t._s(e.item.cierreprod))]),a("td",[e.item.feccierreprod?a("div",[t._v("\n                            "+t._s(e.item.feccierreprod.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feccierreprod)+"\n                        ")])]),a("td",[t._v(t._s(e.item.cierreadmin))]),a("td",[e.item.feccierreadmin?a("div",[t._v("\n                            "+t._s(e.item.feccierreadmin.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feccierreadmin)+"\n                        ")])]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Yi=[],Wi={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fecadjudicacion:null,fecdesdxd:null,fechasdxd:null,fecdescf:null,fechascf:null,fecrodaje:null,fecoffline:null,feconline:null,menu:!1,menu1:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,menu7:!1,menu8:!1,origenes:[],tipoprods:[],proyectos:[],empresas:[],territorios:[],agencias:[],productoras:[],clientes:[],raices:[],directores:[],eps:[],lps:[],cps:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo Producción",value:"tipoprod",sortable:!0},{text:"Cliente",value:"cliente",sortable:!0},{text:"Empresa",value:"empresa",sortable:!0},{text:"Origen",value:"origen",sortable:!0},{text:"Territorio",value:"territorio",sortable:!0},{text:"Agencia",value:"agencia",sortable:!0},{text:"Productora",value:"productora",sortable:!0},{text:"Director",value:"director",sortable:!0},{text:"Co-Director",value:"codirector",sortable:!0},{text:"E.P.",value:"ep",sortable:!0},{text:"L.P.",value:"lp",sortable:!0},{text:"C.P.",value:"cp",sortable:!0},{text:"ARS/USD",value:"ars1usd",sortable:!0},{text:"Fec.Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Fec.Inicio DxD",value:"fecdesdxd",sortable:!0},{text:"Fec.Fin DxD",value:"fechasdxd",sortable:!0},{text:"Fec.Inicio CF",value:"fecdescf",sortable:!0},{text:"Fec.Fin CF",value:"fechascf",sortable:!0},{text:"Fec.Rodaje",value:"fecrodaje",sortable:!0},{text:"Fec.Offline",value:"fecoffline",sortable:!0},{text:"Fec.Online",value:"feconline",sortable:!0},{text:"CierreProd",value:"cierreprod",sortable:!0},{text:"Fec.Cierre Producción",value:"feccierreprod",sortable:!0},{text:"CierreAdm",value:"cierreadmin",sortable:!0},{text:"Fec.Cierre Administración",value:"feccierreadmin",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",searchdi:"",searchco:"",searchep:"",searchor:"",searchag:"",searchra:"",editedIndex:-1,idproyecto:"",idraiz:"",orden:"",proyecto:"",idtipoprod:"",idorigen:"",idagencia:"",idempresa:"",idterritorio:"",idproductora:"",idcliente:"",iddirector:"",idcodirector:"",idep:"",idlp:"",idcp:"",ars1usd:0,cierreprod:"",feccierreprod:"",cierreadmin:"",feccierreadmin:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo proyecto":"Actualizar proyecto"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"#Proyecto",dataKey:"orden"},{title:"Proyecto",dataKey:"proyecto"},{title:"Tipo Produccion",dataKey:"tipoprod"},{title:"Cliente",dataKey:"cliente"},{title:"Empresa",dataKey:"empresa"},{title:"Director",dataKey:"director"},{title:"EP",dataKey:"ep"},{title:"Adjudicacion",dataKey:"fecadjudicacion"},{title:"Inicio DxD",dataKey:"fecdesdxd"},{title:"Offline",dataKey:"fecoffline"},{title:"Online",dataKey:"feconline"},{title:"Rodaje",dataKey:"fecrodaje"}],e=[];this.proyectos.map((function(t){e.push({orden:t.orden,proyecto:t.proyecto,tipoprod:t.tipoprod,cliente:t.cliente,empresa:t.empresa,director:t.director,ep:t.ep,fecadjudicacion:t.fecadjudicacion,fecdesdxd:t.fecdesdxd,fecoffline:t.offline,feconline:t.online,fecrodaje:t.fecrodaje})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Proyectos",40,30)}}),a.save("Proyectos.pdf")},selectProyectosDeCliente:function(){if(this.idcliente){var t=this,e=[];t.raices=[],this.idraiz="";var a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.get("api/Proyectos/SelectProyectosDeCliente/"+this.idcliente,i).then((function(a){e=a.data,e.map((function(e){t.raices.push({text:e.orden+" "+e.proyecto,value:e.idproyecto})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol||"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listar",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listarusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o=[],s=[],r=[],n=[],c=[],d=[],l=[],u={Authorization:"Bearer "+this.$store.state.token},v={headers:u};W.a.get("api/Origenes/Select",v).then((function(a){e=a.data,e.map((function(e){t.origenes.push({text:e.origen,value:e.idorigen})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoprods/Select",v).then((function(e){a=e.data,a.map((function(e){t.tipoprods.push({text:e.tipoprod,value:e.idtipoprod})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Empresas/Select",v).then((function(e){i=e.data,i.map((function(e){t.empresas.push({text:e.empresa,value:e.idempresa})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Territorios/Select",v).then((function(e){o=e.data,o.map((function(e){t.territorios.push({text:e.territorio,value:e.idterritorio})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Agencias/Select",v).then((function(e){s=e.data,s.map((function(e){t.agencias.push({text:e.agencia,value:e.idagencia})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Productoras/Select",v).then((function(e){r=e.data,r.map((function(e){t.productoras.push({text:e.productora,value:e.idproductora})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}));var p=[];W.a.get("api/Clientes/Select",v).then((function(e){p=e.data,p.map((function(e){t.clientes.push({text:e.razonsocial,value:e.idcliente,activo:e.activo})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectDirectores",v).then((function(e){n=e.data,n.map((function(e){t.directores.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectEps",v).then((function(e){c=e.data,c.map((function(e){t.eps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectLps",v).then((function(e){d=e.data,d.map((function(e){t.lps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectCps",v).then((function(e){l=e.data,l.map((function(e){t.cps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idproyecto=t.idproyecto,this.idcliente=t.idcliente,this.selectProyectosDeCliente(),this.idraiz=t.idraiz,this.orden=t.orden,this.proyecto=t.proyecto,this.idtipoprod=t.idtipoprod,this.idempresa=t.idempresa,this.idterritorio=t.idterritorio,this.idagencia=t.idagencia,this.idorigen=t.idorigen,this.idproductora=t.idproductora,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idep=t.idep,this.idlp=t.idlp,this.idcp=t.idcp,this.ars1usd=t.ars1usd,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.fecdesdxd=t.fecdesdxd?t.fecdesdxd.substr(0,10):t.fecdesdxd,this.fechasdxd=t.fechasdxd?t.fechasdxd.substr(0,10):t.fechasdxd,this.fecdescf=t.fecdescf?t.fecdescf.substr(0,10):t.fecdescf,this.fechascf=t.fechascf?t.fechascf.substr(0,10):t.fechascf,this.fecrodaje=t.fecrodaje?t.fecrodaje.substr(0,10):t.fecrodaje,this.fecoffline=t.fecoffline?t.fecoffline.substr(0,10):t.fecoffline,this.feconline=t.fecoffline?t.feconline.substr(0,10):t.fecoffline,this.cierreprod=t.cierreprod,this.feccierreprod=t.feccierreprod,this.cierreadmin=t.cierreadmin,this.feccierreadmin=t.feccierreadmin,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idproyecto="",this.idraiz="",this.orden="",this.proyecto="",this.idtipoprod="",this.idempresa="",this.idterritorio="",this.idagencia="",this.idorigen="",this.idproductora="",this.idcliente="",this.iddirector="",this.idcodirector="",this.idep="",this.idlp="",this.idcp="",this.ars1usd="",this.fecadjudicacion="",this.fecdesdxd="",this.fechasdxd="",this.fecdescf="",this.fechascf="",this.fecrodaje="",this.fecoffline="",this.feconline="",this.cierreprod="",this.feccierreprod="",this.cierreadmin="",this.feccierreadmin="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.raices=[],this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Proyectos/Actualizar",{idproyecto:i.idproyecto,idraiz:i.idraiz,orden:i.orden,proyecto:i.proyecto,idorigen:i.idorigen,idempresa:i.idempresa,idtipoprod:i.idtipoprod,idagencia:i.idagencia,idproductora:i.idproductora,idcliente:i.idcliente,iddirector:i.iddirector,idcodirector:i.idcodirector,idep:i.idep,idlp:i.idlp,idcp:i.idcp,ars1usd:i.ars1usd,fecadjudicacion:i.fecadjudicacion,fecdesdxd:i.fecdesdxd,fechasdxd:i.fechasdxd,fecdescf:i.fecdescf,fechascf:i.fechascf,fecrodaje:i.fecrodaje,fecoffline:i.fecoffline,feconline:i.feconline,cierreprod:i.cierreprod,feccierreprod:i.feccierreprod,cierreadmin:i.cierreadmin,feccierreadmin:i.feccierreadmin,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Proyectos/Crear",{idraiz:o.idraiz,orden:o.orden,proyecto:o.proyecto,idtipoprod:o.idtipoprod,idempresa:o.idempresa,idorigen:o.idorigen,idagencia:o.idagencia,idproductora:o.idproductora,idcliente:o.idcliente,iddirector:o.iddirector,idcodirector:o.idcodirector,idep:o.idep,idlp:o.idlp,idcp:o.idcp,ars1usd:o.ars1usd,fecadjudicacion:o.fecadjudicacion,fecdesdxd:o.fecdesdxd,fechasdxd:o.fechasdxd,fecdescf:o.fecdescf,fechascf:o.fechascf,fecrodaje:o.fecrodaje,fecoffline:o.fecoffline,feconline:o.feconline,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.orden||this.validaMensaje.push("Ingrese #Proyecto generado en Gecom."),(this.proyecto.length<3||this.proyecto.length>50)&&this.validaMensaje.push("El proyecto debe tener más de 3 caracteres y menos de 50 caracteres."),this.idtipoprod||this.validaMensaje.push("Ingrese una tipo de produccion."),this.idempresa||this.validaMensaje.push("Ingrese una empresa."),this.idorigen||this.validaMensaje.push("Ingrese un origen."),this.idagencia||this.validaMensaje.push("Ingrese una agencia."),this.idproductora||this.validaMensaje.push("Ingrese una productora."),this.idcliente||this.validaMensaje.push("Ingrese un cliente."),this.iddirector||this.validaMensaje.push("Ingrese un Director."),this.idep||this.validaMensaje.push("Ingrese un EP."),this.ars1usd||this.validaMensaje.push("Ingrese tipo de cambio ARS/USD."),this.fecadjudicacion||this.validaMensaje.push("Ingrese fecha de adjudicacion."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.orden+"|"+e.proyecto,this.adId=e.idproyecto,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proyectos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proyectos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ji=Wi,Qi=Object(b["a"])(Ji,Hi,Yi,!1,null,null,null),Zi=Qi.exports;g()(Qi,{VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Presupuestos Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1200px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Presupuesto Proyecto #"+t._s(t.orden)+" - "+t._s(t.proyecto)+" | Cliente: "+t._s(t.cliente)+" | Adjudicación: "+t._s(t.fecadjudicacion.substr(0,10)))])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.items,label:"Item","search-input":t.searchi},on:{"update:searchInput":function(e){t.searchi=e},"update:search-input":function(e){t.searchi=e},change:function(e){return t.cambioItem()}},model:{value:t.iditem,callback:function(e){t.iditem=e},expression:"iditem"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{items:t.subitems,label:"Subitem"},model:{value:t.idsubitem,callback:function(e){t.idsubitem=e},expression:"idsubitem"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Importe"},model:{value:t.importe,callback:function(e){t.importe=e},expression:"importe"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Linea Presupuesto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Linea Presupuesto?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la línea "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.presupuestos},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.iditem)?[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.idpresupuesto))]),a("td",[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.origen))]),a("td",{staticClass:"justify-center"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod))])]:void 0}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}],null,!0)})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialogImport,callback:function(e){t.dialogImport=e},expression:"dialogImport"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Importacion de Presupuesto")]),a("v-card-text",[a("div",[a("span",[t._v("Estas a punto de importar el presupuesto de Proyecto #"+t._s(t.imId)+' - "'+t._s(t.imNombre)+'". ')]),a("br"),a("br"),a("span",{staticClass:"grey--text"},[t._v("Esta accion eliminará la versión actual de presupuesto, si la hubiere y cargará \n                            una nueva versión de presupuesto desde un archivo excel pre formateado.\n                            Una vez ejecutada esta acción, no existe la posibilidad de deshacer los cambios.\n                        ")])]),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.validaImp,expression:"validaImp"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1),a("v-card-actions",[a("vue-xlsx-table",{attrs:{accept:".xlsx, .xlsm, .xls"},on:{"on-select-file":t.handleSelectedFile}},[t._v("Excel")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.closeFile}},[t._v("Salir")])],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.loadFile(e.item)}}},[t._v("\n                    save_alt\n                    ")])],1),a("td",[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t.formatPrice(e.item.ars1usd)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},to=[],eo=(a("7514"),a("a481"),{data:function(){var t;return t={snackbar:!1,snacktext:"Hola",timeout:4e3,items:[],allitems:[],subitems:[],allsubitems:[],proyectos:[],presupuestos:[],usuarioproyectos:[],chkHeader:["idproyecto","iditem","idsubitem","Importe"],rawFile:null,workbook:null,xlsData:{header:[],body:[]},idproyecto:"",iditem:"",itemorden:"",itemes:"",idsubitem:"",subitemorden:"",subitemes:"",importe:0,origen:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:""},Object(Mi["a"])(t,"idproyecto",""),Object(Mi["a"])(t,"orden",""),Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"cliente",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"as1usd",""),Object(Mi["a"])(t,"menu1",!1),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"dialogForm",!1),Object(Mi["a"])(t,"dialogImport",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de produccion",value:"tipoprod",sortable:!0},{text:"Cliente",value:"cliente",sortable:!0},{text:"Fecha Adjudicacion",value:"fecadjudicacion",sortable:!0},{text:"ARS/USD",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Opciones",value:"name",sortable:!1},{text:"Id",align:"center",value:"orden"},{text:"#Item",value:"itemorden"},{text:"Item ES",value:"itemes"},{text:"#Subitem",value:"subitemorden"},{text:"Subitem ES",value:"subitemes"},{text:"Importe",value:"importe"},{text:"Origen",value:"origen"},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}]),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"searchi",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaImp",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adModal",0),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),Object(Mi["a"])(t,"imNombre",""),Object(Mi["a"])(t,"imId",""),t},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Linea Presupuesto":"Actualizar Linea Presupuesto"}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{validateAccess:function(t){for(var e=!1,a=0;a<this.items.length;a++)if(this.items[a]["value"]===t){e=!0;break}return e},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},filtrarItems:function(){var t=this,e=this;if(e.items=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.items=e.allitems.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.items=e.allitems},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Presupuestos/ListarProyecto/"+this.idproyecto,a).then((function(e){t.presupuestos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[],s=[];W.a.get("api/Items/SelectActivo",a).then((function(e){i=e.data,i.map((function(e){t.allitems.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/Select",a).then((function(e){s=e.data,s.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Subitems/Select",a).then((function(e){o=e.data,o.map((function(e){t.allsubitems.push({text:e.orden+": "+e.subitemes,value:e.idsubitem,id:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},cambioItem:function(){this.selectSubitems()},selectSubitems:function(){var t=this;t.idsubitem="",t.subitems=t.allsubitems.filter((function(e){return e.id===t.iditem})),1===t.subitems.length&&(t.idsubitem=t.subitems[0].value)},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.idcliente=t.idcliente,this.cliente=t.cliente,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.filtrarItems(),this.dialog=!0},editDetailItem:function(t){this.idpresupuesto=t.idpresupuesto,this.idproyecto=t.idproyecto,this.iditem=t.iditem,this.selectSubitems(),this.idsubitem=t.idsubitem,this.importe=t.importe,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.idcliente="",this.cliente="",this.fecadjudicacion="",this.ars1usd=0},limpiarDetail:function(){this.idpresupuesto="",this.iditem="",this.idsubitem="",this.importe=0,this.origen="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Presupuestos/Actualizar",{idpresupuesto:i.idpresupuesto,idproyecto:i.idproyecto,iditem:i.iditem,idsubitem:i.idsubitem,importe:i.importe,origen:"App",iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Presupuestos/Crear",{idproyecto:o.idproyecto,iditem:o.iditem,idsubitem:o.idsubitem,importe:o.importe,origen:"App",iduseralta:o.$store.state.usuario.idusuario,fecalta:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){o.closeForm(),o.listarDetail(),o.limpiarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.iditem||this.validaMensaje.push("Ingrese un item."),this.idsubitem||this.validaMensaje.push("Ingrese un subitem."),(!this.importe||this.importe<=0)&&this.validaMensaje.push("Ingrese un importe positivo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.itemorden+":"+e.itemes.substr(0,15)+" "+e.subitemorden+":"+e.subitemes.substr(0,15)+": $ "+e.importe,this.adId=e.idpresupuesto,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Presupuestos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Presupuestos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},loadFile:function(t){this.validaImp=0,this.validaMensaje=[],this.idproyecto=t.idproyecto,this.imNombre=t.proyecto,this.imId=t.orden,this.dialogImport=!0},closeFile:function(){this.imNombre="",this.imId="",this.dialogImport=!1},handleSelectedFile:function(t){var e=this,a=t.body,i=t.header,o=new Date;for(var s in i)this.chkHeader[s]!=i[s]&&this.validaMensaje.push("Encabezado: "+i[s]+" fuera de secuencia");a=a.filter((function(t){return"0.00"!==t.Importe.trim()})),a=a.filter((function(t){return"0"!==t.idproyecto}));for(var r=0;r<a.length;r++)if(this.idproyecto!=a[r].idproyecto){this.validaMensaje.push("Existen Lineas de Presupuesto con Proyecto inválido");break}if(this.validaMensaje.length)this.validaImp=!0;else{for(var n={Authorization:"Bearer "+this.$store.state.token},c={headers:n},d=0;d<this.presupuestos.length;d++)W.a.delete("api/Presupuestos/Eliminar/"+this.presupuestos[d].idpresupuesto,c).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));for(d=0;d<a.length;d++)W.a.post("api/Presupuestos/Crear",{idproyecto:a[d].idproyecto,iditem:a[d].iditem,idsubitem:a[d].idsubitem,importe:a[d].Importe,origen:"xls",iduseralta:e.$store.state.usuario.idusuario,fecalta:new Date(o.getTime()-6e4*o.getTimezoneOffset()).toISOString()},c).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));e.limpiarDetail(),this.dialogImport=!1,this.dialog=!1}}}}),ao=eo,io=Object(b["a"])(ao,Xi,to,!1,null,null,null),oo=io.exports;g()(io,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var so=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Cierre Administrativo de Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.snacktext)+"\n                    "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                        Cerrar\n                    ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle)+" "+t._s(t.orden))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cierreadmin,expression:"cierreadmin"}],attrs:{type:"checkbox",id:"open"},domProps:{checked:Array.isArray(t.cierreadmin)?t._i(t.cierreadmin,null)>-1:t.cierreadmin},on:{change:function(e){var a=t.cierreadmin,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.cierreadmin=a.concat([s])):r>-1&&(t.cierreadmin=a.slice(0,r).concat(a.slice(r+1)))}else t.cierreadmin=o}}}),a("label",{attrs:{for:"open"}},[t._v(" Cerre Administrativo?")])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Proyecto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Proyecto?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                el proyecto "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                        edit\n                        ")])],1),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.empresa))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[t._v(t._s(e.item.agencia))]),a("td",[t._v(t._s(e.item.productora))]),a("td",[t._v(t._s(e.item.director))]),a("td",[t._v(t._s(e.item.codirector))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.lp))]),a("td",[t._v(t._s(e.item.cp))]),a("td",[t._v(t._s(e.item.ars1usd))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[e.item.fecdesdxd?a("div",[t._v("\n                            "+t._s(e.item.fecdesdxd.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecdesdxd)+"\n                        ")])]),a("td",[e.item.fechasdxd?a("div",[t._v("\n                            "+t._s(e.item.fechasdxd.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fechasdxd)+"\n                        ")])]),a("td",[e.item.fecdescf?a("div",[t._v("\n                            "+t._s(e.item.fecdescf.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecdescf)+"\n                        ")])]),a("td",[e.item.fechascf?a("div",[t._v("\n                            "+t._s(e.item.fechascf.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fechascf)+"\n                        ")])]),a("td",[e.item.fecrodaje?a("div",[t._v("\n                            "+t._s(e.item.fecrodaje.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecrodaje)+"\n                        ")])]),a("td",[e.item.fecoffline?a("div",[t._v("\n                            "+t._s(e.item.fecoffline.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecoffline)+"\n                        ")])]),a("td",[e.item.feconline?a("div",[t._v("\n                            "+t._s(e.item.feconline.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feconline)+"\n                        ")])]),a("td",[t._v(t._s(e.item.cierreprod))]),a("td",[e.item.feccierreprod?a("div",[t._v("\n                            "+t._s(e.item.feccierreprod.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feccierreprod)+"\n                        ")])]),a("td",[t._v(t._s(e.item.cierreadmin))]),a("td",[e.item.feccierreadmin?a("div",[t._v("\n                            "+t._s(e.item.feccierreadmin.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feccierreadmin)+"\n                        ")])]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},ro=[],no={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fecadjudicacion:null,fecdesdxd:null,fechasdxd:null,fecdescf:null,fechascf:null,fecrodaje:null,fecoffline:null,feconline:null,menu:!1,menu1:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,menu7:!1,menu8:!1,proyectos:[],empresas:[],territorios:[],agencias:[],productoras:[],clientes:[],raices:[],directores:[],eps:[],lps:[],cps:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Producto",value:"tipoprod",sortable:!0},{text:"Cliente",value:"cliente",sortable:!0},{text:"Empresa",value:"empresa",sortable:!0},{text:"Territorio",value:"territorio",sortable:!0},{text:"Agencia",value:"agencia",sortable:!0},{text:"Productora",value:"productora",sortable:!0},{text:"Director",value:"director",sortable:!0},{text:"Co Director",value:"codirector",sortable:!0},{text:"E.P.",value:"ep",sortable:!0},{text:"L.P.",value:"lp",sortable:!0},{text:"C.P.",value:"cp",sortable:!0},{text:"ARS/USD",value:"ars1usd",sortable:!0},{text:"Fec.Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Fec.Inicio DxD",value:"fecdesdxd",sortable:!0},{text:"Fec.Fin DxD",value:"fechasdxd",sortable:!0},{text:"Fec.Inicio CF",value:"fecdescf",sortable:!0},{text:"Fec.Fin CF",value:"fechascf",sortable:!0},{text:"Fec.Rodaje",value:"fecrodaje",sortable:!0},{text:"Fec.Offline",value:"fecoffline",sortable:!0},{text:"Fec.Online",value:"feconline",sortable:!0},{text:"CierreProd",value:"cierreprod",sortable:!0},{text:"Fec.Cierre Producción",value:"feccierreprod",sortable:!0},{text:"CierreAdm",value:"cierreadmin",sortable:!0},{text:"Fec.Cierre Administración",value:"feccierreadmin",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idproyecto:"",idraiz:"",orden:"",proyecto:"",idtipoprod:"",idempresa:"",idorigen:"",idagencia:"",idproductora:"",idcliente:"",iddirector:"",idep:"",idlp:"",idcp:"",ars1usd:0,cierreprod:!1,feccierreprod:"",cierreadmin:!1,feccierreadmin:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",valida:!1,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo cierre":"Actualizar cierre"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"#Proyecto",dataKey:"orden"},{title:"Proyecto",dataKey:"proyecto"},{title:"Producto",dataKey:"tipoprod"},{title:"Cliente",dataKey:"cliente"},{title:"Empresa",dataKey:"empresa"},{title:"Director",dataKey:"director"},{title:"EP",dataKey:"ep"},{title:"Adjudicacion",dataKey:"fecadjudicacion"},{title:"Inicio DxD",dataKey:"fecdesdxd"},{title:"Offline",dataKey:"fecoffline"},{title:"Online",dataKey:"feconline"},{title:"Rodaje",dataKey:"fecrodaje"}],e=[];this.proyectos.map((function(t){e.push({orden:t.orden,proyecto:t.proyecto,tipoprod:t.tipoprod,cliente:t.cliente,empresa:t.empresa,director:t.director,ep:t.ep,fecadjudicacion:t.fecadjudicacion,fecdesdxd:t.fecdesdxd,fecoffline:t.offline,feconline:t.online,fecrodaje:t.fecrodaje})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Proyectos",40,30)}}),a.save("Proyectos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listar",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listarusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idproyecto=t.idproyecto,this.idcliente=t.idcliente,this.idraiz=t.idraiz,this.orden=t.orden,this.proyecto=t.proyecto,this.idtipoprod=t.idtipoprod,this.idempresa=t.idempresa,this.idorigen=t.idorigen,this.idagencia=t.idagencia,this.idproductora=t.idproductora,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idep=t.idep,this.idlp=t.idlp,this.idcp=t.idcp,this.ars1usd=t.ars1usd,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.fecdesdxd=t.fecdesdxd?t.fecdesdxd.substr(0,10):t.fecdesdxd,this.fechasdxd=t.fechasdxd?t.fechasdxd.substr(0,10):t.fechasdxd,this.fecdescf=t.fecdescf?t.fecdescf.substr(0,10):t.fecdescf,this.fechascf=t.fechascf?t.fechascf.substr(0,10):t.fechascf,this.fecrodaje=t.fecrodaje?t.fecrodaje.substr(0,10):t.fecrodaje,this.fecoffline=t.fecoffline?t.fecoffline.substr(0,10):t.fecoffline,this.feconline=t.fecoffline?t.feconline.substr(0,10):t.fecoffline,this.cierreprod=t.cierreprod,this.feccierreprod=t.feccierreprod,this.cierreadmin=t.cierreadmin,this.feccierreadmin=t.feccierreadmin,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idproyecto="",this.idraiz="",this.orden="",this.proyecto="",this.idtipoprod="",this.idempresa="",this.idorigen="",this.idagencia="",this.idproductora="",this.idcliente="",this.iddirector="",this.idcodirector="",this.idep="",this.idlp="",this.idcp="",this.ars1usd="",this.fecadjudicacion="",this.fecdesdxd="",this.fechasdxd="",this.fecdescf="",this.fechascf="",this.fecrodaje="",this.fecoffline="",this.feconline="",this.cierreprod=!1,this.feccierreprod="",this.cierreadmin=!1,this.feccierreadmin="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.raices=[],this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Proyectos/Actualizar",{idproyecto:i.idproyecto,idraiz:i.idraiz,orden:i.orden,proyecto:i.proyecto,idtipoprod:i.idtipoprod,idempresa:i.idempresa,idorigen:i.idorigen,idagencia:i.idagencia,idproductora:i.idproductora,idcliente:i.idcliente,iddirector:i.iddirector,idcodirector:i.idcodirector,idep:i.idep,idlp:i.idlp,idcp:i.idcp,ars1usd:i.ars1usd,fecadjudicacion:i.fecadjudicacion,fecdesdxd:i.fecdesdxd,fechasdxd:i.fechasdxd,fecdescf:i.fecdescf,fechascf:i.fechascf,fecrodaje:i.fecrodaje,fecoffline:i.fecoffline,feconline:i.feconline,cierreprod:i.cierreprod,feccierreprod:i.feccierreprod,cierreadmin:i.cierreadmin,feccierreadmin:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){var t=this;return t.valida=!1,t.cierreprod||(t.snacktext="Es necesario hacer primero el Cierre de Produccion.",t.snackbar=!0,t.cierreadmin=!1,t.valida=!0),t.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.orden+"|"+e.proyecto,this.adId=e.idproyecto,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proyectos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proyectos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},co=no,lo=Object(b["a"])(co,so,ro,!1,null,null,null),uo=lo.exports;g()(lo,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var vo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Cierre de Produccion")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.snacktext)+"\n                    "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                        Cerrar\n                    ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle)+" "+t._s(t.orden))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cierreprod,expression:"cierreprod"}],attrs:{type:"checkbox",id:"prod"},domProps:{checked:Array.isArray(t.cierreprod)?t._i(t.cierreprod,null)>-1:t.cierreprod},on:{change:function(e){var a=t.cierreprod,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.cierreprod=a.concat([s])):r>-1&&(t.cierreprod=a.slice(0,r).concat(a.slice(r+1)))}else t.cierreprod=o}}}),a("label",{attrs:{for:"prod"}},[t._v(" Cerre de Producción?")])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Proyecto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Proyecto?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el proyecto "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                        edit\n                        ")])],1),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.empresa))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[t._v(t._s(e.item.agencia))]),a("td",[t._v(t._s(e.item.productora))]),a("td",[t._v(t._s(e.item.director))]),a("td",[t._v(t._s(e.item.codirector))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.lp))]),a("td",[t._v(t._s(e.item.cp))]),a("td",[t._v(t._s(e.item.ars1usd))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[e.item.fecdesdxd?a("div",[t._v("\n                            "+t._s(e.item.fecdesdxd.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecdesdxd)+"\n                        ")])]),a("td",[e.item.fechasdxd?a("div",[t._v("\n                            "+t._s(e.item.fechasdxd.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fechasdxd)+"\n                        ")])]),a("td",[e.item.fecdescf?a("div",[t._v("\n                            "+t._s(e.item.fecdescf.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecdescf)+"\n                        ")])]),a("td",[e.item.fechascf?a("div",[t._v("\n                            "+t._s(e.item.fechascf.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fechascf)+"\n                        ")])]),a("td",[e.item.fecrodaje?a("div",[t._v("\n                            "+t._s(e.item.fecrodaje.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecrodaje)+"\n                        ")])]),a("td",[e.item.fecoffline?a("div",[t._v("\n                            "+t._s(e.item.fecoffline.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecoffline)+"\n                        ")])]),a("td",[e.item.feconline?a("div",[t._v("\n                            "+t._s(e.item.feconline.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feconline)+"\n                        ")])]),a("td",[t._v(t._s(e.item.cierreprod))]),a("td",[e.item.feccierreprod?a("div",[t._v("\n                            "+t._s(e.item.feccierreprod.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feccierreprod)+"\n                        ")])]),a("td",[t._v(t._s(e.item.cierreadmin))]),a("td",[e.item.feccierreadmin?a("div",[t._v("\n                            "+t._s(e.item.feccierreadmin.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feccierreadmin)+"\n                        ")])]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},po=[],mo={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fecadjudicacion:null,fecdesdxd:null,fechasdxd:null,fecdescf:null,fechascf:null,fecrodaje:null,fecoffline:null,feconline:null,menu:!1,menu1:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,menu7:!1,menu8:!1,origenes:[],tipoprods:[],allgarantias:[],garantias:[],proyectos:[],empresas:[],agencias:[],productoras:[],clientes:[],raices:[],directores:[],eps:[],lps:[],cps:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Cliente",value:"cliente",sortable:!0},{text:"Empresa",value:"empresa",sortable:!0},{text:"Origen",value:"origen",sortable:!0},{text:"Territorio",value:"territorio",sortable:!0},{text:"Agencia",value:"agencia",sortable:!0},{text:"Productora",value:"productora",sortable:!0},{text:"Director",value:"director",sortable:!0},{text:"Co Director",value:"codirector",sortable:!0},{text:"E.P.",value:"ep",sortable:!0},{text:"L.P.",value:"lp",sortable:!0},{text:"C.P.",value:"cp",sortable:!0},{text:"ARS/USD",value:"ars1usd",sortable:!0},{text:"Fec.Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Fec.Inicio DxD",value:"fecdesdxd",sortable:!0},{text:"Fec.Fin DxD",value:"fechasdxd",sortable:!0},{text:"Fec.Inicio CF",value:"fecdescf",sortable:!0},{text:"Fec.Fin CF",value:"fechascf",sortable:!0},{text:"Fec.Rodaje",value:"fecrodaje",sortable:!0},{text:"Fec.Offline",value:"fecoffline",sortable:!0},{text:"Fec.Online",value:"feconline",sortable:!0},{text:"CierreProd",value:"cierreprod",sortable:!0},{text:"Fec.Cierre Producción",value:"feccierreprod",sortable:!0},{text:"CierreAdm",value:"cierreadmin",sortable:!0},{text:"Fec.Cierre Administración",value:"feccierreadmin",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idproyecto:"",idraiz:"",orden:"",proyecto:"",idtipoprod:"",idempresa:"",idorigen:"",idagencia:"",idproductora:"",idcliente:"",iddirector:"",idep:"",idlp:"",idcp:"",ars1usd:0,cierreprod:!1,feccierreprod:"",cierreadmin:!1,feccierreadmin:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",valida:!1,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo cierre":"Actualizar cierre"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"#Proyecto",dataKey:"orden"},{title:"Proyecto",dataKey:"proyecto"},{title:"Tipo de producción",dataKey:"tipoprod"},{title:"Cliente",dataKey:"cliente"},{title:"Empresa",dataKey:"empresa"},{title:"Director",dataKey:"director"},{title:"EP",dataKey:"ep"},{title:"Adjudicacion",dataKey:"fecadjudicacion"},{title:"Inicio DxD",dataKey:"fecdesdxd"},{title:"Offline",dataKey:"fecoffline"},{title:"Online",dataKey:"feconline"},{title:"Rodaje",dataKey:"fecrodaje"}],e=[];this.proyectos.map((function(t){e.push({orden:t.orden,proyecto:t.proyecto,tipoprod:t.tipoprod,cliente:t.cliente,empresa:t.empresa,director:t.director,ep:t.ep,fecadjudicacion:t.fecadjudicacion,fecdesdxd:t.fecdesdxd,fecoffline:t.offline,feconline:t.online,fecrodaje:t.fecrodaje})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Proyectos",40,30)}}),a.save("Proyectos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listar",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listarusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idproyecto=t.idproyecto,this.idcliente=t.idcliente,this.idraiz=t.idraiz,this.orden=t.orden,this.proyecto=t.proyecto,this.idtipoprod=t.idtipoprod,this.idempresa=t.idempresa,this.idorigen=t.idorigen,this.idagencia=t.idagencia,this.idproductora=t.idproductora,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idep=t.idep,this.idlp=t.idlp,this.idcp=t.idcp,this.ars1usd=t.ars1usd,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.fecdesdxd=t.fecdesdxd?t.fecdesdxd.substr(0,10):t.fecdesdxd,this.fechasdxd=t.fechasdxd?t.fechasdxd.substr(0,10):t.fechasdxd,this.fecdescf=t.fecdescf?t.fecdescf.substr(0,10):t.fecdescf,this.fechascf=t.fechascf?t.fechascf.substr(0,10):t.fechascf,this.fecrodaje=t.fecrodaje?t.fecrodaje.substr(0,10):t.fecrodaje,this.fecoffline=t.fecoffline?t.fecoffline.substr(0,10):t.fecoffline,this.feconline=t.fecoffline?t.feconline.substr(0,10):t.fecoffline,this.cierreprod=t.cierreprod,this.feccierreprod=t.feccierreprod,this.cierreadmin=t.cierreadmin,this.feccierreadmin=t.feccierreadmin,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idproyecto="",this.idraiz="",this.orden="",this.proyecto="",this.idtipoprod="",this.idempresa="",this.idorigen="",this.idagencia="",this.idproductora="",this.idcliente="",this.iddirector="",this.idcodirector="",this.idep="",this.idlp="",this.idcp="",this.ars1usd="",this.fecadjudicacion="",this.fecdesdxd="",this.fechasdxd="",this.fecdescf="",this.fechascf="",this.fecrodaje="",this.fecoffline="",this.feconline="",this.cierreprod=!1,this.feccierreprod="",this.cierreadmin=!1,this.feccierreadmin="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.raices=[],this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Proyectos/Actualizar",{idproyecto:i.idproyecto,idraiz:i.idraiz,orden:i.orden,proyecto:i.proyecto,idtipoprod:i.idtipoprod,idempresa:i.idempresa,idorigen:i.idorigen,idagencia:i.idagencia,idproductora:i.idproductora,idcliente:i.idcliente,iddirector:i.iddirector,idcodirector:i.idcodirector,idep:i.idep,idlp:i.idlp,idcp:i.idcp,ars1usd:i.ars1usd,fecadjudicacion:i.fecadjudicacion,fecdesdxd:i.fecdesdxd,fechasdxd:i.fechasdxd,fecdescf:i.fecdescf,fechascf:i.fechascf,fecrodaje:i.fecrodaje,fecoffline:i.fecoffline,feconline:i.feconline,cierreprod:i.cierreprod,feccierreprod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),cierreadmin:i.cierreadmin,feccierreadmin:i.feccierreadmin,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Proyectos/Crear",{idraiz:o.idraiz,orden:o.orden,proyecto:o.proyecto,idtipoprod:o.idtipoprod,idempresa:o.idempresa,idorigen:o.idorigen,idagencia:o.idagencia,idproductora:o.idproductora,idcliente:o.idcliente,iddirector:o.iddirector,idcodirector:o.idcodirector,idep:o.idep,idlp:o.idlp,idcp:o.idcp,ars1usd:o.ars1usd,fecadjudicacion:o.fecadjudicacion,fecdesdxd:o.fecdesdxd,fechasdxd:o.fechasdxd,fecdescf:o.fecdescf,fechascf:o.fechascf,fecrodaje:o.fecrodaje,fecoffline:o.fecoffline,feconline:o.feconline,cierreprod:o.cierreprod,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){var t=this;return t.valida=!1,t.garantias=[],t.cierreprod&&(t.garantias=t.allgarantias.filter((function(e){return e.idproyecto===t.idproyecto})),t.garantias.length&&(t.snacktext="Existe(n) "+this.garantias.length+" Garantia(s) pendiente(s) de recupero.",t.snackbar=!0,t.cierreprod=!1,t.valida=!0)),t.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.orden+"|"+e.proyecto,this.adId=e.idproyecto,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proyectos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proyectos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},ho=mo,fo=Object(b["a"])(ho,vo,po,!1,null,null,null),bo=fo.exports;g()(fo,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var xo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Proyectos Cerrados")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.snacktext)+"\n                    "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                        Cerrar\n                    ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cierreadmin,expression:"cierreadmin"}],attrs:{type:"checkbox",id:"open"},domProps:{checked:Array.isArray(t.cierreadmin)?t._i(t.cierreadmin,null)>-1:t.cierreadmin},on:{change:function(e){var a=t.cierreadmin,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.cierreadmin=a.concat([s])):r>-1&&(t.cierreadmin=a.slice(0,r).concat(a.slice(r+1)))}else t.cierreadmin=o}}}),a("label",{attrs:{for:"open"}},[t._v(" Cerre Administrativo?")])]),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Proyecto?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Proyecto?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el proyecto "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                        edit\n                        ")])],1),a("td",[t._v(t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.empresa))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.territorio))]),a("td",[t._v(t._s(e.item.agencia))]),a("td",[t._v(t._s(e.item.productora))]),a("td",[t._v(t._s(e.item.director))]),a("td",[t._v(t._s(e.item.codirector))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.lp))]),a("td",[t._v(t._s(e.item.cp))]),a("td",[t._v(t._s(e.item.ars1usd))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[e.item.fecdesdxd?a("div",[t._v("\n                            "+t._s(e.item.fecdesdxd.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecdesdxd)+"\n                        ")])]),a("td",[e.item.fechasdxd?a("div",[t._v("\n                            "+t._s(e.item.fechasdxd.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fechasdxd)+"\n                        ")])]),a("td",[e.item.fecdescf?a("div",[t._v("\n                            "+t._s(e.item.fecdescf.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecdescf)+"\n                        ")])]),a("td",[e.item.fechascf?a("div",[t._v("\n                            "+t._s(e.item.fechascf.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fechascf)+"\n                        ")])]),a("td",[e.item.fecrodaje?a("div",[t._v("\n                            "+t._s(e.item.fecrodaje.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecrodaje)+"\n                        ")])]),a("td",[e.item.fecoffline?a("div",[t._v("\n                            "+t._s(e.item.fecoffline.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.fecoffline)+"\n                        ")])]),a("td",[e.item.feconline?a("div",[t._v("\n                            "+t._s(e.item.feconline.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feconline)+"\n                        ")])]),a("td",[t._v(t._s(e.item.cierreprod))]),a("td",[e.item.feccierreprod?a("div",[t._v("\n                            "+t._s(e.item.feccierreprod.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feccierreprod)+"\n                        ")])]),a("td",[t._v(t._s(e.item.cierreadmin))]),a("td",[e.item.feccierreadmin?a("div",[t._v("\n                            "+t._s(e.item.feccierreadmin.substr(0,10))+"\n                        ")]):a("div",[t._v("\n                            "+t._s(e.item.feccierreadmin)+"\n                        ")])]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},go=[],_o={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fecadjudicacion:null,fecdesdxd:null,fechasdxd:null,fecdescf:null,fechascf:null,fecrodaje:null,fecoffline:null,feconline:null,menu:!1,menu1:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,menu7:!1,menu8:!1,origenes:[],tipoprods:[],proyectos:[],empresas:[],territorios:[],agencias:[],productoras:[],clientes:[],raices:[],directores:[],eps:[],lps:[],cps:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"tipoprod",sortable:!0},{text:"Tipo Producción",value:"producto",sortable:!0},{text:"Cliente",value:"cliente",sortable:!0},{text:"Empresa",value:"empresa",sortable:!0},{text:"Origen",value:"origen",sortable:!0},{text:"Territorio",value:"territorio",sortable:!0},{text:"Agencia",value:"agencia",sortable:!0},{text:"Productora",value:"productora",sortable:!0},{text:"Director",value:"director",sortable:!0},{text:"Co-Director",value:"codirector",sortable:!0},{text:"E.P.",value:"ep",sortable:!0},{text:"L.P.",value:"lp",sortable:!0},{text:"C.P.",value:"cp",sortable:!0},{text:"ARS/USD",value:"ars1usd",sortable:!0},{text:"Fec.Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Fec.Inicio DxD",value:"fecdesdxd",sortable:!0},{text:"Fec.Fin DxD",value:"fechasdxd",sortable:!0},{text:"Fec.Inicio CF",value:"fecdescf",sortable:!0},{text:"Fec.Fin CF",value:"fechascf",sortable:!0},{text:"Fec.Rodaje",value:"fecrodaje",sortable:!0},{text:"Fec.Offline",value:"fecoffline",sortable:!0},{text:"Fec.Online",value:"feconline",sortable:!0},{text:"CierreProd",value:"cierreprod",sortable:!0},{text:"Fec.Cierre Producción",value:"feccierreprod",sortable:!0},{text:"CierreAdm",value:"cierreadmin",sortable:!0},{text:"Fec.Cierre Administración",value:"feccierreadmin",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idproyecto:"",idraiz:"",orden:"",proyecto:"",idtipoprod:"",idempresa:"",idorigen:"",idagencia:"",idproductora:"",idcliente:"",iddirector:"",idep:"",idlp:"",idcp:"",ars1usd:0,cierreprod:"",feccierreprod:"",cierreadmin:!1,feccierreadmin:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo proyecto":"Actualizar proyecto"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"#Proyecto",dataKey:"orden"},{title:"Proyecto",dataKey:"proyecto"},{title:"Tipo Produccion",dataKey:"tipoprod"},{title:"Cliente",dataKey:"cliente"},{title:"Empresa",dataKey:"empresa"},{title:"Director",dataKey:"director"},{title:"EP",dataKey:"ep"},{title:"Adjudicacion",dataKey:"fecadjudicacion"},{title:"Inicio DxD",dataKey:"fecdesdxd"},{title:"Offline",dataKey:"fecoffline"},{title:"Online",dataKey:"feconline"},{title:"Rodaje",dataKey:"fecrodaje"}],e=[];this.proyectos.map((function(t){e.push({orden:t.orden,proyecto:t.proyecto,tipoprod:t.tipoprod,cliente:t.cliente,empresa:t.empresa,director:t.director,ep:t.ep,fecadjudicacion:t.fecadjudicacion,fecdesdxd:t.fecdesdxd,fecoffline:t.offline,feconline:t.online,fecrodaje:t.fecrodaje})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Proyectos",40,30)}}),a.save("Proyectos.pdf")},selectProyectosDeCliente:function(){var t=this,e=[];this.idraiz="";var a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.get("api/Proyectos/SelectProyectosDeCliente/"+this.idcliente,i).then((function(a){e=a.data,e.map((function(e){t.raices.push({text:e.orden+" "+e.proyecto,value:e.idproyecto})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Proyectos/Listarhistorico",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o=[],s=[],r=[],n=[],c=[],d=[],l=[],u={Authorization:"Bearer "+this.$store.state.token},v={headers:u};W.a.get("api/Origenes/Select",v).then((function(a){e=a.data,e.map((function(e){t.origenes.push({text:e.origen,value:e.idorigen})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Tipoprods/Select",v).then((function(e){a=e.data,a.map((function(e){t.tipoprods.push({text:e.tipoprod,value:e.idtipoprod})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Empresas/Select",v).then((function(e){i=e.data,i.map((function(e){t.empresas.push({text:e.empresa,value:e.idempresa})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Territorios/Select",v).then((function(e){o=e.data,o.map((function(e){t.territorios.push({text:e.territorio,value:e.idterritorio})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Agencias/Select",v).then((function(e){s=e.data,s.map((function(e){t.agencias.push({text:e.agencia,value:e.idagencia})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Productoras/Select",v).then((function(e){r=e.data,r.map((function(e){t.productoras.push({text:e.productora,value:e.idproductora})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}));var p=[];W.a.get("api/Clientes/Select",v).then((function(e){p=e.data,p.map((function(e){t.clientes.push({text:e.razonsocial,value:e.idcliente,activo:e.activo})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectDirectores",v).then((function(e){n=e.data,n.map((function(e){t.directores.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectEps",v).then((function(e){c=e.data,c.map((function(e){t.eps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectLps",v).then((function(e){d=e.data,d.map((function(e){t.lps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectCps",v).then((function(e){l=e.data,l.map((function(e){t.cps.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idproyecto=t.idproyecto,this.idcliente=t.idcliente,this.selectProyectosDeCliente(),this.idraiz=t.idraiz,this.orden=t.orden,this.proyecto=t.proyecto,this.idtipoprod=t.idtipoprod,this.idempresa=t.idempresa,this.idorigen=t.idorigen,this.idagencia=t.idagencia,this.idproductora=t.idproductora,this.iddirector=t.iddirector,this.idcodirector=t.idcodirector,this.idep=t.idep,this.idlp=t.idlp,this.idcp=t.idcp,this.ars1usd=t.ars1usd,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.fecdesdxd=t.fecdesdxd?t.fecdesdxd.substr(0,10):t.fecdesdxd,this.fechasdxd=t.fechasdxd?t.fechasdxd.substr(0,10):t.fechasdxd,this.fecdescf=t.fecdescf?t.fecdescf.substr(0,10):t.fecdescf,this.fechascf=t.fechascf?t.fechascf.substr(0,10):t.fechascf,this.fecrodaje=t.fecrodaje?t.fecrodaje.substr(0,10):t.fecrodaje,this.fecoffline=t.fecoffline?t.fecoffline.substr(0,10):t.fecoffline,this.feconline=t.fecoffline?t.feconline.substr(0,10):t.fecoffline,this.cierreprod=t.cierreprod,this.feccierreprod=t.feccierreprod,this.cierreadmin=t.cierreadmin,this.feccierreadmin=t.feccierreadmin,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idproyecto="",this.idraiz="",this.orden="",this.proyecto="",this.idtipoprod="",this.idempresa="",this.idorigen="",this.idagencia="",this.idproductora="",this.idcliente="",this.iddirector="",this.idcodirector="",this.idep="",this.idlp="",this.idcp="",this.ars1usd="",this.fecadjudicacion="",this.fecdesdxd="",this.fechasdxd="",this.fecdescf="",this.fechascf="",this.fecrodaje="",this.fecoffline="",this.feconline="",this.cierreprod="",this.feccierreprod="",this.cierreadmin=!1,this.feccierreadmin="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.raices=[],this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Proyectos/Actualizar",{idproyecto:i.idproyecto,idraiz:i.idraiz,orden:i.orden,proyecto:i.proyecto,idorigen:i.idorigen,idempresa:i.idempresa,idtipoprod:i.idtipoprod,idagencia:i.idagencia,idproductora:i.idproductora,idcliente:i.idcliente,iddirector:i.iddirector,idcodirector:i.idcodirector,idep:i.idep,idlp:i.idlp,idcp:i.idcp,ars1usd:i.ars1usd,fecadjudicacion:i.fecadjudicacion,fecdesdxd:i.fecdesdxd,fechasdxd:i.fechasdxd,fecdescf:i.fecdescf,fechascf:i.fechascf,fecrodaje:i.fecrodaje,fecoffline:i.fecoffline,feconline:i.feconline,cierreprod:i.cierreprod,feccierreprod:i.feccierreprod,cierreadmin:i.cierreadmin,feccierreadmin:i.feccierreadmin,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o,s=this;W.a.post("api/Proyectos/Crear",(o={idraiz:s.idraiz,orden:s.orden,idtipoprod:s.idtipoprod,idorigen:s.idorigen,idempresa:s.idempresa},Object(Mi["a"])(o,"idtipoprod",s.idtipoprod),Object(Mi["a"])(o,"idagencia",s.idagencia),Object(Mi["a"])(o,"idproductora",s.idproductora),Object(Mi["a"])(o,"idcliente",s.idcliente),Object(Mi["a"])(o,"iddirector",s.iddirector),Object(Mi["a"])(o,"idcodirector",s.idcodirector),Object(Mi["a"])(o,"idep",s.idep),Object(Mi["a"])(o,"idlp",s.idlp),Object(Mi["a"])(o,"idcp",s.idcp),Object(Mi["a"])(o,"ars1usd",s.ars1usd),Object(Mi["a"])(o,"fecadjudicacion",s.fecadjudicacion),Object(Mi["a"])(o,"fecdesdxd",s.fecdesdxd),Object(Mi["a"])(o,"fechasdxd",s.fechasdxd),Object(Mi["a"])(o,"fecdescf",s.fecdescf),Object(Mi["a"])(o,"fechascf",s.fechascf),Object(Mi["a"])(o,"fecrodaje",s.fecrodaje),Object(Mi["a"])(o,"fecoffline",s.fecoffline),Object(Mi["a"])(o,"feconline",s.feconline),Object(Mi["a"])(o,"iduseralta",s.$store.state.usuario.idusuario),o),a).then((function(t){s.close(),s.listar(),s.limpiar()})).catch((function(t){s.snacktext="Se detectó un error. Código: "+t.response.status,s.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.orden||this.validaMensaje.push("Ingrese #Proyecto generado en Gecom."),(this.proyecto.length<3||this.proyecto.length>50)&&this.validaMensaje.push("El proyecto debe tener más de 3 caracteres y menos de 50 caracteres."),this.idtipoprod||this.validaMensaje.push("Ingrese una tipo de producción."),this.idempresa||this.validaMensaje.push("Ingrese una empresa."),this.idorigen||this.validaMensaje.push("Ingrese un origen."),this.idagencia||this.validaMensaje.push("Ingrese una agencia."),this.idproductora||this.validaMensaje.push("Ingrese una productora."),this.idcliente||this.validaMensaje.push("Ingrese un cliente."),this.iddirector||this.validaMensaje.push("Ingrese un Director."),this.idep||this.validaMensaje.push("Ingrese un EP."),this.ars1usd||this.validaMensaje.push("Ingrese tipo de cambio ARS/USD."),this.fecadjudicacion||this.validaMensaje.push("Ingrese fecha de adjudicacion."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.orden+"|"+e.proyecto,this.adId=e.idproyecto,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proyectos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proyectos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},ko=_o,Co=Object(b["a"])(ko,xo,go,!1,null,null,null),yo=Co.exports;g()(Co,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Flujos de Caja - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"550"},model:{value:t.eliminar,callback:function(e){t.eliminar=e},expression:"eliminar"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("¿Deseas eliminar el flujo?")]),a("v-card-text",[t._v("\n                    Estas a punto de eliminar el flujo de caja de este proyecto."),a("br"),t._v(" Esto significa que se eliminarán todos los registros semanales de todos los rubros del flujo de caja del proyecto tratado."),a("br"),t._v(" Los % de distribución no podrán ser recuperados.\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.eliminar=!1}}},[t._v("\n                    Cancelar\n                    ")]),a("v-btn",{attrs:{color:"success",flat:""},on:{click:t.borrar}},[t._v("\n                    Aceptar\n                    ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Flujo de Caja #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs7:"",sm7:"",md7:""}},[a("v-text-field",{attrs:{label:"Rubro",disabled:""},model:{value:t.rubro,callback:function(e){t.rubro=e},expression:"rubro"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"#Semana",disabled:""},model:{value:t.yearweek,callback:function(e){t.yearweek=e},expression:"yearweek"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Distribución",prefix:"%"},model:{value:t.tasadistribucion,callback:function(e){t.tasadistribucion=e},expression:"tasadistribucion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.rubros,label:"Rubro"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.flujocajas,search:t.search,"custom-filter":t.customFilter},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")])],1),a("td",[t._v(t._s(e.item.yearweek))]),a("td",[t._v(t._s(e.item.fromto))]),a("td",[t._v(t._s(100*e.item.tasadistribucion)+"%")])]}},{key:"no-data",fn:function(){return[a("v-layout",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail()}}},[t._v("Crear")])],1)]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Asignado: ")]),t._v("% "+t._s(t.totalAsignado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.checkDetail(e)}}},[t._v("Salir")])],1)],1)],1),[a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.totales,callback:function(e){t.totales=e},expression:"totales"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Porcentajes Cargados por Rubro")]),a("v-card-text",t._l(t.totalesRubros,(function(e){return a("div",{key:e,staticClass:"blue--text",domProps:{textContent:t._s(e)}})})),0),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.totales=0}}},[t._v("Ok")])],1)],1)],1)],a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[e.item.fecdescf&&e.item.fechascf?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")]):t._e(),e.item.fecdescf&&e.item.fechascf?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.deleteAsk(e.item)}}},[t._v("\n                    delete_forever\n                    ")]):t._e()],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.fecdescf?e.item.fecdescf.substr(0,10):e.item.fecdescf))]),a("td",[t._v(t._s(e.item.fechascf?e.item.fechascf.substr(0,10):e.item.fechascf))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],2)],1)},Do=[],jo=(a("386d"),{data:function(){var t;return t={snackbar:!1,snacktext:"Hola",timeout:4e3,page:1,rubros:[],proyectos:[],flujocajas:[],idflujocaja:"",idproyecto:"",idrubro:"",rubro:"",yearweek:"",fromto:"",tasadistribucion:"",importe:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:""},Object(Mi["a"])(t,"idproyecto",""),Object(Mi["a"])(t,"orden",""),Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"fecdescf",""),Object(Mi["a"])(t,"fechascf",""),Object(Mi["a"])(t,"ars1usd",""),Object(Mi["a"])(t,"menu1",!1),Object(Mi["a"])(t,"menu2",!1),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"dialogForm",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Fec.Inicio CF",value:"fecdescf",sortable:!0},{text:"Fec.Fin CF",value:"fechascf",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Semana",value:"yearweek",sortable:!0},{text:"Desde-Hasta",value:"fromto",sortable:!0},{text:"%Distribucion",value:"tasadistribucion",sortable:!0}]),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adModal",0),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),Object(Mi["a"])(t,"eliminar",!1),Object(Mi["a"])(t,"totalAsignado",0),Object(Mi["a"])(t,"totalesRubros",[]),Object(Mi["a"])(t,"totales",0),t},computed:{formTitle:function(){return-1===this.editedIndex?"Error en Logica":"Actualizar Distribucion"},calcularTotal:function(){for(var t=0,e=0;e<this.flujocajas.length;e++)this.search==this.flujocajas[e].idrubro&&(t+=this.flujocajas[e].activo?this.flujocajas[e].tasadistribucion:0);return 100*t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{customFilter:function(t,e,a){return e=e.toString().toLowerCase(),t.filter((function(t){return t["idrubro"].toString()===e}))},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Flujocajas/ListarProyecto/"+this.idproyecto,a).then((function(e){t.flujocajas=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];W.a.get("api/Rubros/Select",a).then((function(e){i=e.data,i.map((function(e){t.rubros.push({text:e.orden+": "+e.rubroes,value:e.idrubro})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.fecdescf=t.fecdescf?t.fecdescf.substr(0,10):t.fecdescf,this.fechascf=t.fechascf?t.fechascf.substr(0,10):t.fechascf,this.ars1usd=t.ars1usd,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idflujocaja=t.idflujocaja,this.idproyecto=t.idproyecto,this.idrubro=t.idrubro,this.rubro=t.rubroorden+": "+t.rubroes,this.yearweek=t.yearweek,this.fromto=t.fromto,this.tasadistribucion=100*t.tasadistribucion,this.importe=t.importe,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){for(var t=this,e=0;e<this.rubros.length;e++)for(var a=100*v()(t.fecdescf,"YYYY-MM-DD").weekYear()+v()(t.fecdescf,"YYYY-MM-DD").week();a<=100*v()(t.fechascf,"YYYY-MM-DD").weekYear()+v()(t.fechascf,"YYYY-MM-DD").week();a++)this.idrubro=t.rubros[e].value,this.yearweek=a,this.fromto=v()(a,"YYYYWW").startOf("week").format("DD-MM-YYYY")+"/"+v()(a,"YYYYWW").endOf("week").format("DD-MM-YYYY"),t.crear();this.listarDetail(),this.editIndex=-1,this.dialog=!0,this.dialogForm=!1},deleteAsk:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.listarDetail(),this.dialog=!1,this.eliminar=!0},cancelarBorrar:function(){this.eliminar=!1,this.dialog=!1},crear:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.post("api/Flujocajas/Crear",{idproyecto:t.idproyecto,idrubro:t.idrubro,yearweek:t.yearweek,fromto:t.fromto,tasadistribucion:0,importe:0,iduseralta:t.$store.state.usuario.idusuario},a).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},borrar:function(){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t},a=0;for(a=0;a<this.flujocajas.length;a++)W.a.delete("api/Flujocajas/Eliminar/"+this.flujocajas[a].idflujocaja,e).catch((function(t){me.snacktext="Se detectó un error. Código: "+t.response.status,me.snackbar=!0,console.log(t)}));this.eliminar=!1,this.closeDetail()},checkDetail:function(){var t=this;t.totales=0;var e=[];t.totalesRubros=[];for(var a=0;a<t.rubros.length;a++){e=t.flujocajas.filter((function(e){return e.idrubro===t.rubros[a].value}));for(var i=0,o=0;o<e.length;o++)i+=e[o].activo?e[o].tasadistribucion:0;i=parseFloat(100*i).toFixed(2);while(i.length<6)i="0".concat(i);t.totalesRubros.push(i+"% - ["+t.rubros[a].text+"]")}t.totales=1,this.closeDetail()},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.totalesRubros=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.search=""},limpiarDetail:function(){this.idfuljocaja="",this.rubro="",this.yearweek="",this.fromto="",this.tasadistribucion="",this.importe="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Flujocajas/Actualizar",{idflujocaja:i.idflujocaja,idproyecto:i.idproyecto,idrubro:i.idrubro,yearweek:i.yearweek,fromto:i.fromto,tasadistribucion:i.tasadistribucion/100,importe:i.importe,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.limpiarDetail(),i.listarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Flujocajas/Crear",{idproyecto:o.idproyecto,idrubro:o.idrubro,yearweek:o.yearweek,fromto:o.fromto,tasadistribucion:o.tasadistribucion/100,importe:o.importe,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.limpiarDetail(),o.listarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(!this.tasadistribucion||this.tasadistribucion<=0)&&this.validaMensaje.push("Ingrese un valor positivo."),this.validaMensaje.length&&(this.valida=1),this.valida}}}),So=jo,Io=Object(b["a"])(So,Ao,Do,!1,null,null,null),Mo=Io.exports;g()(Io,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var wo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Pedido de Fondos - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Pedido de Fondos para Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"800px",persistent:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),0==t.rendido?a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")]):t._e()],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[-1==t.editedIndex?[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{items:t.subrubros,"search-input":t.searchru,clearable:"",label:"Subrubro"},on:{"update:searchInput":function(e){t.searchru=e},"update:search-input":function(e){t.searchru=e}},model:{value:t.idsubrubro,callback:function(e){t.idsubrubro=e},expression:"idsubrubro"}})],1)]:[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{type:"number",disabled:"",label:"#Pedido",readonly:""},model:{value:t.numpedido,callback:function(e){t.numpedido=t._n(e)},expression:"numpedido"}})],1),a("v-flex",{attrs:{xs9:"",sm9:"",md9:""}},[a("v-autocomplete",{attrs:{items:t.subrubros,"search-input":t.searchru,clearable:"",disabled:"",label:"Subrubro"},on:{"update:searchInput":function(e){t.searchru=e},"update:search-input":function(e){t.searchru=e}},model:{value:t.idsubrubro,callback:function(e){t.idsubrubro=e},expression:"idsubrubro"}})],1)],a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.responsables,"search-input":t.searchr,label:"Responsable"},on:{"update:searchInput":function(e){t.searchr=e},"update:search-input":function(e){t.searchr=e}},model:{value:t.idresponsable,callback:function(e){t.idresponsable=e},expression:"idresponsable"}})],1),[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Pedido","prepend-icon":"event",readonly:""},model:{value:t.fecpedido,callback:function(e){t.fecpedido=e},expression:"fecpedido"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{min:t.fecpedmin},on:{input:function(e){t.menu1=!1}},model:{value:t.fecpedido,callback:function(e){t.fecpedido=e},expression:"fecpedido"}})],1)],1)],a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Importe"},model:{value:t.importe,callback:function(e){t.importe=e},expression:"importe"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.notas,callback:function(e){t.notas=e},expression:"notas"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"390"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Pedido de Fondo?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Pedido de Fondo?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                el Pedido de Fondo de "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"390"},model:{value:t.enModal,callback:function(e){t.enModal=e},expression:"enModal"}},[a("v-card",[1==t.enAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Entregar Fondos Solicitados?")]):t._e(),2==t.enAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Recuperar Fondos de Pedido?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.enAccion?a("span",[t._v("Registrar Entrega ")]):t._e(),2==t.enAccion?a("span",[t._v("Registrar Recupero ")]):t._e(),t._v("\n                                de los fondos del Pedido de Fondo de "+t._s(t.enNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.enAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activarEntrega}},[t._v("\n                                    Entregar\n                                ")]):t._e(),2==t.enAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivarEntrega}},[t._v("\n                                    Recuperar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.pedidofondos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.idsubrubro)?[a("td",{staticClass:"justify-center layout px-0"},[e.item.entregado?t._e():[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                    edit\n                                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                        block\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                        check\n                                        ")])]],e.item.activo?[e.item.entregado?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarEntrega(2,e.item)}}},[t._v("\n                                        money_off\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarEntrega(1,e.item)}}},[t._v("\n                                        attach_money\n                                        ")])]]:t._e()],2),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.numpedido))]),a("td",[t._v(t._s(e.item.subrubro))]),a("td",[t._v(t._s(e.item.responsable))]),a("td",[t._v(t._s(e.item.fecpedido.substr(0,10)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",{staticClass:"text-xs-center"},[e.item.entregado?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",{staticClass:"text-xs-center"},[e.item.rendido?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.notas?e.item.notas.substr(0,50):e.item.notas))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]:void 0}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Fondo Entregados: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalPagado=t.calcularEntregado),20,"*"))+"\n                    ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Solicitudes Pendientes: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalSolicitado=t.calcularPendiente),20,"*"))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Po=[],Vo={data:function(){var t;return t={snackbar:!1,snacktext:"Hola",timeout:4e3,totalPagado:0,totalSolicitado:0,pedidofondos:[],proyectos:[],allsubrubros:[],subrubros:[],usuarioproyectos:[],responsables:[],idpedidofondo:"",orden:"",idsubrubro:"",idresponsable:"",numpedido:"",fecpedmin:(new Date).toISOString().substr(0,10),fecpedido:(new Date).toISOString().substr(0,10),importe:0,notas:"",entregado:!1,rendido:!1,iduseralta:"",fecalata:"",iduserumod:"",fecumod:"",activo:"",idproyecto:""},Object(Mi["a"])(t,"orden",""),Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"ars1usd",""),Object(Mi["a"])(t,"menu1",!1),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"dialogForm",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"#Pedido",value:"numpedido",sortable:!0},{text:"Desripción del Subrubro",value:"subrubro",sortable:!0},{text:"Nombre del Responsable",value:"responsable",sortable:!0},{text:"Fecha Pedido",value:"fecpedido",sortable:!0},{text:"Importe",value:"importe",sortable:!0},{text:"Entregado?",value:"entregado",sortable:!0},{text:"Rendido?",value:"rendido",sortable:!0},{text:"Notas / Observaciones",value:"notas",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}]),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"searchr",""),Object(Mi["a"])(t,"searchru",""),Object(Mi["a"])(t,"searchpr",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adModal",0),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),Object(Mi["a"])(t,"enModal",0),Object(Mi["a"])(t,"enAccion",0),Object(Mi["a"])(t,"enNombre",""),Object(Mi["a"])(t,"enId",""),t},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo pedido":"Actualizar pedido"},calcularEntregado:function(){for(var t=0,e=0;e<this.pedidofondos.length;e++)this.pedidofondos[e].entregado&&(t+=this.pedidofondos[e].activo?this.pedidofondos[e].importe:0);return t},calcularPendiente:function(){for(var t=0,e=0;e<this.pedidofondos.length;e++)this.pedidofondos[e].entregado||(t+=this.pedidofondos[e].activo?this.pedidofondos[e].importe:0);return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{validateAccess:function(t){for(var e=!1,a=0;a<this.subrubros.length;a++)if(this.subrubros[a]["value"]===t){e=!0;break}return e},pad:function(t,e,a){return a=a||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(a)+t},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},crearPDF:function(){var t=[{title:"Proyecto",dataKey:"proyecto"},{title:"Producto",dataKey:"producto"},{title:"Cliente",dataKey:"cliente"},{title:"Empresa",dataKey:"empresa"},{title:"Director",dataKey:"director"},{title:"EP",dataKey:"ep"},{title:"Adjudicacion",dataKey:"fecadjudicacion"},{title:"Inicio DxD",dataKey:"fecdesdxd"},{title:"Offline",dataKey:"fecoffline"},{title:"Online",dataKey:"feconline"},{title:"Rodaje",dataKey:"fecrodaje"}],e=[];this.pedidofondos.map((function(t){e.push({proyecto:t.proyecto,producto:t.producto,cliente:t.cliente,empresa:t.empresa,director:t.director,ep:t.ep,fecadjudicacion:t.fecadjudicacion,fecdesdxd:t.fecdesdxd,fecoffline:t.offline,feconline:t.online,fecrodaje:t.fecrodaje})}));var a=new ut.a("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Pedidos de Fondeo",40,30)}}),a.save("Pedidofondos.pdf")},filtrarSubrubros:function(){var t=this,e=this;if(e.subrubros=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.subrubros=e.allsubrubros.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.subrubros=e.allsubrubros},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Pedidofondos/ListarProyecto/"+this.idproyecto,a,a).then((function(e){t.pedidofondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};W.a.get("api/Subrubros/Select",s).then((function(a){e=a.data,e.map((function(e){t.allsubrubros.push({text:e.subrubro,value:e.idsubrubro,post:e.post,vivo:e.vivo,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Personas/SelectResponsables",s).then((function(e){a=e.data,a.map((function(e){t.responsables.push({text:e.nombre,value:e.idpersona})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/SelectDeUsuario/"+t.$store.state.usuario.idusuario,s).then((function(e){i=e.data,i.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.filtrarSubrubros(),this.dialog=!0},editDetailItem:function(t){this.idpedidofondo=t.idpedidofondo,this.idproyecto=t.idproyecto,this.idsubrubro=t.idsubrubro,this.idresponsable=t.idresponsable,this.numpedido=t.numpedido,this.fecpedido=t.fecpedido.substr(0,10),this.importe=t.importe,this.notas=t.notas,this.entregado=t.entregado,this.rendido=t.rendido,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.totalPagado=0,this.totalSolicitado=0},limpiarDetail:function(){var t=new Date;this.idpedidofondo="",this.idsubrubro="",this.idresponsable="",this.numpedido="",this.fecpedido=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().substr(0,10),this.importe="",this.notas="",this.entregado="",this.rendido="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.searchr="",this.searchru="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=this,e=new Date,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};this.editedIndex>-1?W.a.put("api/Pedidofondos/Actualizar",{idpedidofondo:t.idpedidofondo,idproyecto:t.idproyecto,idsubrubro:t.idsubrubro,idresponsable:t.idresponsable,numpedido:t.numpedido,fecpedido:t.fecpedido,importe:t.importe,notas:t.notas,entregado:t.entregado,rendido:t.rendido,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Pedidofondos/Crear",{idproyecto:t.idproyecto,idsubrubro:t.idsubrubro,idresponsable:t.idresponsable,fecpedido:t.fecpedido,importe:t.importe,notas:t.notas,entregado:!1,rendido:!1,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idresponsable||this.validaMensaje.push("Ingrese un responsable."),this.idsubrubro||this.validaMensaje.push("Ingrese un subrubro."),this.fecpedido||this.validaMensaje.push("Ingrese una fecha de pedido de fondo."),(!this.importe||Number(this.importe)<=0)&&this.validaMensaje.push("Ingrese un importe positivo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.proyecto+"/"+e.numpedido,this.adId=e.idpedidofondo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0,this.enModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Pedidofondos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Pedidofondos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},activarDesactivarEntrega:function(t,e){this.enModal=1,this.enNombre=e.proyecto+"/"+e.numpedido,this.enId=e.idpedidofondo,1==t?this.enAccion=1:2==t?this.enAccion=2:this.enModal=0},activarEntrega:function(){var t=this;if("Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol){var e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};W.a.put("api/Pedidofondos/ActivarEntrega/"+t.enId,{},a).then((function(e){t.enModal=0,t.enAccion=0,t.enNombre="",t.enId="",t.listarDetail()})).catch((function(e){t.enModal=0,t.enAccion=0,t.enNombre="",t.enId="",t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}else t.enModal=0,t.enAccion=0,t.enNombre="",t.enId="",t.snacktext="No Autorizado",t.snackbar=!0},desactivarEntrega:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Pedidofondos/DesactivarEntrega/"+this.enId,{},a).then((function(e){t.enModal=0,t.enAccion=0,t.enNombre="",t.enId="",t.listarDetail()})).catch((function(e){t.enModal=0,t.enAccion=0,t.enNombre="",t.enId="",t.snacktext="Imposible recuperar. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Fo=Vo,To=Object(b["a"])(Fo,wo,Po,!1,null,null,null),Oo=To.exports;g()(To,{VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var No=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Distribucion de Fondos - Pedidos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Distribucion Fondos Proyecto #"+t._s(t.orden)+" | Pedido #"+t._s(t.numpedido))])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.usuarios,"search-input":t.searchr,label:"Responsable"},on:{"update:searchInput":function(e){t.searchr=e},"update:search-input":function(e){t.searchr=e}},model:{value:t.idusuario,callback:function(e){t.idusuario=e},expression:"idusuario"}})],1),[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Distribución","prepend-icon":"event",readonly:""},model:{value:t.fecdistribucion,callback:function(e){t.fecdistribucion=e},expression:"fecdistribucion"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{min:t.fecpedido},on:{input:function(e){t.menu1=!1}},model:{value:t.fecdistribucion,callback:function(e){t.fecdistribucion=e},expression:"fecdistribucion"}})],1)],1)],a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Importe"},model:{value:t.importe,callback:function(e){t.importe=e},expression:"importe"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.notas,callback:function(e){t.notas=e},expression:"notas"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Distribución de Fondo?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Distribución de Fondo?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la distribución de fondo de "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal2,callback:function(e){t.adModal2=e},expression:"adModal2"}},[a("v-card",[1==t.adAccion2?a("v-card-title",{staticClass:"headline"},[t._v("¿Marcar como Rendido?")]):t._e(),2==t.adAccion2?a("v-card-title",{staticClass:"headline"},[t._v("¿Desmarcar como Rendido?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion2?a("span",[t._v("Marcar ")]):t._e(),2==t.adAccion2?a("span",[t._v("Desmarcar ")]):t._e(),t._v("\n                                la distribución de fondo de "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion2?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar2}},[t._v("\n                                    Marcar\n                                ")]):t._e(),2==t.adAccion2?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar2}},[t._v("\n                                    Desmarcar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.distribucionfondos},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[e.item.devolucion||e.item.rendido?t._e():a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.devolucion||e.item.rendido?t._e():[e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                        block\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                        check\n                                        ")])]],e.item.devolucion?t._e():[e.item.rendido?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarRendir(2,e.item)}}},[t._v("\n                                        lock\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarRendir(1,e.item)}}},[t._v("\n                                        lock_open\n                                        ")])]]],2),a("td",[t._v(t._s(e.item.usuario))]),a("td",[t._v(t._s(e.item.fecdistribucion.substr(0,10)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",{staticClass:"text-xs-center"},[e.item.devolucion?a("div",[a("span",{staticClass:"red--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"green--text"},[t._v("No")])])]),a("td",{staticClass:"text-xs-center"},[e.item.rendido?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.notas?e.item.notas.substr(0,20):e.item.notas))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Solicitado: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalSolicitado),20,"*"))+"\n                    ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v(" Entregado: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalEntregado=t.calcularTotal),20,"*"))+"\n                    ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v(" Disponile: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalDisponible=t.totalSolicitado-t.totalEntregado),20,"*"))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.pedidofondos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.numpedido))]),a("td",[t._v(t._s(e.item.responsable))]),a("td",[t._v(t._s(e.item.fecpedido.substr(0,10)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.impdist)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.imppend)))]),a("td",[t._v(t._s(e.item.notas?e.item.notas.substr(0,20):e.item.notas))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},zo=[],Bo={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,pedidofondos:[],distribucionfondos:[],usuarios:[],idpedidofondo:"",idproyecto:"",orden:"",idusuario:"",numpedido:"",fecpedido:"",importe:0,notas:"",iddistribucionfondo:"",fecdistribucion:"",devolucion:!1,rendido:!1,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",menu1:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"#Pedido",value:"numpedido",sortable:!0},{text:"Responsable",value:"responsable",sortable:!0},{text:"Fecha Pedido",value:"fecpedido",sortable:!0},{text:"Importe",value:"importe",sortable:!0},{text:"Imp.Distribucion.",value:"impdist",sortable:!0},{text:"Imp.Sin Distribuir",value:"imppend",sortable:!0},{text:"Notas",value:"notas",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario Responsable",value:"usuario",sortable:!0},{text:"Fecha de entrega",value:"fecdistribucion",sortable:!0},{text:"Importe",value:"importe",sortable:!0},{text:"Devolucion?",value:"devolucion",sortable:!0},{text:"Rendido?",value:"rendido",sortable:!0},{text:"Notas y/o Observaciones",value:"notas",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fecha/Hora de Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"F/H Ultima Modificación",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],totalSolicitado:0,totalEntregado:0,totalDisponible:0,search:"",searchr:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",adModal2:0,adAccion2:0}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva distribución":"Actualizar distribución"},calcularTotal:function(){for(var t=0,e=0;e<this.distribucionfondos.length;e++)t+=this.distribucionfondos[e].activo?this.distribucionfondos[e].importe:0;return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{pad:function(t,e,a){return a=a||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(a)+t},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Pedidofondos/ListarActivos",a).then((function(e){t.pedidofondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Pedidofondos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.pedidofondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Distribucionfondos/ListarPedidofondo/"+this.idpedidofondo,a).then((function(e){t.distribucionfondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.get("api/Usuarios/SelectUsuario",i).then((function(a){e=a.data,e.map((function(e){t.usuarios.push({text:e.userid,value:e.idusuario})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idpedidofondo=t.idpedidofondo,this.idproyecto=t.idproyecto,this.orden=t.orden,this.idusuario=t.idusuario,this.numpedido=t.numpedido,this.fecpedido=t.fecpedido.substr(0,10),this.importe=t.importe,this.totalSolicitado=t.importe,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.iddistribucionfondo=t.iddistribucionfondo,this.idusuario=t.idusuario,this.fecdistribucion=t.fecdistribucion.substr(0,10),this.devolucion=t.devolucion,this.importe=t.importe,this.notas=t.notas,this.rendido=t.rendido,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idpedidofondo="",this.idproyecto="",this.orden="",this.idusuario="",this.numpedido="",this.fecpedido="",this.importe="",this.totalSolicitado=0,this.totalEntregado=0,this.totalDisponible=0},limpiarDetail:function(){this.iddistribucionfondo="",this.idusuario="",this.fecdistribucion="",this.devolucion=!1,this.importe=0,this.notas="",this.rendido="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalEntregado=0,this.totalDisponible=0,this.searchr="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Distribucionfondos/Actualizar",{iddistribucionfondo:i.iddistribucionfondo,idpedidofondo:i.idpedidofondo,idusuario:i.idusuario,fecdistribucion:i.fecdistribucion,devolucion:i.devolucion,importe:i.importe,notas:i.notas,rendido:i.rendido,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Distribucionfondos/Crear",{idpedidofondo:o.idpedidofondo,idusuario:o.idusuario,fecdistribucion:o.fecdistribucion,devolucion:o.devolucion,importe:o.importe,notas:o.notas,rendido:!1,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.listarDetail(),o.limpiarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idusuario||this.validaMensaje.push("Ingrese un usuario responsable."),this.fecdistribucion||this.validaMensaje.push("Ingrese una fecha de distribución de fondo."),(!this.importe||Number(this.importe)<=0)&&this.validaMensaje.push("Ingrese un importe positivo."),this.totalDisponible-Number(this.importe)<0&&-1==this.editedIndex&&this.validaMensaje.push("Valide los montos ingresados vs disponibles."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.usuario+"/ $ "+e.importe,this.adId=e.iddistribucionfondo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0,this.adModal2=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Distribucionfondos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Distribucionfondos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},activarDesactivarRendir:function(t,e){this.adModal2=1,this.adNombre=e.usuario+"/ $ "+e.importe,this.adId=e.iddistribucionfondo,1==t?this.adAccion2=1:2==t?this.adAccion2=2:this.adModal2=0},activar2:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Distribucionfondos/ActivarRendido/"+this.adId,{},a).then((function(e){t.adModal2=0,t.adAccion2=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar2:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Distribucionfondos/DesactivarRendido/"+this.adId,{},a).then((function(e){t.adModal2=0,t.adAccion2=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},$o=Bo,Eo=Object(b["a"])($o,No,zo,!1,null,null,null),Ro=Eo.exports;g()(Eo,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Lo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Rendición - Distribuciones por Proyecto/Responsable")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Rendicion Fondos Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" | Responsable:"+t._s(t.usuario))])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"1200px",persistent:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.items,label:"Item","search-input":t.searchi},on:{"update:searchInput":function(e){t.searchi=e},"update:search-input":function(e){t.searchi=e},change:function(e){return t.cambioItem()}},model:{value:t.iditem,callback:function(e){t.iditem=e},expression:"iditem"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{items:t.subitems,label:"Subitems"},model:{value:t.idsubitem,callback:function(e){t.idsubitem=e},expression:"idsubitem"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-select",{attrs:{items:t.proveedores,label:"Proveedor",clearable:""},on:{change:function(e){return t.asignarCbte(t.idproveedor)}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{items:t.tipocomprobantes,label:"Tipo",disabled:!0},model:{value:t.tipocomprobante,callback:function(e){t.tipocomprobante=e},expression:"tipocomprobante"}})],1),[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Cbte","prepend-icon":"event",readonly:""},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}})],1)],1)],a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"# Cbte"},model:{value:t.indiceinterno,callback:function(e){t.indiceinterno=e},expression:"indiceinterno"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Imp.Sin IVA"},on:{change:function(e){"04"==t.tipocomprobante||"02"==t.tipocomprobante||"05"==t.tipocomprobante?t.imptotal=t.impsiniva:t.imptotal=t.imptotal}},model:{value:t.impsiniva,callback:function(e){t.impsiniva=e},expression:"impsiniva"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Imp.Total"},on:{change:function(e){"04"==t.tipocomprobante||"02"==t.tipocomprobante||"05"==t.tipocomprobante?t.impsiniva=t.imptotal:t.impsiniva=t.impsiniva}},model:{value:t.imptotal,callback:function(e){t.imptotal=e},expression:"imptotal"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.notas,callback:function(e){t.notas=e},expression:"notas"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Comprobante?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Comprobante?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                el Comprobante "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.rendicionfondos},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.iditem)?[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",[t._v(t._s(e.item.idrendicionfondo))]),a("td",[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.feccomprobante.substr(0,10)))]),a("td",[t._v(t._s(e.item.indiceinterno))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.impsiniva)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.imptotal)))]),a("td",[t._v(t._s(e.item.notas.substr(0,20)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]:void 0}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}],null,!0)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Distribución: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalDistribucion),20,"*"))+"\n                    ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Rendido: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalRendicion=t.calcularTotal),20,"*"))+"\n                    ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Pendiente: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalPendienteDist=t.totalDistribucion-t.totalRendicion),20,"*"))+"\n                    ")])],1),a("v-card-actions",[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"Rendiciones",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.distribucionfondos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[e.item.devolucion?t._e():[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                        tab\n                        ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.usuario))]),a("td",[t._v(t._s(e.item.cantidad))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Uo=[],qo=(a("96cf"),a("3b8d")),Ko=(a("34ef"),a("14b9"),a("9511")),Go=a.n(Ko),Ho={data:function(){return{json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],totalPendienteDist:0,totalPendienteProy:0,totalRendicion:0,totalDistribucion:0,totalProyecto:0,snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,filename:"",filedelete:"",originalguid:"",guid:"",allitems:[],items:[],subitems:[],allsubitems:[],proveedores:[],distribucionfondos:[],rendicionfondos:[],usuarioproyectos:[],idrendicionfondo:"",iddistribucionfondo:"",iditem:"",idsubitem:"",idproveedor:"",proveeedor:"",tipocomprobantes:[{value:"01",text:"Fc A"},{value:"02",text:"Fc B"},{value:"03",text:"Tk A"},{value:"04",text:"Tk B"},{value:"05",text:"Fc C"},{value:"06",text:"Fc M"},{value:"07",text:"Otro"}],tipocomprobante:"",numcomprobante:"",feccomprobante:"",indiceinterno:"",impsiniva:0,imptotal:0,notas:"",pdfcomprobante:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idultdistribucion:"",idproyecto:"",orden:"",proyecto:"",idusuario:"",usuario:"",cantidad:"",importe:"",menu1:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Responsable Distribucion",value:"usuario",sortable:!0},{text:"Cantidad",value:"cantidad",sortable:!0},{text:"Importe",value:"importe",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Id",value:"idrendicionfondo",sortable:!0},{text:"#Item",value:"itemorden",sortable:!0},{text:"Item descripción",value:"itemes",sortable:!0},{text:"#Subitem",value:"subitemorden",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!0},{text:"Fecha de comprobante",value:"feccomprobante",sortable:!0},{text:"#Hoja",value:"indiceinterno",sortable:!0},{text:"Imp.s/IVA",value:"impsiniva",sortable:!0},{text:"Imp.Total",value:"imptotal",sortable:!0},{text:"Notas",value:"notas",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",searchi:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo comprobante":"Actualizar comprobante"},calcularTotal:function(){for(var t=0,e=0;e<this.rendicionfondos.length;e++)t+=this.rendicionfondos[e].activo?this.rendicionfondos[e].imptotal:0;return t},CalcularTotalDist:function(){for(var t=0,e=0;e<this.distribucionfondos.length;e++)t+=this.distribucionfondos[e].activo?this.distribucionfondos[e].importe:0;return t},CalcularTotalProy:function(){for(var t=0,e=0;e<this.distribucionfondos.length;e++)this.distribucionfondos[e].idproyecto==this.idproyecto&&(t+=this.distribucionfondos[e].activo?this.distribucionfondos[e].importe:0);return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{crearXLS:function(){this.json_fields={"#Id":"idrendicionfondo","#Item":"itemorden","Item descripción":"itemes","#Subitem":"subitemorden","Nombre Proveedor":"proveedor","Fecha Comprobante":{field:"feccomprobante",callback:function(t){return t.substr(0,10)}},"#Hoja":"indiceinterno","Imp.s/IVA":{field:"impsiniva",callback:function(t){return t.toString().replace(".",",")}},"Imp.Total":{field:"imptotal",callback:function(t){return t.toString().replace(".",",")}},Notas:"notas"},this.json_data=this.rendicionfondos.filter((function(t){return!0===t.activo}))},validateAccess:function(t){for(var e=!1,a=0;a<this.items.length;a++)if(this.items[a]["value"]===t){e=!0;break}return e},pad:function(t,e,a){return a=a||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(a)+t},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Distribucionfondos/ListarActivosH",a).then((function(e){t.distribucionfondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol?W.a.get("api/Distribucionfondos/ListarActivosResponsableH/"+t.$store.state.usuario.idusuario,a).then((function(e){t.distribucionfondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Distribucionfondos/ListarActivosUsuarioH/"+t.$store.state.usuario.idusuario,a).then((function(e){t.distribucionfondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},filtrarItems:function(){var t=this,e=this;if(e.items=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.items=e.allitems.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.items=e.allitems},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Rendicionfondos/ListarRendicionProyRes/"+this.idproyecto+"/"+this.idusuario,a).then((function(e){t.rendicionfondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[],s=[],r=[];W.a.get("api/Items/SelectGastos",a).then((function(e){i=e.data,i.map((function(e){t.allitems.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proveedores/SelectGenerico",a).then((function(e){o=e.data,o.map((function(e){t.proveedores.push({text:e.razonsocial,value:e.idproveedor,tipocbte:e.tipocomprobantegenerico})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/Select",a).then((function(e){s=e.data,s.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Subitems/Select",a).then((function(e){r=e.data,r.map((function(e){t.allsubitems.push({text:e.orden+": "+e.subitemes,value:e.idsubitem,id:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},asignarCbte:function(t){var e=this;e.tipocomprobante=e.proveedores.find((function(e){return e.value===t}))["tipocbte"]},cambioItem:function(){this.idsubitem="",this.selectSubitems()},selectSubitems:function(){var t=this;t.subitems=t.allsubitems.filter((function(e){return e.id===t.iditem})),1===t.subitems.length&&(t.idsubitem=t.subitems[0].value)},editMasterItem:function(t){this.idultdistribucion=t.idultdistribucion,this.iddistribucionfondo=t.idultdistribucion,this.idusuario=t.idusuario,this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.usuario=t.usuario,this.importe=t.importe,this.totalDistribucion=t.importe,this.listarDetail(),this.filtrarItems(),this.dialog=!0},editDetailItem:function(t){this.idrendicionfondo=t.idrendicionfondo,this.iddistribucionfondo=t.iddistribucionfondo,this.iditem=t.iditem,this.selectSubitems(),this.idsubitem=t.idsubitem,this.idproveedor=t.idproveedor,this.tipocomprobante=t.tipocomprobante,this.numcomprobante=t.numcomprobante,this.feccomprobante=t.feccomprobante.substr(0,10),this.indiceinterno=t.indiceinterno,this.impsiniva=t.impsiniva,this.imptotal=t.imptotal,this.notas=t.notas,this.pdfcomprobante=t.pdfcomprobante,this.originalguid=t.pdfcomprobante,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idultdistribucion="",this.idproyecto="",this.orden="",this.proyecto="",this.idusuario="",this.usuario="",this.importe=0,this.totalDistribucion=0,this.totalRendicion=0,this.totalPendienteDist=0,this.totalPendienteProy=0},limpiarDetail:function(){this.iddistribucionfondo=this.idultdistribucion,this.idrendicionfondo="",this.iditem="",this.idsubitem="",this.idproveedor="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.indiceinterno="",this.impsiniva="",this.imptotal="",this.notas="",this.pdfcomprobante="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalRendicion=0,this.totalPendienteDist=0,this.totalPendienteProy=0,this.editedIndex=-1,this.searchi=""},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Rendicionfondos/Actualizar",{idrendicionfondo:i.idrendicionfondo,iddistribucionfondo:i.iddistribucionfondo,iditem:i.iditem,idsubitem:i.idsubitem,idproveedor:i.idproveedor,tipocomprobante:i.tipocomprobante,numcomprobante:i.numcomprobante,feccomprobante:i.feccomprobante,indiceinterno:i.indiceinterno,impsiniva:i.impsiniva,imptotal:i.imptotal,notas:i.notas,pdfcomprobante:i.pdfcomprobante,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.limpiarDetail(),i.listarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{this.onUpload();var o=this;W.a.post("api/Rendicionfondos/Crear",{iddistribucionfondo:o.iddistribucionfondo,iditem:o.iditem,idsubitem:o.idsubitem,idproveedor:o.idproveedor,tipocomprobante:o.tipocomprobante,numcomprobante:o.numcomprobante,feccomprobante:o.feccomprobante,indiceinterno:o.indiceinterno,impsiniva:o.impsiniva,imptotal:o.imptotal,notas:o.notas,pdfcomprobante:o.pdfcomprobante,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.limpiarDetail(),o.listarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idusuario||this.validaMensaje.push("Ingrese un usuario."),this.iddistribucionfondo||this.validaMensaje.push("No hay una distribucion de fondo."),this.tipocomprobante||this.validaMensaje.push("Seleccione un Tipo de Comprobante."),this.indiceinterno||this.validaMensaje.push("Ingrese un #Hoja o lugar de archivo."),(!this.impsiniva||Number(this.impsiniva)<=0)&&this.validaMensaje.push("Ingrese un importe neto de impuesto positivo."),(!this.imptotal||Number(this.imptotal)<=0)&&this.validaMensaje.push("Ingrese un importe total positivo."),Number(this.imptotal)<Number(this.impsiniva)&&this.validaMensaje.push("El importe sin IVA debe ser menor o igual que el importe total."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.tipocomprobante+" "+e.numcomprobante+" $ "+e.imptotal,this.adId=e.idrendicionfondo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Rendicionfondos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Rendicionfondos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},onFileSelected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guid=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcomprobante=this.guid,this.fd.append("file",e,this.guid);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onUpload:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fd,a).then((function(t){console.log(t.data),i.fd=new FormData})).catch((function(t){i.fd=new FormData,i.dialog=!1,i.guid="",i.pdfcomprobante="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDownload:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Express/DownloadFile/"+t,a).then((function(t){var e=atob(t.data),a=Go.a.getDocument({data:e});a.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))})).catch((function(t){console.log(t)}))},onClear:function(){var t=document.getElementById("the-canvas"),e=t.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)},onDelete:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.delete("api/Express/DeleteFile/"+t,a).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))}}},Yo=Ho,Wo=Object(b["a"])(Yo,Lo,Uo,!1,null,null,null),Jo=Wo.exports;g()(Wo,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Qo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Devolucion de Fondos - Pedidos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Devolucion Fondos Proyecto #"+t._s(t.orden)+" | Pedido #"+t._s(t.numpedido))])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.usuarios,"search-input":t.searchr,label:"Responsable"},on:{"update:searchInput":function(e){t.searchr=e},"update:search-input":function(e){t.searchr=e}},model:{value:t.idusuario,callback:function(e){t.idusuario=e},expression:"idusuario"}})],1),[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Devolución","prepend-icon":"event",readonly:""},model:{value:t.fecdistribucion,callback:function(e){t.fecdistribucion=e},expression:"fecdistribucion"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{min:t.fecpedido},on:{input:function(e){t.menu1=!1}},model:{value:t.fecdistribucion,callback:function(e){t.fecdistribucion=e},expression:"fecdistribucion"}})],1)],1)],a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Importe"},model:{value:t.importe,callback:function(e){t.importe=e},expression:"importe"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.notas,callback:function(e){t.notas=e},expression:"notas"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Devolución de Fondo?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Devolución de Fondo?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la devolución de fondo de "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal2,callback:function(e){t.adModal2=e},expression:"adModal2"}},[a("v-card",[1==t.adAccion2?a("v-card-title",{staticClass:"headline"},[t._v("¿Marcar como Rendido?")]):t._e(),2==t.adAccion2?a("v-card-title",{staticClass:"headline"},[t._v("¿Desmarcar como Rendido?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion2?a("span",[t._v("Marcar ")]):t._e(),2==t.adAccion2?a("span",[t._v("Desmarcar ")]):t._e(),t._v("\n                                la distribución de fondo de "+t._s(t.adNombre)+" como rendido\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion2?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar2}},[t._v("\n                                    Marcar\n                                ")]):t._e(),2==t.adAccion2?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar2}},[t._v("\n                                    Desmarcar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.distribucionfondos},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[e.item.devolucion&&!e.item.rendido?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]):t._e(),e.item.devolucion&&!e.item.rendido?[e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                        block\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                        check\n                                        ")])]]:t._e(),e.item.devolucion&&e.item.activo?[e.item.rendido?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarRendir(2,e.item)}}},[t._v("\n                                        lock\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarRendir(1,e.item)}}},[t._v("\n                                        lock_open\n                                        ")])]]:t._e()],2),a("td",[t._v(t._s(e.item.usuario))]),a("td",[t._v(t._s(e.item.fecdistribucion.substr(0,10)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",{staticClass:"text-xs-center"},[e.item.devolucion?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",{staticClass:"text-xs-center"},[e.item.rendido?a("div",[a("span",{staticClass:"green--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.notas?e.item.notas.substr(0,20):e.item.notas))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Distribuido: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalDistribucion=t.CalcularTotalDist),20,"*"))+"\n                    ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Pedido: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalPedido=t.calcularTotal),20,"*"))+"\n                    ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Pendiente: ")]),t._v("$ "+t._s(t.pad(t.formatPrice(t.totalPendiente=t.totalDistribucion-t.totalPedido),20,"*"))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.pedidofondos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.numpedido))]),a("td",[t._v(t._s(e.item.responsable))]),a("td",[t._v(t._s(e.item.fecpedido.substr(0,10)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",[t._v(t._s(e.item.notas?e.item.notas.substr(0,20):e.item.notas))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Zo=[],Xo={data:function(){return{totalPendiente:0,totalPedido:0,totalDistribucion:0,snackbar:!1,snacktext:"Hola",timeout:4e3,pedidofondos:[],distribucionfondos:[],proyectos:[],usuarios:[],idpedidofondo:"",idproyecto:"",orden:"",idresponsable:"",numpedido:"",fecpedido:"",importe:0,notas:"",iddistribucionfondo:"",idusuario:"",fecdistribucion:"",devolucion:!1,rendido:!0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",menu1:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"#Pedido",value:"numpedido",sortable:!0},{text:"Responsable",value:"responsable",sortable:!0},{text:"Fecha Pedido",value:"fecpedido",sortable:!0},{text:"Importe",value:"importe",sortable:!0},{text:"Notas",value:"notas",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Responsable de la Distribucion de Fondos",value:"responsable",sortable:!0},{text:"Fecha de entrega",value:"fecdistribucion",sortable:!0},{text:"Importe",value:"importe",sortable:!0},{text:"Devolucion?",value:"devolucion",sortable:!0},{text:"Rendido?",value:"rendido",sortable:!0},{text:"Notas y/o Observaciones",value:"notas",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fecha/Hora de Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"F/H Ultima Modificación",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",searchr:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",adModal2:0,adAccion2:0}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva devolución":"Actualizar devolución"},calcularTotal:function(){for(var t=0,e=0;e<this.pedidofondos.length;e++)this.pedidofondos[e].idpedidofondo==this.idpedidofondo&&(t+=this.pedidofondos[e].activo?this.pedidofondos[e].importe:0);return t},CalcularTotalDist:function(){for(var t=0,e=0;e<this.distribucionfondos.length;e++)this.distribucionfondos[e].idpedidofondo==this.idpedidofondo&&(t+=this.distribucionfondos[e].activo?this.distribucionfondos[e].importe:0);return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{pad:function(t,e,a){return a=a||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(a)+t},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Pedidofondos/ListarActivos",a).then((function(e){t.pedidofondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Pedidofondos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.pedidofondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Distribucionfondos/ListarPedidofondo/"+this.idpedidofondo,a).then((function(e){t.distribucionfondos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i={Authorization:"Bearer "+this.$store.state.token},o={headers:i};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Select",o).then((function(a){e=a.data,e.map((function(e){t.proyectos.push({text:e.orden+": "+e.proyecto,value:e.idproyecto})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/SelectDeUsuario/"+t.$store.state.usuario.idusuario,o).then((function(a){e=a.data,e.map((function(e){t.proyectos.push({text:e.orden+": "+e.proyecto,value:e.idproyecto})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarios/SelectUsuario",o).then((function(e){a=e.data,a.map((function(e){t.usuarios.push({text:e.userid,value:e.idusuario})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idpedidofondo=t.idpedidofondo,this.idproyecto=t.idproyecto,this.orden=t.orden,this.idresponsable=t.idresponsable,this.numpedido=t.numpedido,this.fecpedido=t.fecpedido.substr(0,10),this.importe=t.importe,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.iddistribucionfondo=t.iddistribucionfondo,this.idusuario=t.idusuario,this.fecdistribucion=t.fecdistribucion.substr(0,10),this.devolucion=t.devolucion,this.importe=t.importe,this.notas=t.notas,this.rendido=t.rendido,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idpedidofondo="",this.idproyecto="",this.orden="",this.idresponsable="",this.numpedido="",this.fecpedido="",this.importe=""},limpiarDetail:function(){this.iddistribucionfondo="",this.idusuario="",this.fecdistribucion="",this.devolucion=!1,this.importe=0,this.notas="",this.rendido=!1,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.searchr="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Distribucionfondos/Actualizar",{iddistribucionfondo:i.iddistribucionfondo,idpedidofondo:i.idpedidofondo,idusuario:i.idusuario,fecdistribucion:i.fecdistribucion,devolucion:i.devolucion,importe:i.importe,notas:i.notas,rendido:i.rendido,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Distribucionfondos/Crear",{idpedidofondo:o.idpedidofondo,idusuario:o.idusuario,fecdistribucion:o.fecdistribucion,devolucion:!0,importe:o.importe,notas:o.notas,rendido:!0,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.listarDetail(),o.limpiarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idusuario||this.validaMensaje.push("Ingrese un usuario."),this.fecdistribucion||this.validaMensaje.push("Ingrese una fecha de distribución de fondo."),(!this.importe||Number(this.importe)>0)&&this.validaMensaje.push("Ingrese un importe negativo."),-this.totalPendiente+Number(this.importe)<0&&this.validaMensaje.push("Valide los montos ingresados vs disponibles."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.usuario+"/ $ "+e.importe,this.adId=e.iddistribucionfondo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0,this.adModal2=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Distribucionfondos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Distribucionfondos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},activarDesactivarRendir:function(t,e){this.adModal2=1,this.adNombre=e.usuario+"/ $ "+e.importe,this.adId=e.iddistribucionfondo,1==t?this.adAccion2=1:2==t?this.adAccion2=2:this.adModal2=0},activar2:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Distribucionfondos/ActivarRendido/"+this.adId,{},a).then((function(e){t.adModal2=0,t.adAccion2=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar2:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Distribucionfondos/DesactivarRendido/"+this.adId,{},a).then((function(e){t.adModal2=0,t.adAccion2=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},ts=Xo,es=Object(b["a"])(ts,Qo,Zo,!1,null,null,null),as=es.exports;g()(es,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Ordenes de Pago - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{clearable:"","append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Orden de Pago para Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-actions",[a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{clearable:"","append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.searchd,callback:function(e){t.searchd=e},expression:"searchd"}}),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"1200px",persistent:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),0==t.pagado||"Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol?a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")]):t._e()],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{clearable:"",disabled:t.pagado,items:t.items,label:"Item","search-input":t.searchi},on:{"update:searchInput":function(e){t.searchi=e},"update:search-input":function(e){t.searchi=e},change:function(e){return t.cambioItem()}},model:{value:t.iditem,callback:function(e){t.iditem=e},expression:"iditem"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{disabled:t.pagado,items:t.subitems,label:"Subitems"},model:{value:t.idsubitem,callback:function(e){t.idsubitem=e},expression:"idsubitem"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{disabled:t.pagado,clearable:"",items:t.proveedores,"search-input":t.searchp,label:"Proveedor"},on:{change:t.selectAlternativapagos,"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{disabled:t.pagado,items:t.tipocomprobantes,label:"Tipo"},model:{value:t.tipocomprobante,callback:function(e){t.tipocomprobante=e},expression:"tipocomprobante"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Comprobante",disabled:t.pagado},model:{value:t.numcomprobante,callback:function(e){t.numcomprobante=e},expression:"numcomprobante"}})],1),[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Cbte","prepend-icon":"event",readonly:"",disabled:t.pagado},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}})],1)],1)],a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",disabled:t.pagado,label:"Imp.Sin IVA"},on:{change:function(e){"04"==t.tipocomprobante||"02"==t.tipocomprobante||"05"==t.tipocomprobante?t.imptotal=t.impsiniva:t.imptotal=t.imptotal}},model:{value:t.impsiniva,callback:function(e){t.impsiniva=e},expression:"impsiniva"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",disabled:t.pagado,label:"Imp.Total"},on:{change:function(e){"04"==t.tipocomprobante||"02"==t.tipocomprobante||"05"==t.tipocomprobante?t.impsiniva=t.imptotal:t.impsiniva=t.impsiniva}},model:{value:t.imptotal,callback:function(e){t.imptotal=e},expression:"imptotal"}})],1),[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Pago","prepend-icon":"event",readonly:"",disabled:t.pagado},model:{value:t.fecpago,callback:function(e){t.fecpago=e},expression:"fecpago"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{min:t.feccomprobante},on:{input:function(e){t.menu2=!1}},model:{value:t.fecpago,callback:function(e){t.fecpago=e},expression:"fecpago"}})],1)],1)],a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{disabled:t.pagado,items:t.forpagos,label:"Forma de Pago"},model:{value:t.idforpago,callback:function(e){t.idforpago=e},expression:"idforpago"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-select",{attrs:{disabled:t.pagado,items:t.alternativapagos,label:"Beneficiario"},model:{value:t.idalternativapago,callback:function(e){t.idalternativapago=e},expression:"idalternativapago"}})],1),a("v-flex",{attrs:{xs1:"",sm1:"",md1:""}},[a("v-text-field",{attrs:{disabled:"",label:"Cuenta Gcom"},model:{value:t.cuentagcom,callback:function(e){t.cuentagcom=e},expression:"cuentagcom"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileSelected(e.target.files)}}})]),0==t.pagado||"Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol?a("v-btn",{on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("Buscar")]):t._e(),t.pdfcomprobantefac?a("v-btn",{on:{click:function(e){return t.onSaveAs(t.pdfcomprobantefac)}}},[t._v("Desc Fac")]):t._e(),t.pdfcomprobantepago?a("v-btn",{on:{click:function(e){return t.onSaveAs(t.pdfcomprobantepago)}}},[t._v("Desc Pago")]):t._e(),t.pdfcertificado1?a("v-btn",{on:{click:function(e){return t.onSaveAs(t.pdfcertificado1)}}},[t._v("Desc Cer#1")]):t._e(),t.pdfcertificado2?a("v-btn",{on:{click:function(e){return t.onSaveAs(t.pdfcertificado2)}}},[t._v("Desc Cer#2")]):t._e(),t.pdfcertificado3?a("v-btn",{on:{click:function(e){return t.onSaveAs(t.pdfcertificado3)}}},[t._v("Desc Cer#3")]):t._e(),t.pdfcertificado4?a("v-btn",{on:{click:function(e){return t.onSaveAs(t.pdfcertificado4)}}},[t._v("Desc Cer#4")]):t._e()],1)]),a("v-flex",{attrs:{xs12:""}},[a("div",[a("canvas",{staticStyle:{border:"1px  solid black"},attrs:{id:"the-canvas"}})])]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.notas,callback:function(e){t.notas=e},expression:"notas"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Orden de Pago?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Orden de Pago?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la Orden de Pago de "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.ordenpagos,search:t.searchd},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.iditem)?[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),!1!==e.item.pagado||"Administrador"!=t.$store.state.usuario.rol&&"JefeAdministracion"!=t.$store.state.usuario.rol?t._e():a("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n                                delete\n                                ")]),!1===e.item.pagado?[e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                        block\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                        check\n                                        ")])]]:t._e()],2),a("td",[t._v(t._s(e.item.idordenpago))]),a("td",[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.feccomprobante.substr(0,10)))]),a("td",[t._v(t._s(t.tipocomprobantes.find((function(t){return t.value===e.item.tipocomprobante})).text))]),a("td",[t._v(t._s(e.item.numcomprobante))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.imptotal)))]),a("td",[t._v(t._s(e.item.forpago))]),a("td",[t._v(t._s(e.item.fecpago.substr(0,10)))]),a("td",[t._v(t._s(e.item.alternativapago))]),a("td",[t._v(t._s(e.item.banco))]),a("td",[t._v(t._s(e.item.numcuenta))]),a("td",[t._v(t._s(e.item.cbu))]),a("td",[t._v(t._s(e.item.alias))]),a("td",{staticClass:"justify-center"},[e.item.pagado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.notas.substr(0,20)))]),a("td",[t._v(t._s(e.item.pdfcomprobantefac))]),a("td",[t._v(t._s(e.item.pdfcomprobantepago))]),a("td",[t._v(t._s(e.item.pdfcertificado1))]),a("td",[t._v(t._s(e.item.pdfcertificado2))]),a("td",[t._v(t._s(e.item.pdfcertificado3))]),a("td",[t._v(t._s(e.item.pdfcertificado4))]),a("td",{staticClass:"justify-center "},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]:void 0}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}],null,!0)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Ordenes: ")]),t._v("$ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},os=[],ss={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originalfacguid:"",guid:"",page:1,allitems:[],items:[],subitems:[],allsubitems:[],proveedores:[],proyectos:[],ordenpagos:[],resultado:[],alternativapagos:[],allalternativapagos:[],forpagos:[],usuarioproyectos:[],idordenpago:"",iditem:"",idsubitem:"",idproveedor:"",proveeedor:"",idalternativapago:"",feccomprobante:"",tipocomprobantes:[{value:"01",text:"Fc A"},{value:"02",text:"Fc B"},{value:"03",text:"Tk A"},{value:"04",text:"Tk B"},{value:"05",text:"Fc C"},{value:"06",text:"Fc M"},{value:"07",text:"Otro"}],tipocomprobante:"",numcomprobante:"",impsiniva:0,imptotal:0,fecpago:"",idforpago:"",cuentagcom:"",pdfcomprobantefac:"",pagado:!1,fecpagado:"",pdfcomprobantepago:"",pdfcertificado1:"",pdfcertificado2:"",pdfcertificado3:"",pdfcertificado4:"",notas:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",menu1:!1,menu2:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Id",value:"idordenpago",sortable:!0},{text:"#Item",value:"itemorden",sortable:!0},{text:"Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"subitemorden",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"Proveedor",value:"proveedor",sortable:!0},{text:"Fecha Cbte",value:"feccomprobante",sortable:!0},{text:"Cbte",value:"tipocomprobante",sortable:!0},{text:"#Cbte",value:"numcomprobante",sortable:!0},{text:"Imp.Total",value:"imptotal",sortable:!0},{text:"Forma de pago",value:"forpago",sortable:!0},{text:"Fecha Pago",value:"fecpago",sortable:!0},{text:"Beneficiario",value:"alternativapago",sortable:!0},{text:"Banco",value:"banco",sortable:!0},{text:"#Cuenta",value:"numcuenta",sortable:!0},{text:"CBU",value:"cbu",sortable:!0},{text:"Alias",value:"alias",sortable:!0},{text:"Pagado",value:"pagado",sortable:!0},{text:"Notas",value:"notas",sortable:!0},{text:"Fac guid",value:"pdfcomprobantefac",sortable:!0},{text:"Pago guid",value:"pdfcomprobantepago",sortable:!0},{text:"Cer#1 guid",value:"pdfcertificado1",sortable:!0},{text:"Cer#2 guid",value:"pdfcertificado2",sortable:!0},{text:"Cer#3 guid",value:"pdfcertificado3",sortable:!0},{text:"Cer#4 guid",value:"pdfcertificado4",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],totalPagado:0,search:"",searchd:"",searchi:"",searchp:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Orden de Pago":"Actualizar Orden de Pago"},calcularTotal:function(){for(var t=0,e=0;e<this.ordenpagos.length;e++)t+=this.ordenpagos[e].activo?this.ordenpagos[e].imptotal:0;return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{validateAccess:function(t){for(var e=!1,a=0;a<this.items.length;a++)if(this.items[a]["value"]===t){e=!0;break}return e},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},filtrarItems:function(){var t=this,e=this;if(e.items=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.items=e.allitems.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.items=e.allitems},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Ordenpagos/ListarProyecto/"+this.idproyecto,a).then((function(e){t.ordenpagos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[],s=[],r=[],n=[],c=[];W.a.get("api/Items/Select",a).then((function(e){i=e.data,i.map((function(e){t.allitems.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf,cuenta:e.cuentagcom})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proveedores/Select",a).then((function(e){s=e.data,s.map((function(e){t.proveedores.push({text:e.razonsocial,value:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/SelectDeUsuario/"+t.$store.state.usuario.idusuario,a).then((function(e){r=e.data,r.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Subitems/Select",a).then((function(e){o=e.data,o.map((function(e){t.allsubitems.push({text:e.orden+": "+e.subitemes,value:e.idsubitem,id:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Alternativapagos/Select",a).then((function(e){n=e.data,n.map((function(e){t.allalternativapagos.push({text:e.orden+": "+(e.cbu?e.banco+" "+e.cbu+" "+e.alias:e.beneficiario+" "+e.cuitcuil),value:e.idalternativapago,id:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Forpagos/Select",a).then((function(e){c=e.data.sort((function(t,e){return t.forpago>e.forpago?1:-1})),c.map((function(e){t.forpagos.push({text:e.forpago,value:e.idforpago})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},cambioItem:function(){var t=this;this.cuentagcom=this.iditem?this.allitems.find((function(e){return e.value===t.iditem})).cuenta:"",this.selectSubitems()},selectSubitems:function(){var t=this;t.idsubitem="",t.subitems=t.allsubitems.filter((function(e){return e.id===t.iditem})),1===t.subitems.length&&(t.idsubitem=t.subitems[0].value)},selectAlternativapagos:function(){var t=this;t.alternativapagos=t.allalternativapagos.filter((function(e){return e.id===t.idproveedor})),1===t.alternativapagos.length&&(t.idalternativapago=t.alternativapagos[0].value)},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.filtrarItems(),this.dialog=!0},editDetailItem:function(t){this.idordenpago=t.idordenpago,this.idproyecto=t.idproyecto,this.iditem=t.iditem,this.selectSubitems(),this.idsubitem=t.idsubitem,this.idproveedor=t.idproveedor,this.selectAlternativapagos(),this.idalternativapago=t.idalternativapago,this.tipocomprobante=t.tipocomprobante,this.numcomprobante=t.numcomprobante,this.feccomprobante=t.feccomprobante.substr(0,10),this.impsiniva=t.impsiniva,this.imptotal=t.imptotal,this.fecpago=t.fecpago.substr(0,10),this.idforpago=t.idforpago,this.cuentagcom=t.iditem?this.allitems.find((function(e){return e.value===t.iditem})).cuenta:"",this.pdfcomprobantefac=t.pdfcomprobantefac,this.originalfacguid=t.pdfcomprobantefac,this.pdfcomprobantepago=t.pdfcomprobantepago,this.pdfcertificado1=t.pdfcertificado1,this.pdfcertificado2=t.pdfcertificado2,this.pdfcertificado3=t.pdfcertificado3,this.pdfcertificado4=t.pdfcertificado4,this.pagado=t.pagado,this.fecpagado=t.fecpagado,this.notas=t.notas,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.onDownload(this.pdfcomprobantefac),this.editedIndex=1,this.dialogForm=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var i={Authorization:"Bearer "+e.$store.state.token},o={headers:i};W.a.delete("api/Ordenpagos/Eliminar/"+t.idordenpago,o).then((function(t){e.closeForm(),e.limpiarDetail(),e.listarDetail()})).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}))}},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.totalPagado=0,this.search="",this.searchd=""},limpiarDetail:function(){this.idordenpago="",this.iditem="",this.idsubitem="",this.idproveedor="",this.idalternativapago="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.impsiniva="",this.imptotal="",this.fecpago="",this.idforpago="",this.cuentagcom="",this.pdfcomprobantefac="",this.pagado=!1,this.fecpagado="",this.pdfcomprobantepago="",this.pdfcertificado1="",this.pdfcertificado2="",this.pdfcertificado3="",this.pdfcertificado4="",this.notas="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0,this.editedIndex=-1,this.alternativapagos=[],this.searchp="",this.searchi="",this.searchd="",this.onClear()},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){this.pdfcomprobantefac&&this.originalfacguid!=this.pdfcomprobantefac&&(this.onDelete(this.originalfacguid),this.originalfacguid="",this.onUpload());var i=this;W.a.put("api/Ordenpagos/Actualizar",{idordenpago:i.idordenpago,idproyecto:i.idproyecto,iditem:i.iditem,idsubitem:i.idsubitem,idproveedor:i.idproveedor,idalternativapago:i.idalternativapago,feccomprobante:i.feccomprobante,tipocomprobante:i.tipocomprobante,numcomprobante:i.numcomprobante,impsiniva:i.impsiniva,imptotal:i.imptotal,fecpago:i.fecpago,idforpago:i.idforpago,pdfcomprobantefac:i.pdfcomprobantefac,pagado:i.pagado,fecpagado:i.fecpagado,pdfcomprobantepago:i.pdfcomprobantepago,pdfcertificado1:i.pdfcertificado1,pdfcertificado2:i.pdfcertificado2,pdfcertificado3:i.pdfcertificado3,pdfcertificado4:i.pdfcertificado4,notas:i.notas,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.limpiarDetail(),i.listarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{this.onUpload();var o=this;W.a.post("api/Ordenpagos/Crear",{idproyecto:o.idproyecto,iditem:o.iditem,idsubitem:o.idsubitem,idproveedor:o.idproveedor,idalternativapago:o.idalternativapago,feccomprobante:o.feccomprobante,tipocomprobante:o.tipocomprobante,numcomprobante:o.numcomprobante,impsiniva:o.impsiniva,imptotal:o.imptotal,fecpago:o.fecpago,idforpago:o.idforpago,pdfcomprobantefac:o.pdfcomprobantefac,pagado:!1,fecpagado:o.fecpagado,pdfcomprobantepago:o.pdfcomprobantepago,pdfcertificado1:o.pdfcertificado1,pdfcertificado2:o.pdfcertificado2,pdfcertificado3:o.pdfcertificado3,pdfcertificado4:o.pdfcertificado4,notas:o.notas,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.limpiarDetail(),o.listarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.iditem||this.validaMensaje.push("Ingrese un item."),this.idsubitem||this.validaMensaje.push("Ingrese un subitem."),this.idalternativapago||this.validaMensaje.push("Ingrese un beneficiario."),this.idproveedor||this.validaMensaje.push("Ingrese un proveedor."),this.feccomprobante||this.validaMensaje.push("Ingrese una fecha de comprobante."),this.tipocomprobante||this.validaMensaje.push("Seleccione un Tipo de Comprobante."),this.numcomprobante||this.validaMensaje.push("Ingrese un Numero de Comprobante."),this.numcomprobante.length>12&&this.validaMensaje.push("El Numero de Comprobante no puede ser mayor a 12 posiciones."),this.fecpago||this.validaMensaje.push("Ingrese una fecha de pago."),this.idforpago||this.validaMensaje.push("Ingrese una Forma de pago."),(!this.impsiniva||Number(this.impsiniva)<=0)&&this.validaMensaje.push("Ingrese un importe neto de impuesto positivo."),(!this.imptotal||Number(this.imptotal)<=0)&&this.validaMensaje.push("Ingrese un importe total positivo."),Number(this.imptotal)<Number(this.impsiniva)&&this.validaMensaje.push("El importe sin IVA debe ser menor o igual que el importe total."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=this.tipocomprobantes.find((function(t){return t.value===e.tipocomprobante})).text+" "+e.numcomprobante+" $ "+e.imptotal,this.adId=e.idordenpago,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Ordenpagos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Ordenpagos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},onFileSelected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guid=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcomprobantefac=this.guid,this.fd.append("file",e,this.guid);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onUpload:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fd,a).then((function(t){console.log(t.data),i.fd=new FormData})).catch((function(t){i.fd=new FormData,i.dialog=!1,i.guid="",i.pdfcomprobantefac="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDownload:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Express/DownloadFile/"+t,a).then((function(t){var e=atob(t.data),a=Go.a.getDocument({data:e});a.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))})).catch((function(t){console.log(t)}))},onSaveAs:function(t){var e={Authorization:"Bearer "+this.$store.state.token},i={headers:e};W.a.get("api/Express/DownloadFile/"+t,i).then((function(t){for(var e=a("76e9"),i=atob(t.data),o=new Array(i.length),s=0;s<i.length;s++)o[s]=i.charCodeAt(s);var r=new Uint8Array(o),n=new Blob([r],{type:"application/pdf"});e.saveAs(n,"Export.pdf")}))},onClear:function(){var t=document.getElementById("the-canvas"),e=t.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)},onDelete:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.delete("api/Express/DeleteFile/"+t,a).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))}}},rs=ss,ns=Object(b["a"])(rs,is,os,!1,null,null,null),cs=ns.exports;g()(ns,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Registro de Pago")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"350"},model:{value:t.registrar,callback:function(e){t.registrar=e},expression:"registrar"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("¿Deseas registrar el pago?")]),a("v-card-text",[t._v("\n                    Estas a punto de indicar que el registro de pago se ha completado."),a("br"),t._v(" Esto significa que se han incluido todas las imágenes relacionados con el comprobante tratado."),a("br"),t._v(" Se marcara el comprobante como pagado y saldrá de la lista de pendientes.\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.registrar=!1}}},[t._v("\n                    Cancelar\n                    ")]),a("v-btn",{attrs:{color:"success",flat:""},on:{click:t.registro}},[t._v("\n                    Aceptar\n                    ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Registro de Pago")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"success",flat:""},nativeOn:{click:function(e){t.registrar=!0}}},[t._v("Registrar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{disabled:"",items:t.proveedores,label:"Proveedor"},on:{change:function(e){return t.selectAlternativapagos()}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{disabled:"",items:t.tipocomprobantes,label:"Tipo"},model:{value:t.tipocomprobante,callback:function(e){t.tipocomprobante=e},expression:"tipocomprobante"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Comprobante",disabled:""},model:{value:t.numcomprobante,callback:function(e){t.numcomprobante=e},expression:"numcomprobante"}})],1),[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Cbte","prepend-icon":"event",readonly:"",disabled:""},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}})],1)],1)],[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Pago","prepend-icon":"event",readonly:"",disabled:""},model:{value:t.fecpago,callback:function(e){t.fecpago=e},expression:"fecpago"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.fecpago,callback:function(e){t.fecpago=e},expression:"fecpago"}})],1)],1)],a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Imp.Total",disabled:""},model:{value:t.imptotal,callback:function(e){t.imptotal=e},expression:"imptotal"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{disabled:"",label:"Cuenta Gcom"},model:{value:t.cuentagcom,callback:function(e){t.cuentagcom=e},expression:"cuentagcom"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.forpagos,label:"Forma de Pago"},model:{value:t.idforpago,callback:function(e){t.idforpago=e},expression:"idforpago"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.alternativapagos,label:"Beneficiario"},model:{value:t.idalternativapago,callback:function(e){t.idalternativapago=e},expression:"idalternativapago"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Pago",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFilePagoSelected(e.target.files)}}})])]),a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Cert1",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileCert1Selected(e.target.files)}}})])]),a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Cert2",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileCert2Selected(e.target.files)}}})])]),a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Cert3",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileCert3Selected(e.target.files)}}})])]),a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Cert4",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileCert4Selected(e.target.files)}}})])])]),a("v-flex",{attrs:{xs3:"",sm3:""}},[a("v-overflow-btn",{staticClass:"my-2",attrs:{items:t.documentos,label:"Ver",target:"#listavisualizar"},on:{input:function(e){return t.onViewSelected(e)}}})],1),a("v-spacer"),0==t.pagado?a("v-btn",{on:{click:function(e){return t.$refs.Pago.click()}}},[t._v("PDf Pago")]):t._e(),0==t.pagado?a("v-btn",{on:{click:function(e){return t.$refs.Cert1.click()}}},[t._v("PDF Cer1")]):t._e(),0==t.pagado?a("v-btn",{on:{click:function(e){return t.$refs.Cert2.click()}}},[t._v("PDF Cer2")]):t._e(),0==t.pagado?a("v-btn",{on:{click:function(e){return t.$refs.Cert3.click()}}},[t._v("PDF Cer3")]):t._e(),0==t.pagado?a("v-btn",{on:{click:function(e){return t.$refs.Cert4.click()}}},[t._v("PDF Cer4")]):t._e(),a("v-flex",{attrs:{xs12:""}},[a("div",[a("canvas",{staticStyle:{border:"1px  solid black"},attrs:{id:"the-canvas"}})])]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.notas,callback:function(e){t.notas=e},expression:"notas"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1)],1)],1),a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"Pendientes",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ordenpagos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[!1===e.item.pagado?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.edit(e.item)}}},[t._v("\n                    edit\n                    ")]):t._e()],1),a("td",[t._v(t._s(e.item.fecpago.substr(0,10)))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.proyectoorden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(t.tipocomprobantes.find((function(t){return t.value===e.item.tipocomprobante})).text))]),a("td",[t._v(t._s(e.item.numcomprobante))]),a("td",[t._v(t._s(e.item.feccomprobante.substr(0,10)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.imptotal)))]),a("td",[t._v(t._s(e.item.forpago))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.alternativapago))]),a("td",[t._v(t._s(e.item.banco))]),a("td",[t._v(t._s(e.item.numcuenta))]),a("td",[t._v(t._s(e.item.cbu))]),a("td",[t._v(t._s(e.item.alias))]),a("td",[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.notas.substr(0,20)))]),a("td",[t._v(t._s(e.item.pdfcomprobantefac))]),a("td",[t._v(t._s(e.item.pdfcomprobantepago))]),a("td",[t._v(t._s(e.item.pdfcertificado1))]),a("td",[t._v(t._s(e.item.pdfcertificado2))]),a("td",[t._v(t._s(e.item.pdfcertificado3))]),a("td",[t._v(t._s(e.item.pdfcertificado4))]),a("td",{staticClass:"justify-center "},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.idordenpago))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                    NADA PARA MOSTRAR :(\n                ")])]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total: ")]),t._v("$ "+t._s(t.totalPendiente=t.formatPrice(t.calcularTotal))+"\n        ")])],1)],1)},ls=[],us={data:function(){return{json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],snackbar:!1,snacktext:"Hola",timeout:4e3,fdpago:new FormData,fdcert1:new FormData,fdcert2:new FormData,fdcert3:new FormData,fdcert4:new FormData,originalguidpago:"",originalguidcert1:"",originalguidcert2:"",originalguidcert3:"",originalguidcert4:"",guidpago:"",guidcert1:"",guidcert2:"",guidcert3:"",guidcert4:"",documento:"Factura",documentos:["Factura","Pago","Cert#1","Cert#2","Cert#3","Cert#4"],busquedas:["Pago","Cert#1","Cert#2","Cert#3","Cert#4"],page:1,items:[],subitems:[],allsubitems:[],proveedores:[],proyectos:[],ordenpagos:[],alternativapagos:[],allalternativapagos:[],forpagos:[],idordenpago:"",iditem:"",idsubitem:"",idproveedor:"",proveeedor:"",idalternativapago:"",cuentagcom:"",feccomprobante:"",tipocomprobantes:[{value:"01",text:"Fc A"},{value:"02",text:"Fc B"},{value:"03",text:"Tk A"},{value:"04",text:"Tk B"},{value:"05",text:"Fc C"},{value:"06",text:"Fc M"},{value:"07",text:"Otro"}],tipocomprobante:"",numcomprobante:"",impsiniva:0,imptotal:0,fecpago:"",idforpago:"",pagado:!1,fecpagado:"",pdfcomprobantefac:"",pdfcomprobantepago:"",pdfcertificado1:"",pdfcertificado2:"",pdfcertificado3:"",pdfcertificado4:"",notas:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idproyecto:"",proyecto:"",menu1:!1,menu2:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Fecha Pago",value:"fecpago",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!0},{text:"#Proyecto",value:"proyectoorden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Cbte",value:"tipocomprobante",sortable:!0},{text:"#Cbte",value:"numcomprobante",sortable:!0},{text:"Fecha Cbte",value:"feccomprobante",sortable:!0},{text:"Imp.Total",value:"imptotal",sortable:!0},{text:"Forma de pago",value:"forpago",sortable:!0},{text:"Telefono",value:"telefono",sortable:!0},{text:"email",value:"email",sortable:!0},{text:"Beneficiario",value:"alternativapago",sortable:!0},{text:"Banco",value:"banco",sortable:!0},{text:"#Cuenta",value:"numcuenta",sortable:!0},{text:"CBU",value:"cbu",sortable:!0},{text:"Alias",value:"alias",sortable:!0},{text:"#Item",value:"itemorden",sortable:!0},{text:"Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"subitemorden",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"Notas",value:"notas",sortable:!0},{text:"Fac guid",value:"pdfcomprobantefac",sortable:!1},{text:"Pago guid",value:"pdfcomprobantepago",sortable:!1},{text:"Cer1 guid",value:"pdfcertificado1",sortable:!1},{text:"Cer2 guid",value:"pdfcertificado2",sortable:!1},{text:"Cer3 guid",value:"pdfcertificado3",sortable:!1},{text:"Cer4 guid",value:"pdfcertificado4",sortable:!1},{text:"Estado",value:"activo",sortable:!0},{text:"#Id",value:"idordenpago",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],totalVencido:0,totalPagar:0,totalPendiente:0,search:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",registrar:!1}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.ordenpagos.length;e++)t+=this.ordenpagos[e].activo?this.ordenpagos[e].imptotal:0;return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listar(),this.select()},methods:{crearXLS:function(){this.json_fields={"Fecha Pago":{field:"fecpago",callback:function(t){return t.substr(0,10)}},Proveedor:"proveedor","#Proyecto":"proyectoorden",Proyecto:"proyecto",Cbte:"tipocomprobante","#Cbte":"numcomprobante","Fecha Cbte":{field:"feccomprobante",callback:function(t){return t.substr(0,10)}},"Imp.Total":{field:"imptotal",callback:function(t){return t.toString().replace(".",",")}},"Forma de Pago":"forpago",Telefono:"telefono",eMail:"email",Beneficiario:"alternativapago",Banco:"banco","Nro.Cuenta":"numcuenta",CBU:"cbu",Alias:"alias","#Item":"itemorden",Item:"itemes","#Subitem":"subitemorden",Subitem:"subitemes"},this.json_data=this.ordenpagos.filter((function(t){return!0===t.activo}))},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Ordenpagos/ListarPendientes",a).then((function(e){t.ordenpagos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Ordenpagos/ListarPendientesUsuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.ordenpagos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[],s=[],r=[],n=[];W.a.get("api/Items/Select",a).then((function(e){i=e.data,i.map((function(e){t.items.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf,cuenta:e.cuentagcom})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proveedores/Select",a).then((function(e){o=e.data,o.map((function(e){t.proveedores.push({text:e.razonsocial,value:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Subitems/Select",a).then((function(e){s=e.data,s.map((function(e){t.allsubitems.push({text:e.orden+": "+e.subitemes,value:e.idsubitem,id:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Alternativapagos/Select",a).then((function(e){r=e.data,r.map((function(e){t.allalternativapagos.push({text:e.orden+": "+(e.cbu?e.banco+" "+e.cbu+" "+e.alias:e.beneficiario+" "+e.cuitcuil),value:e.idalternativapago,id:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Forpagos/Select",a).then((function(e){n=e.data.sort((function(t,e){return t.forpago>e.forpago?1:-1})),n.map((function(e){t.forpagos.push({text:e.forpago,value:e.idforpago})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},cambioItem:function(){this.idsubitem="",this.selectSubitems()},selectSubitems:function(){var t=this;t.subitems=t.allsubitems.filter((function(e){return e.id===t.iditem})),1===t.subitems.length&&(t.idsubitem=t.subitems[0].value)},selectAlternativapagos:function(){var t=this;t.alternativapagos=t.allalternativapagos.filter((function(e){return e.id===t.idproveedor})),1===t.alternativapagos.length&&(t.idalternativapago=t.alternativapagos[0].value)},edit:function(t){this.idordenpago=t.idordenpago,this.idproyecto=t.idproyecto,this.iditem=t.iditem,this.selectSubitems(),this.idsubitem=t.idsubitem,this.idproveedor=t.idproveedor,this.selectAlternativapagos(),this.idalternativapago=t.idalternativapago,this.tipocomprobante=t.tipocomprobante,this.numcomprobante=t.numcomprobante,this.feccomprobante=t.feccomprobante.substr(0,10),this.impsiniva=t.impsiniva,this.imptotal=t.imptotal,this.cuentagcom=t.iditem?this.items.find((function(e){return e.value===t.iditem})).cuenta:"",this.idforpago=t.idforpago,this.fecpago=t.fecpago.substr(0,10),this.pagado=t.pagado,this.fecpagado=t.fecpagado,this.notas=t.notas,this.pdfcomprobantefac=t.pdfcomprobantefac,this.pdfcomprobantepago=t.pdfcomprobantepago,this.originalguidpago=t.pdfcomprobantepago,this.pdfcertificado1=t.pdfcertificado1,this.originalguidcert1=t.pdfcertificado1,this.pdfcertificado2=t.pdfcertificado2,this.originalguidcert2=t.pdfcertificado2,this.pdfcertificado3=t.pdfcertificado3,this.originalguidcert3=t.pdfcertificado3,this.pdfcertificado4=t.pdfcertificado4,this.originalguidcert4=t.pdfcertificado4,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},closeForm:function(){this.validaMensaje=[],this.limpiar(),this.dialogForm=!1},limpiar:function(){this.idordenpago="",this.iditem="",this.idsubitem="",this.idproveedor="",this.idalternativapago="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.impsiniva="",this.imptotal="",this.cuentagcom="",this.idforpago="",this.fecpago="",this.pagado=!1,this.fecpagado="",this.pdfcomprobantefac="",this.pdfcomprobantepago="",this.pdfcertificado1="",this.pdfcertificado2="",this.pdfcertificado3="",this.pdfcertificado4="",this.notas="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0,this.editedIndex=-1,this.onClear()},registro:function(){var t=new Date;this.pagado=!0,this.fecpagado=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),this.registrar=!1,this.guardar(),this.closeForm()},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){this.pdfcomprobantepago&&this.originalguidpago!=this.pdfcomprobantepago&&(this.onDelete(this.originalguidpago),this.originalguidpago="",this.onUploadPago()),this.pdfcertificado1&&this.originalguidcert1!=this.pdfcertificado1&&(this.onDelete(this.originalguidcert1),this.originalguidcert1,this.onUploadCert1()),this.pdfcertificado2&&this.originalguidcert2!=this.pdfcertificado2&&(this.onDelete(this.originalguidcert2),this.originalguidcert2,this.onUploadCert2()),this.pdfcertificado3&&this.originalguidcert3!=this.pdfcertificado3&&(this.onDelete(this.originalguidcert3),this.originalguidcert3,this.onUploadCert3()),this.pdfcertificado4&&this.originalguidcert4!=this.pdfcertificado4&&(this.onDelete(this.originalguidcert4),this.originalguidcert4,this.onUploadCert4());var i=this;W.a.put("api/Ordenpagos/Actualizar",{idordenpago:i.idordenpago,idproyecto:i.idproyecto,iditem:i.iditem,idsubitem:i.idsubitem,idproveedor:i.idproveedor,idalternativapago:i.idalternativapago,feccomprobante:i.feccomprobante,tipocomprobante:i.tipocomprobante,numcomprobante:i.numcomprobante,impsiniva:i.impsiniva,imptotal:i.imptotal,idforpago:i.idforpago,fecpago:i.fecpago,pdfcomprobantefac:i.pdfcomprobantefac,pagado:i.pagado,fecpagado:i.fecpagado,pdfcomprobantepago:i.pdfcomprobantepago,pdfcertificado1:i.pdfcertificado1,pdfcertificado2:i.pdfcertificado2,pdfcertificado3:i.pdfcertificado3,pdfcertificado4:i.pdfcertificado4,notas:i.notas,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.limpiar(),i.listar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Ordenpagos/Crear",{idproyecto:o.idproyecto,iditem:o.iditem,idsubitem:o.idsubitem,idproveedor:o.idproveedor,idalternativapago:o.idalternativapago,feccomprobante:o.feccomprobante,tipocomprobante:o.tipocomprobante,numcomprobante:o.numcomprobante,impsiniva:o.impsiniva,imptotal:o.imptotal,idforpago:o.idforpago,fecpago:o.fecpago,pagado:!1,fecpagado:o.fecpagado,pdfcomprobantefac:o.pdfcomprobantefac,pdfcomprobantepago:o.pdfcomprobantepago,pdfcertificado1:o.pdfcertificado1,pdfcertificado2:o.pdfcertificado2,pdfcertificado3:o.pdfcertificado3,pdfcertificado4:o.pdfcertificado4,notas:o.notas,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.limpiar(),o.listar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.iditem||this.validaMensaje.push("Ingrese un item."),this.idsubitem||this.validaMensaje.push("Ingrese un subitem."),this.idalternativapago||this.validaMensaje.push("Ingrese un beneficiario."),this.idproveedor||this.validaMensaje.push("Ingrese un proveedor."),this.feccomprobante||this.validaMensaje.push("Ingrese una fecha de comprobante."),this.fecpago||this.validaMensaje.push("Ingrese una fecha de pago."),this.idforpago||this.validaMensaje.push("Ingrese una forpa de pago."),(!this.impsiniva||Number(this.impsiniva)<=0)&&this.validaMensaje.push("Ingrese un importe neto de impuesto positivo."),(!this.imptotal||Number(this.imptotal)<=0)&&this.validaMensaje.push("Ingrese un importe total positivo."),Number(this.imptotal)<Number(this.impsiniva)&&this.validaMensaje.push("El importe sin IVA debe ser menor o igual que el importe total."),this.validaMensaje.length&&(this.valida=1),this.valida},onFilePagoSelected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidpago=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcomprobantepago=this.guidpago,this.fdpago.append("file",e,this.guidpago);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onFileCert1Selected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidcert1=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcertificado1=this.guidcert1,this.fdcert1.append("file",e,this.guidcert1);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onFileCert2Selected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidcert2=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcertificado2=this.guidcert2,this.fdcert2.append("file",e,this.guidcert2);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onFileCert3Selected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidcert3=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcertificado3=this.guidcert3,this.fdcert3.append("file",e,this.guidcert3);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onFileCert4Selected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidcert4=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcertificado4=this.guidcert4,this.fdcert4.append("file",e,this.guidcert4);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onUploadPago:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdpago,a).then((function(t){console.log(t.data),i.fdpago=new FormData})).catch((function(t){i.fdpago=new FormData,i.dialog=!1,i.guid="",i.pdfcomprobantepago="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onUploadCert1:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdcert1,a).then((function(t){console.log(t.data),i.fdcert1=new FormData})).catch((function(t){i.fdcert1=new FormData,i.dialog=!1,i.guid="",i.pdfcertificado1="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onUploadCert2:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdcert2,a).then((function(t){console.log(t.data),i.fdcert2=new FormData})).catch((function(t){i.fdcert2=new FormData,i.dialog=!1,i.guid="",i.pdfcertificado2="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onUploadCert3:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdcert3,a).then((function(t){console.log(t.data),i.fdcert3=new FormData})).catch((function(t){i.fdcert3=new FormData,i.dialog=!1,i.guid="",i.pdfcertificado3="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onUploadCert4:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdcert4,a).then((function(t){console.log(t.data),i.fdcert4=new FormData})).catch((function(t){i.fdcert4=new FormData,i.dialog=!1,i.guid="",i.pdfcertificado4="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDownload:function(t){if(""===t)this.snacktext="No hay PDF asociado",this.snackbar=!0,console.log("No hay PDF asociado");else{var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Express/DownloadFile/"+t,a).then((function(t){var e=atob(t.data),a=Go.a.getDocument({data:e});a.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))})).catch((function(t){console.log(t)}))}},onClear:function(){var t=document.getElementById("the-canvas"),e=t.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)},onDelete:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.delete("api/Express/DeleteFile/"+t,a).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))},onViewSelected:function(t){switch(t){case"Factura":this.onClear(),this.onDownload(this.pdfcomprobantefac);break;case"Pago":this.onClear(),this.onDownload(this.pdfcomprobantepago);break;case"Cert#1":this.onClear(),this.onDownload(this.pdfcertificado1);break;case"Cert#2":this.onClear(),this.onDownload(this.pdfcertificado2);break;case"Cert#3":this.onClear(),this.onDownload(this.pdfcertificado3);break;case"Cert#4":this.onClear(),this.onDownload(this.pdfcertificado4);break}},onBuscarSelected:function(t){console.log(t)}}},vs=us,ps=a("de8e"),ms=Object(b["a"])(vs,ds,ls,!1,null,null,null),hs=ms.exports;g()(ms,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VOverflowBtn:ps["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Registro de Pago")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"350"},model:{value:t.registrar,callback:function(e){t.registrar=e},expression:"registrar"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("¿Deseas registrar el pago?")]),a("v-card-text",[t._v("\n                    Estas a punto de indicar que el registro de pago se ha completado."),a("br"),t._v(" Esto significa que se han incluido todas las imágenes relacionados con el comprobante tratado."),a("br"),t._v(" Se marcara el comprobante como pagado y saldrá de la lista de pendientes.\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.registrar=!1}}},[t._v("\n                    Cancelar\n                    ")]),a("v-btn",{attrs:{color:"success",flat:""},on:{click:t.registro}},[t._v("\n                    Aceptar\n                    ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Registro de Pago")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")]),a("v-btn",{attrs:{disabled:"",color:"success",flat:""},nativeOn:{click:function(e){t.registrar=!0}}},[t._v("Registrar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{disabled:"",items:t.proveedores,label:"Proveedor"},on:{change:function(e){return t.selectAlternativapagos()}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{disabled:"",items:t.tipocomprobantes,label:"Tipo"},model:{value:t.tipocomprobante,callback:function(e){t.tipocomprobante=e},expression:"tipocomprobante"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Comprobante",disabled:""},model:{value:t.numcomprobante,callback:function(e){t.numcomprobante=e},expression:"numcomprobante"}})],1),[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Cbte","prepend-icon":"event",readonly:"",disabled:""},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}})],1)],1)],[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Pago","prepend-icon":"event",readonly:"",disabled:""},model:{value:t.fecpago,callback:function(e){t.fecpago=e},expression:"fecpago"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.fecpago,callback:function(e){t.fecpago=e},expression:"fecpago"}})],1)],1)],a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Imp.Total",disabled:""},model:{value:t.imptotal,callback:function(e){t.imptotal=e},expression:"imptotal"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{disabled:"",label:"Cuenta Gcom"},model:{value:t.cuentagcom,callback:function(e){t.cuentagcom=e},expression:"cuentagcom"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.forpagos,label:"Forma de Pago"},model:{value:t.idforpago,callback:function(e){t.idforpago=e},expression:"idforpago"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.alternativapagos,label:"Beneficiario"},model:{value:t.idalternativapago,callback:function(e){t.idalternativapago=e},expression:"idalternativapago"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Pago",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFilePagoSelected(e.target.files)}}})])]),a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Cert1",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileCert1Selected(e.target.files)}}})])]),a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Cert2",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileCert2Selected(e.target.files)}}})])]),a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Cert3",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileCert3Selected(e.target.files)}}})])]),a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"Cert4",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileCert4Selected(e.target.files)}}})])])]),a("v-flex",{attrs:{xs3:"",sm3:""}},[a("v-overflow-btn",{staticClass:"my-2",attrs:{items:t.documentos,label:"Ver",target:"#listavisualizar"},on:{input:function(e){return t.onViewSelected(e)}}})],1),a("v-spacer"),a("v-btn",{on:{click:function(e){return t.$refs.Pago.click()}}},[t._v("PDf Pago")]),a("v-btn",{on:{click:function(e){return t.$refs.Cert1.click()}}},[t._v("PDF Cer1")]),a("v-btn",{on:{click:function(e){return t.$refs.Cert2.click()}}},[t._v("PDF Cer2")]),a("v-btn",{on:{click:function(e){return t.$refs.Cert3.click()}}},[t._v("PDF Cer3")]),a("v-btn",{on:{click:function(e){return t.$refs.Cert4.click()}}},[t._v("PDF Cer4")]),a("v-flex",{attrs:{xs12:""}},[a("div",[a("canvas",{staticStyle:{border:"1px  solid black"},attrs:{id:"the-canvas"}})])]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.notas,callback:function(e){t.notas=e},expression:"notas"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ordenpagos,search:t.search,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.edit(e.item)}}},[t._v("\n                    edit\n                    ")])],1),a("td",[t._v(t._s(e.item.fecpago.substr(0,10)))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.proyectoorden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(t.tipocomprobantes.find((function(t){return t.value===e.item.tipocomprobante})).text))]),a("td",[t._v(t._s(e.item.numcomprobante))]),a("td",[t._v(t._s(e.item.feccomprobante.substr(0,10)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.imptotal)))]),a("td",[t._v(t._s(e.item.forpago))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.alternativapago))]),a("td",[t._v(t._s(e.item.banco))]),a("td",[t._v(t._s(e.item.numcuenta))]),a("td",[t._v(t._s(e.item.cbu))]),a("td",[t._v(t._s(e.item.alias))]),a("td",[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.notas.substr(0,20)))]),a("td",[t._v(t._s(e.item.pdfcomprobantefac))]),a("td",[t._v(t._s(e.item.pdfcomprobantepago))]),a("td",[t._v(t._s(e.item.pdfcertificado1))]),a("td",[t._v(t._s(e.item.pdfcertificado2))]),a("td",[t._v(t._s(e.item.pdfcertificado3))]),a("td",[t._v(t._s(e.item.pdfcertificado4))]),a("td",[t._v(t._s(e.item.idordenpago))]),a("td",{staticClass:"justify-center "},[e.item.pagado?a("div",[a("span",{staticClass:"blue--text"},[t._v("SI")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("NO")])])]),a("td",{staticClass:"justify-center "},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                    NADA PARA MOSTRAR :(\n                ")])]},proxy:!0}])})],1)],1)},bs=[],xs={data:function(){return{pagination:{sortBy:"fecpago",descending:!0},snackbar:!1,snacktext:"Hola",timeout:4e3,fdpago:new FormData,fdcert1:new FormData,fdcert2:new FormData,fdcert3:new FormData,fdcert4:new FormData,originalguidpago:"",originalguidcert1:"",originalguidcert2:"",originalguidcert3:"",originalguidcert4:"",guidpago:"",guidcert1:"",guidcert2:"",guidcert3:"",guidcert4:"",documento:"Factura",documentos:["Factura","Pago","Cert#1","Cert#2","Cert#3","Cert#4"],busquedas:["Pago","Cert#1","Cert#2","Cert#3","Cert#4"],page:1,items:[],subitems:[],allsubitems:[],proveedores:[],proyectos:[],ordenpagos:[],alternativapagos:[],allalternativapagos:[],forpagos:[],idordenpago:"",iditem:"",idsubitem:"",idproveedor:"",proveeedor:"",idalternativapago:"",cuentagcom:"",feccomprobante:"",tipocomprobantes:[{value:"01",text:"Fc A"},{value:"02",text:"Fc B"},{value:"03",text:"Tk A"},{value:"04",text:"Tk B"},{value:"05",text:"Fc C"},{value:"06",text:"Fc M"},{value:"07",text:"Otro"}],tipocomprobante:"",numcomprobante:"",impsiniva:0,imptotal:0,fecpago:"",idforpago:"",pagado:!1,fecpagado:"",pdfcomprobantefac:"",pdfcomprobantepago:"",pdfcertificado1:"",pdfcertificado2:"",pdfcertificado3:"",pdfcertificado4:"",notas:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idproyecto:"",proyecto:"",menu1:!1,menu2:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Fecha Pago",value:"fecpago",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!0},{text:"#Proyecto",value:"proyectoorden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Cbte",value:"tipocomprobante",sortable:!0},{text:"#Cbte",value:"numcomprobante",sortable:!0},{text:"Fecha Cbte",value:"feccomprobante",sortable:!0},{text:"Imp.Total",value:"imptotal",sortable:!0},{text:"Forma de pago",value:"forpago",sortable:!0},{text:"Telefono",value:"telefono",sortable:!0},{text:"email",value:"email",sortable:!0},{text:"Beneficiario",value:"alternativapago",sortable:!0},{text:"Banco",value:"banco",sortable:!0},{text:"#Cuenta",value:"numcuenta",sortable:!0},{text:"CBU",value:"cbu",sortable:!0},{text:"Alias",value:"alias",sortable:!0},{text:"#Item",value:"itemorden",sortable:!0},{text:"Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"subitemorden",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"Notas",value:"notas",sortable:!0},{text:"Fac guid",value:"pdfcomprobantefac",sortable:!1},{text:"Pago guid",value:"pdfcomprobantepago",sortable:!1},{text:"Cer1 guid",value:"pdfcertificado1",sortable:!1},{text:"Cer2 guid",value:"pdfcertificado2",sortable:!1},{text:"Cer3 guid",value:"pdfcertificado3",sortable:!1},{text:"Cer4 guid",value:"pdfcertificado4",sortable:!1},{text:"#Id",value:"idordenpago",sortable:!0},{text:"Pagado",value:"pagado",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],totalVencido:0,totalPagar:0,search:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",registrar:!1}},computed:{},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listar(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Ordenpagos/Listar",a).then((function(e){t.ordenpagos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[],s=[],r=[],n=[];W.a.get("api/Items/Select",a).then((function(e){i=e.data,i.map((function(e){t.items.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proveedores/Select",a).then((function(e){o=e.data,o.map((function(e){t.proveedores.push({text:e.razonsocial,value:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Subitems/Select",a).then((function(e){s=e.data,s.map((function(e){t.allsubitems.push({text:e.orden+": "+e.subitemes,value:e.idsubitem,id:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Alternativapagos/Select",a).then((function(e){r=e.data,r.map((function(e){t.allalternativapagos.push({text:e.orden+": "+(e.cbu?e.banco+" "+e.cbu+" "+e.alias:e.beneficiario+" "+e.cuitcuil),value:e.idalternativapago,id:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Forpagos/Select",a).then((function(e){n=e.data.sort((function(t,e){return t.forpago>e.forpago?1:-1})),n.map((function(e){t.forpagos.push({text:e.forpago,value:e.idforpago})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},cambioItem:function(){this.idsubitem="",this.selectSubitems()},selectSubitems:function(){var t=this;t.subitems=t.allsubitems.filter((function(e){return e.id===t.iditem})),1===t.subitems.length&&(t.idsubitem=t.subitems[0].value)},selectAlternativapagos:function(){var t=this;t.alternativapagos=t.allalternativapagos.filter((function(e){return e.id===t.idproveedor})),1===t.alternativapagos.length&&(t.idalternativapago=t.alternativapagos[0].value)},edit:function(t){this.idordenpago=t.idordenpago,this.idproyecto=t.idproyecto,this.iditem=t.iditem,this.selectSubitems(),this.idsubitem=t.idsubitem,this.idproveedor=t.idproveedor,this.selectAlternativapagos(),this.idalternativapago=t.idalternativapago,this.tipocomprobante=t.tipocomprobante,this.numcomprobante=t.numcomprobante,this.feccomprobante=t.feccomprobante.substr(0,10),this.impsiniva=t.impsiniva,this.imptotal=t.imptotal,this.idforpago=t.idforpago,this.fecpago=t.fecpago.substr(0,10),this.pagado=t.pagado,this.fecpagado=t.fecpagado,this.notas=t.notas,this.pdfcomprobantefac=t.pdfcomprobantefac,this.pdfcomprobantepago=t.pdfcomprobantepago,this.originalguidpago=t.pdfcomprobantepago,this.pdfcertificado1=t.pdfcertificado1,this.originalguidcert1=t.pdfcertificado1,this.pdfcertificado2=t.pdfcertificado2,this.originalguidcert2=t.pdfcertificado2,this.pdfcertificado3=t.pdfcertificado3,this.originalguidcert3=t.pdfcertificado3,this.pdfcertificado4=t.pdfcertificado4,this.originalguidcert4=t.pdfcertificado4,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},closeForm:function(){this.validaMensaje=[],this.limpiar(),this.dialogForm=!1},limpiar:function(){this.idordenpago="",this.iditem="",this.idsubitem="",this.idproveedor="",this.idalternativapago="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.impsiniva="",this.imptotal="",this.idforpago="",this.fecpago="",this.pagado=!1,this.fecpagado="",this.pdfcomprobantefac="",this.pdfcomprobantepago="",this.pdfcertificado1="",this.pdfcertificado2="",this.pdfcertificado3="",this.pdfcertificado4="",this.notas="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0,this.editedIndex=-1,this.onClear()},registro:function(){var t=new Date;this.pagado=!0,this.fecpagado=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),this.registrar=!1,this.guardar(),this.closeForm()},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){this.pdfcomprobantepago&&this.originalguidpago!=this.pdfcomprobantepago&&(this.onDelete(this.originalguidpago),this.originalguidpago="",this.onUploadPago()),this.pdfcertificado1&&this.originalguidcert1!=this.pdfcertificado1&&(this.onDelete(this.originalguidcert1),this.originalguidcert1,this.onUploadCert1()),this.pdfcertificado2&&this.originalguidcert2!=this.pdfcertificado2&&(this.onDelete(this.originalguidcert2),this.originalguidcert2,this.onUploadCert2()),this.pdfcertificado3&&this.originalguidcert3!=this.pdfcertificado3&&(this.onDelete(this.originalguidcert3),this.originalguidcert3,this.onUploadCert3()),this.pdfcertificado4&&this.originalguidcert4!=this.pdfcertificado4&&(this.onDelete(this.originalguidcert4),this.originalguidcert4,this.onUploadCert4());var i=this;W.a.put("api/Ordenpagos/Actualizar",{idordenpago:i.idordenpago,idproyecto:i.idproyecto,iditem:i.iditem,idsubitem:i.idsubitem,idproveedor:i.idproveedor,idalternativapago:i.idalternativapago,feccomprobante:i.feccomprobante,tipocomprobante:i.tipocomprobante,numcomprobante:i.numcomprobante,impsiniva:i.impsiniva,imptotal:i.imptotal,idforpago:i.idforpago,fecpago:i.fecpago,pdfcomprobantefac:i.pdfcomprobantefac,pagado:i.pagado,fecpagado:i.fecpagado,pdfcomprobantepago:i.pdfcomprobantepago,pdfcertificado1:i.pdfcertificado1,pdfcertificado2:i.pdfcertificado2,pdfcertificado3:i.pdfcertificado3,pdfcertificado4:i.pdfcertificado4,notas:i.notas,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.limpiar(),i.listar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Ordenpagos/Crear",{idproyecto:o.idproyecto,iditem:o.iditem,idsubitem:o.idsubitem,idproveedor:o.idproveedor,idalternativapago:o.idalternativapago,feccomprobante:o.feccomprobante,tipocomprobante:o.tipocomprobante,numcomprobante:o.numcomprobante,impsiniva:o.impsiniva,imptotal:o.imptotal,idforpago:o.idforpago,fecpago:o.fecpago,pagado:!1,fecpagado:o.fecpagado,pdfcomprobantefac:o.pdfcomprobantefac,pdfcomprobantepago:o.pdfcomprobantepago,pdfcertificado1:o.pdfcertificado1,pdfcertificado2:o.pdfcertificado2,pdfcertificado3:o.pdfcertificado3,pdfcertificado4:o.pdfcertificado4,notas:o.notas,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.limpiar(),o.listar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.iditem||this.validaMensaje.push("Ingrese un item."),this.idsubitem||this.validaMensaje.push("Ingrese un subitem."),this.idalternativapago||this.validaMensaje.push("Ingrese un beneficiario."),this.idproveedor||this.validaMensaje.push("Ingrese un proveedor."),this.feccomprobante||this.validaMensaje.push("Ingrese una fecha de comprobante."),this.fecpago||this.validaMensaje.push("Ingrese una fecha de pago."),this.idforpago||this.validaMensaje.push("Ingrese una forpa de pago."),(!this.impsiniva||Number(this.impsiniva)<=0)&&this.validaMensaje.push("Ingrese un importe neto de impuesto positivo."),(!this.imptotal||Number(this.imptotal)<=0)&&this.validaMensaje.push("Ingrese un importe total positivo."),Number(this.imptotal)<Number(this.impsiniva)&&this.validaMensaje.push("El importe sin IVA debe ser menor o igual que el importe total."),this.validaMensaje.length&&(this.valida=1),this.valida},onFilePagoSelected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidpago=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcomprobantepago=this.guidpago,this.fdpago.append("file",e,this.guidpago);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onFileCert1Selected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidcert1=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcertificado1=this.guidcert1,this.fdcert1.append("file",e,this.guidcert1);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onFileCert2Selected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidcert2=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcertificado2=this.guidcert2,this.fdcert2.append("file",e,this.guidcert2);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onFileCert3Selected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidcert3=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcertificado3=this.guidcert3,this.fdcert3.append("file",e,this.guidcert3);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onFileCert4Selected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guidcert4=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfcertificado4=this.guidcert4,this.fdcert4.append("file",e,this.guidcert4);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onUploadPago:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdpago,a).then((function(t){console.log(t.data),i.fdpago=new FormData})).catch((function(t){i.fdpago=new FormData,i.dialog=!1,i.guid="",i.pdfcomprobantepago="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onUploadCert1:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdcert1,a).then((function(t){console.log(t.data),i.fdcert1=new FormData})).catch((function(t){i.fdcert1=new FormData,i.dialog=!1,i.guid="",i.pdfcertificado1="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onUploadCert2:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdcert2,a).then((function(t){console.log(t.data),i.fdcert2=new FormData})).catch((function(t){i.fdcert2=new FormData,i.dialog=!1,i.guid="",i.pdfcertificado2="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onUploadCert3:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdcert3,a).then((function(t){console.log(t.data),i.fdcert3=new FormData})).catch((function(t){i.fdcert3=new FormData,i.dialog=!1,i.guid="",i.pdfcertificado3="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onUploadCert4:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fdcert4,a).then((function(t){console.log(t.data),i.fdcert4=new FormData})).catch((function(t){i.fdcert4=new FormData,i.dialog=!1,i.guid="",i.pdfcertificado4="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDownload:function(t){if(""===t)this.snacktext="No hay PDF asociado",this.snackbar=!0,console.log("No hay PDF asociado");else{var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Express/DownloadFile/"+t,a).then((function(t){var e=atob(t.data),a=Go.a.getDocument({data:e});a.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))})).catch((function(t){console.log(t)}))}},onClear:function(){var t=document.getElementById("the-canvas"),e=t.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)},onDelete:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.delete("api/Express/DeleteFile/"+t,a).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))},onViewSelected:function(t){switch(t){case"Factura":this.onClear(),this.onDownload(this.pdfcomprobantefac);break;case"Pago":this.onClear(),this.onDownload(this.pdfcomprobantepago);break;case"Cert#1":this.onClear(),this.onDownload(this.pdfcertificado1);break;case"Cert#2":this.onClear(),this.onDownload(this.pdfcertificado2);break;case"Cert#3":this.onClear(),this.onDownload(this.pdfcertificado3);break;case"Cert#4":this.onClear(),this.onDownload(this.pdfcertificado4);break}},onBuscarSelected:function(t){console.log(t)}}},gs=xs,_s=Object(b["a"])(gs,fs,bs,!1,null,null,null),ks=_s.exports;g()(_s,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VOverflowBtn:ps["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Reversion Cierre de Pago")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"350"},model:{value:t.reversar,callback:function(e){t.reversar=e},expression:"reversar"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("¿Deseas reversar el pago?")]),a("v-card-text",[t._v("\n                    Estas a punto de indicar que el registro de pago se habilite nuevamente."),a("br"),t._v(" Esto significa que se podrá alterar toda la informacion relacionada con el mismo."),a("br"),t._v(" Se marcara el comprobante como no pagado y pasara nuevamente a lista de pendientes.\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.reversar=!1}}},[t._v("\n                    Cancelar\n                    ")]),a("v-btn",{attrs:{color:"success",flat:""},on:{click:t.registro}},[t._v("\n                    Aceptar\n                    ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Reversion Cierre de Pago")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"success",flat:""},nativeOn:{click:function(e){t.reversar=!0}}},[t._v("Reversar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{disabled:"",items:t.proveedores,label:"Proveedor"},on:{change:function(e){return t.selectAlternativapagos()}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{disabled:"",items:t.tipocomprobantes,label:"Tipo"},model:{value:t.tipocomprobante,callback:function(e){t.tipocomprobante=e},expression:"tipocomprobante"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Comprobante",disabled:""},model:{value:t.numcomprobante,callback:function(e){t.numcomprobante=e},expression:"numcomprobante"}})],1),[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Cbte","prepend-icon":"event",readonly:"",disabled:""},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}})],1)],1)],[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Pago","prepend-icon":"event",readonly:"",disabled:""},model:{value:t.fecpago,callback:function(e){t.fecpago=e},expression:"fecpago"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.fecpago,callback:function(e){t.fecpago=e},expression:"fecpago"}})],1)],1)],a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Imp.Total",disabled:""},model:{value:t.imptotal,callback:function(e){t.imptotal=e},expression:"imptotal"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{disabled:"",label:"Cuenta Gcom"},model:{value:t.cuentagcom,callback:function(e){t.cuentagcom=e},expression:"cuentagcom"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{disabled:"",items:t.forpagos,label:"Forma de Pago"},model:{value:t.idforpago,callback:function(e){t.idforpago=e},expression:"idforpago"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{disabled:"",items:t.alternativapagos,label:"Beneficiario"},model:{value:t.idalternativapago,callback:function(e){t.idalternativapago=e},expression:"idalternativapago"}})],1)],2)],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ordenpagos,search:t.search,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.edit(e.item)}}},[t._v("\n                    edit\n                    ")])],1),a("td",[t._v(t._s(e.item.fecpago.substr(0,10)))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.proyectoorden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(t.tipocomprobantes.find((function(t){return t.value===e.item.tipocomprobante})).text))]),a("td",[t._v(t._s(e.item.numcomprobante))]),a("td",[t._v(t._s(e.item.feccomprobante.substr(0,10)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.imptotal)))]),a("td",[t._v(t._s(e.item.forpago))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.alternativapago))]),a("td",[t._v(t._s(e.item.banco))]),a("td",[t._v(t._s(e.item.numcuenta))]),a("td",[t._v(t._s(e.item.cbu))]),a("td",[t._v(t._s(e.item.alias))]),a("td",[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.notas.substr(0,20)))]),a("td",[t._v(t._s(e.item.pdfcomprobantefac))]),a("td",[t._v(t._s(e.item.pdfcomprobantepago))]),a("td",[t._v(t._s(e.item.pdfcertificado1))]),a("td",[t._v(t._s(e.item.pdfcertificado2))]),a("td",[t._v(t._s(e.item.pdfcertificado3))]),a("td",[t._v(t._s(e.item.pdfcertificado4))]),a("td",[t._v(t._s(e.item.idordenpago))]),a("td",{staticClass:"justify-center "},[e.item.pagado?a("div",[a("span",{staticClass:"blue--text"},[t._v("SI")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("NO")])])]),a("td",{staticClass:"justify-center "},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                    NADA PARA MOSTRAR :(\n                ")])]},proxy:!0}])})],1)],1)},ys=[],As={data:function(){return{pagination:{sortBy:"fecpago",descending:!0},snackbar:!1,snacktext:"Hola",timeout:4e3,fdpago:new FormData,fdcert1:new FormData,fdcert2:new FormData,fdcert3:new FormData,fdcert4:new FormData,originalguidpago:"",originalguidcert1:"",originalguidcert2:"",originalguidcert3:"",originalguidcert4:"",guidpago:"",guidcert1:"",guidcert2:"",guidcert3:"",guidcert4:"",documento:"Factura",documentos:["Factura","Pago","Cert#1","Cert#2","Cert#3","Cert#4"],busquedas:["Pago","Cert#1","Cert#2","Cert#3","Cert#4"],page:1,items:[],subitems:[],allsubitems:[],proveedores:[],proyectos:[],ordenpagos:[],alternativapagos:[],allalternativapagos:[],forpagos:[],idordenpago:"",iditem:"",idsubitem:"",idproveedor:"",proveeedor:"",idalternativapago:"",cuentagcom:"",feccomprobante:"",tipocomprobantes:[{value:"01",text:"Fc A"},{value:"02",text:"Fc B"},{value:"03",text:"Tk A"},{value:"04",text:"Tk B"},{value:"05",text:"Fc C"},{value:"06",text:"Fc M"},{value:"07",text:"Otro"}],tipocomprobante:"",numcomprobante:"",impsiniva:0,imptotal:0,fecpago:"",idforpago:"",pagado:!1,fecpagado:"",pdfcomprobantefac:"",pdfcomprobantepago:"",pdfcertificado1:"",pdfcertificado2:"",pdfcertificado3:"",pdfcertificado4:"",notas:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idproyecto:"",proyecto:"",menu1:!1,menu2:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Fecha Pago",value:"fecpago",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!0},{text:"#Proyecto",value:"proyectoorden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Cbte",value:"tipocomprobante",sortable:!0},{text:"#Cbte",value:"numcomprobante",sortable:!0},{text:"Fecha Cbte",value:"feccomprobante",sortable:!0},{text:"Imp.Total",value:"imptotal",sortable:!0},{text:"Forma de pago",value:"forpago",sortable:!0},{text:"Telefono",value:"telefono",sortable:!0},{text:"email",value:"email",sortable:!0},{text:"Beneficiario",value:"alternativapago",sortable:!0},{text:"Banco",value:"banco",sortable:!0},{text:"#Cuenta",value:"numcuenta",sortable:!0},{text:"CBU",value:"cbu",sortable:!0},{text:"Alias",value:"alias",sortable:!0},{text:"#Item",value:"itemorden",sortable:!0},{text:"Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"subitemorden",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"Notas",value:"notas",sortable:!0},{text:"Fac guid",value:"pdfcomprobantefac",sortable:!1},{text:"Pago guid",value:"pdfcomprobantepago",sortable:!1},{text:"Cer1 guid",value:"pdfcertificado1",sortable:!1},{text:"Cer2 guid",value:"pdfcertificado2",sortable:!1},{text:"Cer3 guid",value:"pdfcertificado3",sortable:!1},{text:"Cer4 guid",value:"pdfcertificado4",sortable:!1},{text:"#Id",value:"idordenpago",sortable:!0},{text:"Pagado",value:"pagado",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],totalVencido:0,totalPagar:0,totalPendiente:0,search:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",reversar:!1}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.ordenpagos.length;e++)t+=this.ordenpagos[e].activo?this.ordenpagos[e].imptotal:0;return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listar(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Ordenpagos/ListarPagados",a).then((function(e){t.ordenpagos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[],s=[],r=[],n=[];W.a.get("api/Items/Select",a).then((function(e){i=e.data,i.map((function(e){t.items.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proveedores/Select",a).then((function(e){o=e.data,o.map((function(e){t.proveedores.push({text:e.razonsocial,value:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Subitems/Select",a).then((function(e){s=e.data,s.map((function(e){t.allsubitems.push({text:e.orden+": "+e.subitemes,value:e.idsubitem,id:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Alternativapagos/Select",a).then((function(e){r=e.data,r.map((function(e){t.allalternativapagos.push({text:e.orden+": "+(e.cbu?e.banco+" "+e.cbu+" "+e.alias:e.beneficiario+" "+e.cuitcuil),value:e.idalternativapago,id:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Forpagos/Select",a).then((function(e){n=e.data.sort((function(t,e){return t.forpago>e.forpago?1:-1})),n.map((function(e){t.forpagos.push({text:e.forpago,value:e.idforpago})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},edit:function(t){this.idordenpago=t.idordenpago,this.idproyecto=t.idproyecto,this.iditem=t.iditem,this.idsubitem=t.idsubitem,this.idproveedor=t.idproveedor,this.idalternativapago=t.idalternativapago,this.tipocomprobante=t.tipocomprobante,this.numcomprobante=t.numcomprobante,this.feccomprobante=t.feccomprobante.substr(0,10),this.impsiniva=t.impsiniva,this.imptotal=t.imptotal,this.idforpago=t.idforpago,this.fecpago=t.fecpago.substr(0,10),this.pagado=t.pagado,this.fecpagado=t.fecpagado,this.notas=t.notas,this.pdfcomprobantefac=t.pdfcomprobantefac,this.pdfcomprobantepago=t.pdfcomprobantepago,this.originalguidpago=t.pdfcomprobantepago,this.pdfcertificado1=t.pdfcertificado1,this.originalguidcert1=t.pdfcertificado1,this.pdfcertificado2=t.pdfcertificado2,this.originalguidcert2=t.pdfcertificado2,this.pdfcertificado3=t.pdfcertificado3,this.originalguidcert3=t.pdfcertificado3,this.pdfcertificado4=t.pdfcertificado4,this.originalguidcert4=t.pdfcertificado4,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},closeForm:function(){this.validaMensaje=[],this.limpiar(),this.dialogForm=!1},limpiar:function(){this.idordenpago="",this.iditem="",this.idsubitem="",this.idproveedor="",this.idalternativapago="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.impsiniva="",this.imptotal="",this.idforpago="",this.fecpago="",this.pagado=!1,this.fecpagado="",this.pdfcomprobantefac="",this.pdfcomprobantepago="",this.pdfcertificado1="",this.pdfcertificado2="",this.pdfcertificado3="",this.pdfcertificado4="",this.notas="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0,this.editedIndex=-1},registro:function(){this.pagado=!1,this.reversar=!1,this.guardar(),this.closeForm()},guardar:function(){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=this;W.a.put("api/Ordenpagos/Actualizar",{idordenpago:i.idordenpago,idproyecto:i.idproyecto,iditem:i.iditem,idsubitem:i.idsubitem,idproveedor:i.idproveedor,idalternativapago:i.idalternativapago,feccomprobante:i.feccomprobante,tipocomprobante:i.tipocomprobante,numcomprobante:i.numcomprobante,impsiniva:i.impsiniva,imptotal:i.imptotal,idforpago:i.idforpago,fecpago:i.fecpago,pdfcomprobantefac:i.pdfcomprobantefac,pagado:i.pagado,fecpagado:i.fecpagado,pdfcomprobantepago:i.pdfcomprobantepago,pdfcertificado1:i.pdfcertificado1,pdfcertificado2:i.pdfcertificado2,pdfcertificado3:i.pdfcertificado3,pdfcertificado4:i.pdfcertificado4,notas:i.notas,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.limpiar(),i.listar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},Ds=As,js=Object(b["a"])(Ds,Cs,ys,!1,null,null,null),Ss=js.exports;g()(js,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Cheques en Garnatía - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Garantías del Proyecto #"+t._s(this.orden)+": "+t._s(this.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[t.entregado?[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.rubros,label:"Rubro",disabled:"","search-input":t.searchr},on:{"update:searchInput":function(e){t.searchr=e},"update:search-input":function(e){t.searchr=e}},model:{value:t.idrubro,callback:function(e){t.idrubro=e},expression:"idrubro"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.proveedores,label:"Proveedor",disabled:"","search-input":t.searchp},on:{"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Importe",type:"number",disabled:""},model:{value:t.importe,callback:function(e){t.importe=e},expression:"importe"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Detalle",type:"text"},model:{value:t.detalle,callback:function(e){t.detalle=e},expression:"detalle"}})],1)],1)]:[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.rubros,label:"Rubro","search-input":t.searchr},on:{"update:searchInput":function(e){t.searchr=e},"update:search-input":function(e){t.searchr=e}},model:{value:t.idrubro,callback:function(e){t.idrubro=e},expression:"idrubro"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.proveedores,label:"Proveedor","search-input":t.searchp},on:{"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Importe",type:"number"},model:{value:t.importe,callback:function(e){t.importe=e},expression:"importe"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Detalle",type:"text"},model:{value:t.detalle,callback:function(e){t.detalle=e},expression:"detalle"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)]],2)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Sol.Cheque?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Sol.Cheque?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la asignación de Garantia "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.garantias},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.numorden))]),a("td",[t._v(t._s(e.item.rubro))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",[t._v(t._s(e.item.banco))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.numcheque))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.feccheque?e.item.feccheque.substr(0,10):e.item.feccheque))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.fecvencimiento?e.item.fecvencimiento.substr(0,10):e.item.fecvencimiento))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.entregado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.detalle))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.rendido?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Ms=[],ws={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,menu1:!1,proyectos:[],garantias:[],rubros:[],proveedores:[],idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",idgarantia:"",numorden:"",idrubro:"",idproveedor:"",importe:0,detalle:"",idbanco:"",numcheque:"",feccheque:"",fecvencimiento:"",entregado:!1,rendido:!1,fhrendido:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de produccióm",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Garantia",value:"numorden",sortable:!0},{text:"Descripcion del Rubro",value:"rubro",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!0},{text:"Importe",value:"importe",sortable:!0},{text:"Banco",value:"banco",sortable:!0},{text:"#Cheque",value:"numcheque"},{text:"Fecha Cheque",value:"feccheque",sortable:!0},{text:"Vencimiento",value:"fecvencimiento",sortable:!0},{text:"Entregado?",value:"entregado",sortable:!0},{text:"Detalle/Observaciones",value:"detalle",sortable:!0},{text:"Rendidio?",value:"rendido",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",searchr:"",searchp:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva solicitud":"Actualizar solicitud"}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Garantias/ListarProyecto/"+t.idproyecto,a).then((function(e){t.garantias=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[];W.a.get("api/Rubros/Select",a).then((function(e){i=e.data,i.map((function(e){t.rubros.push({text:e.orden+": "+e.rubroes,value:e.idrubro})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proveedores/Select",a).then((function(e){o=e.data,o.map((function(e){t.proveedores.push({text:e.razonsocial,value:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idgarantia=t.idgarantia,this.numorden=t.numorden,this.idrubro=t.idrubro,this.idproveedor=t.idproveedor,this.detalle=t.detalle,this.importe=t.importe,this.idbanco=t.idbanco,this.numcheque=t.numcheque,this.idcheque=t.idcheque,this.feccheque=t.feccheque?t.feccheque.substr(0,10):"",this.fecvencimiento=t.fecvencimiento?t.fecvencimiento.substr(0,10):"",this.entregado=t.entregado,this.rendido=t.rendido,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto=""},limpiarDetail:function(){this.idgarantia="",this.numorden="",this.idrubro="",this.idproveedor="",this.importe=0,this.detalle="",this.idbanco="",this.numcheque="",this.feccheque="",this.fecvencimiento="",this.entregado=!1,this.rendido=!1,this.fhrendido="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1,this.searchr=""},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=this;this.editedIndex>-1?W.a.put("api/Garantias/Actualizar",{idgarantia:i.idgarantia,idproyecto:i.idproyecto,numorden:i.numorden,idrubro:i.idrubro,idproveedor:i.idproveedor,importe:i.importe,detalle:i.detalle,idbanco:i.idbanco,numcheque:i.numcheque,feccheque:i.feccheque,fecvencimiento:i.fecvencimiento,entrgado:i.entregado,rendido:i.rendido,fhrendido:i.fhrendido,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)})):W.a.post("api/Garantias/Crear",{idproyecto:i.idproyecto,idrubro:i.idrubro,idproveedor:i.idproveedor,importe:i.importe,detalle:i.detalle,idbanco:i.idbanco,numcheque:i.numcheque,feccheque:i.feccheque,fecvencimiento:i.fecvencimiento,entrgado:i.entregado,rendido:i.rendido,fhrendido:i.fhrendido,iduseralta:i.$store.state.usuario.idusuario},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idrubro||this.validaMensaje.push("Ingrese un Rubro."),this.idproveedor||this.validaMensaje.push("Ingrese una Proveedor."),this.importe<=0&&this.validaMensaje.push("Ingrese un Importe positivo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.numorden+"/"+e.proveedor,this.adId=e.idgarantia,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Garantias/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Garantias/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ps=ws,Vs=Object(b["a"])(Ps,Is,Ms,!1,null,null,null),Fs=Vs.exports;g()(Vs,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Ts=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Entrega de Cheques en Garnatía - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Garantías del Proyecto #"+t._s(this.orden)+": "+t._s(this.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.rubros,label:"Rubro",disabled:"","search-input":t.searchr},on:{"update:searchInput":function(e){t.searchr=e},"update:search-input":function(e){t.searchr=e}},model:{value:t.idrubro,callback:function(e){t.idrubro=e},expression:"idrubro"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.proveedores,label:"Proveedor",disabled:"","search-input":t.searchp},on:{"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Importe",type:"number",disabled:""},model:{value:t.importe,callback:function(e){t.importe=e},expression:"importe"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.bancos,label:"Banco","search-input":t.searchr},on:{"update:searchInput":function(e){t.searchr=e},"update:search-input":function(e){t.searchr=e}},model:{value:t.idbanco,callback:function(e){t.idbanco=e},expression:"idbanco"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Nro.Cheque",type:"text"},model:{value:t.numcheque,callback:function(e){t.numcheque=e},expression:"numcheque"}})],1),[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Cheque","prepend-icon":"event",readonly:""},model:{value:t.feccheque,callback:function(e){t.feccheque=e},expression:"feccheque"}},i))]}}]),model:{value:t.menu4,callback:function(e){t.menu4=e},expression:"menu4"}},[a("v-date-picker",{on:{input:function(e){t.menu4=!1}},model:{value:t.feccheque,callback:function(e){t.feccheque=e},expression:"feccheque"}})],1)],1)],[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Vencimiento","prepend-icon":"event",readonly:""},model:{value:t.fecvencimiento,callback:function(e){t.fecvencimiento=e},expression:"fecvencimiento"}},i))]}}]),model:{value:t.menu5,callback:function(e){t.menu5=e},expression:"menu5"}},[a("v-date-picker",{attrs:{min:t.feccheque},on:{input:function(e){t.menu5=!1}},model:{value:t.fecvencimiento,callback:function(e){t.fecvencimiento=e},expression:"fecvencimiento"}})],1)],1)],a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Detalle",type:"text",disabled:""},model:{value:t.detalle,callback:function(e){t.detalle=e},expression:"detalle"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Sol.Cheque?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Sol.Cheque?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la Solicitud de Cheque "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.adModalR,callback:function(e){t.adModalR=e},expression:"adModalR"}},[a("v-card",[1==t.adAccionR?a("v-card-title",{staticClass:"headline"},[t._v("¿Marcar Recupero Garantía?")]):t._e(),2==t.adAccionR?a("v-card-title",{staticClass:"headline"},[t._v("¿Desmarcar Recupero Garantía?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccionR?a("span",[t._v("Marcar ")]):t._e(),2==t.adAccionR?a("span",[t._v("Desmarcar ")]):t._e(),t._v("\n                                el Recupero de Cheque en Garantía "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrarR}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccionR?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activarR}},[t._v("\n                                    Marcar\n                                ")]):t._e(),2==t.adAccionR?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivarR}},[t._v("\n                                    Desmarcar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.garantias},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[e.item.rendido&&e.item.entregado?t._e():a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])],e.item.rendido?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarRendir(e.item)}}},[t._v("\n                                    lock_close\n                                    ")])]:t._e(),e.item.entregado&&!e.item.rendido?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarRendir(e.item)}}},[t._v("\n                                    lock_open\n                                    ")])]:t._e()],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.numorden))]),a("td",[t._v(t._s(e.item.rubro))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",[t._v(t._s(e.item.banco))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.numcheque))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.feccheque?e.item.feccheque.substr(0,10):e.item.feccheque))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.fecvencimiento?e.item.fecvencimiento.substr(0,10):e.item.fecvencimiento))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.entregado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.detalle))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.rendido?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Os=[],Ns={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,menu1:!1,proyectos:[],garantias:[],bancos:[],rubros:[],proveedores:[],idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",idgarantia:"",numorden:"",idrubro:"",idproveedor:"",importe:0,detalle:"",idbanco:"",numcheque:"",feccheque:"",fecvencimiento:"",menu4:!1,menu5:!1,entregado:!1,rendido:!1,fhrendido:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Garantia",value:"numorden",sortable:!0},{text:"Descripcion del Rubro",value:"rubro",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!0},{text:"Importe",value:"importe",sortable:!0},{text:"Banco",value:"banco",sortable:!0},{text:"#Cheque",value:"numcheque"},{text:"Fecha Cheque",value:"feccheque",sortable:!0},{text:"Vencimiento",value:"fecvencimiento",sortable:!0},{text:"Entregado?",value:"entregado",sortable:!0},{text:"Detalle/Observaciones",value:"detalle",sortable:!0},{text:"Rendido?",value:"rendido",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",searchr:"",searchp:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adModalR:0,adAccion:0,adAccionR:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva entrega":"Actualizar entrega"}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{calcularTarifa:function(){var t=this;this.impjornada=t.proveedorposts.filter((function(e){return e.value===t.idproveedorpost})).map((function(t){return t.tarifadiaria}))[0]*t.jornada},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Garantias/ListarProyecto/"+t.idproyecto,a).then((function(e){t.garantias=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[],s=[];W.a.get("api/Rubros/Select",a).then((function(e){i=e.data,i.map((function(e){t.rubros.push({text:e.orden+": "+e.rubroes,value:e.idrubro})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proveedores/Select",a).then((function(e){o=e.data,o.map((function(e){t.proveedores.push({text:e.razonsocial,value:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Bancos/Select",a).then((function(e){s=e.data,s.map((function(e){t.bancos.push({text:e.nombre,value:e.idbanco})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idgarantia=t.idgarantia,this.numorden=t.numorden,this.idrubro=t.idrubro,this.idproveedor=t.idproveedor,this.detalle=t.detalle,this.importe=t.importe,this.idbanco=t.idbanco,this.numcheque=t.numcheque,this.idcheque=t.idcheque,this.feccheque=t.feccheque?t.feccheque.substr(0,10):"",this.fecvencimiento=t.fecvencimiento?t.fecvencimiento.substr(0,10):"",this.entregado=t.entregado,this.rendido=t.rendido,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto=""},limpiarDetail:function(){this.idgarantia="",this.numorden="",this.idrubro="",this.idproveedor="",this.importe=0,this.detalle="",this.idbanco="",this.numcheque="",this.feccheque="",this.fecvencimiento="",this.entregado=!1,this.rendido=!1,this.fhrendido="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1,this.searchr=""},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=this;this.editedIndex>-1?W.a.put("api/Garantias/Actualizar",{idgarantia:i.idgarantia,idproyecto:i.idproyecto,numorden:i.numorden,idrubro:i.idrubro,idproveedor:i.idproveedor,importe:i.importe,detalle:i.detalle,idbanco:i.idbanco,numcheque:i.numcheque,feccheque:i.feccheque,fecvencimiento:i.fecvencimiento,entregado:!0,rendido:i.rendido,fhrendido:i.fhrendido,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)})):W.a.post("api/Garantias/Crear",{idproyecto:i.idproyecto,idrubro:i.idrubro,idproveedor:i.idproveedor,importe:i.importe,detalle:i.detalle,idbanco:i.idbanco,numcheque:i.numcheque,feccheque:i.feccheque,fecvencimiento:i.fecvencimiento,entregado:i.entregado,rendido:i.rendido,fhrendido:i.fhrendido,iduseralta:i.$store.state.usuario.idusuario},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idrubro||this.validaMensaje.push("Ingrese un Rubro."),this.idproveedor||this.validaMensaje.push("Ingrese una Proveedor."),this.importe<=0&&this.validaMensaje.push("Ingrese un Importe positivo."),this.idbanco||this.validaMensaje.push("Seleccione un Banco."),this.numcheque?(this.numcheque.length<4||this.numcheque.length>13)&&this.validaMensaje.push("El #cheque no debe tener menos de 4 digitos ni mas de 13 digitos."):this.validaMensaje.push("Ingrese un numero de cheque."),this.feccheque||this.validaMensaje.push("Ingrese fecha del cheque."),this.fecvencimiento||this.validaMensaje.push("Ingrese fecha de Vencimiento del cheque."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.numorden+"/"+e.proveedor,this.adId=e.idgarantia,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Garantias/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Garantias/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},activarDesactivarRendir:function(t){this.adModalR=1,this.adNombre=t.numorden+"/"+t.proveedor,this.adId=t.idgarantia,t.rendido?this.adAccionR=2:this.adAccionR=1},activarDesactivarCerrarR:function(){this.adModalR=0},activarR:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Garantias/ActivarRendir/"+this.adId,{},a).then((function(e){t.adModalR=0,t.adAccionR=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivarR:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Garantias/DesactivarRendir/"+this.adId,{},a).then((function(e){t.adModalR=0,t.adAccionR=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},zs=Ns,Bs=Object(b["a"])(zs,Ts,Os,!1,null,null,null),$s=Bs.exports;g()(Bs,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Es=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Recupero de Cheques en Garantía")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.adModalR,callback:function(e){t.adModalR=e},expression:"adModalR"}},[a("v-card",[1==t.adAccionR?a("v-card-title",{staticClass:"headline"},[t._v("¿Recupera Cheque en Garantía?")]):t._e(),a("v-card-text",[t._v("\n                    Estás a punto de \n                    "),1==t.adAccionR?a("span",[t._v("Recuperar ")]):t._e(),t._v("\n                    un Cheque entregado en Garantía "+t._s(t.adNombre)+"\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrarR}},[t._v("\n                        Cancelar\n                    ")]),1==t.adAccionR?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activarR}},[t._v("\n                        Recuperar\n                    ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.garantias,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarRendir(e.item)}}},[t._v("\n                    lock_open\n                    ")])],1),a("td",[t._v(t._s(e.item.banco))]),a("td",[t._v(t._s(e.item.numcheque))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",[t._v(t._s(e.item.feccheque.substr(0,10)))]),a("td",[t._v(t._s(e.item.fecvencimiento.substr(0,10)))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.proyectoorden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                    NADA PARA MOSTRAR :(\n                ")])]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total: ")]),t._v("$ "+t._s(t.totalPendiente=t.formatPrice(t.calcularTotal))+"\n        ")])],1)],1)},Rs=[],Ls={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,page:1,garantias:[],adModalR:0,adAccionR:0,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre del Banco",value:"banco",sortable:!0},{text:"#Cheque",value:"numcheque",sortable:!0},{text:"Importe",value:"importe",sortable:!0},{text:"Fecha Cheque",value:"feccheque",sortable:!0},{text:"Vencimiento",value:"fecvencimiento",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!0},{text:"#Proyecto",value:"proyectoorden",sortable:!0},{text:"Proyecto",value:"proyecto",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],totalPendiente:0,search:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",registrar:!1}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.garantias.length;e++)t+=this.garantias[e].activo?this.garantias[e].importe:0;return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listar(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Garantias/ListarPendientes",a).then((function(e){t.garantias=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){},activarDesactivarRendir:function(t){this.adModalR=1,this.adNombre=t.banco+"/"+t.numcheque,this.adId=t.idgarantia,t.rendido?this.adAccionR=2:this.adAccionR=1},activarDesactivarCerrarR:function(){this.adModalR=0},activarR:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Garantias/ActivarRendir/"+this.adId,{},a).then((function(e){t.adModalR=0,t.adAccionR=0,t.adNombre="",t.adId="",t.search="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivarR:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Garantias/DesactivarRendir/"+this.adId,{},a).then((function(e){t.adModalR=0,t.adAccionR=0,t.adNombre="",t.search="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Us=Ls,qs=Object(b["a"])(Us,Es,Rs,!1,null,null,null),Ks=qs.exports;g()(qs,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Bolo DxD Shooting - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Staff asignado a Proyecto #"+t._s(this.orden)+": "+t._s(this.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.items,label:"Item","search-input":t.searchi},on:{"update:searchInput":function(e){t.searchi=e},"update:search-input":function(e){t.searchi=e},change:function(e){return t.cambioItem()}},model:{value:t.iditem,callback:function(e){t.iditem=e},expression:"iditem"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{items:t.subitems,label:"Subitem"},model:{value:t.idsubitem,callback:function(e){t.idsubitem=e},expression:"idsubitem"}})],1),-1==t.editedIndex?[a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.crews,"search-input":t.searchr,label:"Responsable"},on:{"update:searchInput":function(e){t.searchr=e},"update:search-input":function(e){t.searchr=e},change:function(e){return t.cambioResponsable()}},model:{value:t.idcrew,callback:function(e){t.idcrew=e},expression:"idcrew"}})],1)]:[a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{clearable:"",disabled:"",items:t.crews,"search-input":t.searchr,label:"Responsable"},on:{"update:searchInput":function(e){t.searchr=e},"update:search-input":function(e){t.searchr=e},change:function(e){return t.cambioResponsable()}},model:{value:t.idcrew,callback:function(e){t.idcrew=e},expression:"idcrew"}})],1)],a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"#Orden",disabled:"",type:"number"},model:{value:t.idcont,callback:function(e){t.idcont=e},expression:"idcont"}})],1),[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Inicio","prepend-icon":"event",readonly:""},model:{value:t.fecdesde,callback:function(e){t.fecdesde=e},expression:"fecdesde"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{locale:"es"},on:{input:function(e){t.menu1=!1}},model:{value:t.fecdesde,callback:function(e){t.fecdesde=e},expression:"fecdesde"}})],1)],1)],[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Fin","prepend-icon":"event",readonly:""},model:{value:t.fechasta,callback:function(e){t.fechasta=e},expression:"fechasta"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{min:t.fecdesde,locale:"es"},on:{input:function(e){t.menu2=!1}},model:{value:t.fechasta,callback:function(e){t.fechasta=e},expression:"fechasta"}})],1)],1)],a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"#Dias 8hs",type:"number"},model:{value:t.dias8hs,callback:function(e){t.dias8hs=e},expression:"dias8hs"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"#Dias 12hs",type:"number"},model:{value:t.dias12hs,callback:function(e){t.dias12hs=e},expression:"dias12hs"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Crew?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Crew?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la asignación del Crew "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.recursosdxds},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.subitemorden))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cuil))]),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.idcont))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.fecdesde?e.item.fecdesde.substr(0,10):e.item.fecdesde))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.fechasta?e.item.fechasta.substr(0,10):e.item.fechasta))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.dias8hs))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.dias12hs))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Hs=[],Ys={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,menu1:!1,menu2:!1,proyectos:[],crews:[],items:[],subitems:[],allsubitems:[],recursosdxds:[],idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",idrecursodxd:"",iditem:"",idsubitem:"",idcrew:"",idcont:"",fecdesde:null,fechasta:null,dias8hs:"",dias12hs:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Item",value:"itemorden",sortable:!0},{text:"Detalle Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"ordensubitem",sortable:!0},{text:"CUIL",value:"cuil",sortable:!0},{text:"Nombre Completo",value:"nombre",sortable:!0},{text:"#Orden",value:"idcont",sortable:!0},{text:"Fecha Desde",value:"fecdesde",sortable:!0},{text:"Fecha Hasta",value:"fechasta",sortable:!0},{text:"Días 8Hs",value:"dias8hs",sortable:!0},{text:"Días 12Hs",value:"dias12hs",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],totalSolicitado:0,totalEntregado:0,totalDisponible:0,search:"",searchi:"",searchr:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo staff":"Actualizar staff"}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariovivo/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Recursodxds/ListarProyecto/"+this.idproyecto,a).then((function(e){t.recursosdxds=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};W.a.get("api/Items/Selectdxd",s).then((function(a){e=a.data,e.map((function(e){t.items.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Crews/Select",s).then((function(e){a=e.data,a.map((function(e){t.crews.push({text:e.nombre+"/CUIL:"+e.cuil,value:e.idcrew})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Subitems/Select",s).then((function(e){i=e.data,i.map((function(e){t.allsubitems.push({text:e.orden+": "+e.subitemes,value:e.idsubitem,id:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},cambioItem:function(){this.idsubitem="",this.selectSubitems()},selectSubitems:function(){var t=this;t.subitems=t.allsubitems.filter((function(e){return e.id===t.iditem})),1===t.subitems.length&&(t.idsubitem=t.subitems[0].value)},cambioResponsable:function(){this.idcont=""},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idrecursodxd=t.idrecursodxd,this.iditem=t.iditem,this.selectSubitems(),this.idsubitem=t.idsubitem,this.idcrew=t.idcrew,this.idcont=t.idcont,this.fecdesde=t.fecdesde?t.fecdesde.substr(0,10):t.fecdesde,this.fechasta=t.fechasta?t.fechasta.substr(0,10):t.fechasta,this.dias8hs=t.dias8hs,this.dias12hs=t.dias12hs,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto=""},limpiarDetail:function(){this.idrecursodxd="",this.iditem="",this.idsubitem="",this.idcrew=0,this.idcont="",this.fecdesde="",this.fechasta="",this.dias8hs=0,this.dias12hs=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1,this.searchi="",this.searchr=""},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Recursodxds/Actualizar",{idrecursodxd:i.idrecursodxd,idproyecto:i.idproyecto,iditem:i.iditem,idsubitem:i.idsubitem,idcrew:i.idcrew,idcont:i.idcont,fecdesde:i.fecdesde,fechasta:i.fechasta,dias8hs:i.dias8hs,dias12hs:i.dias12hs,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Recursodxds/Crear",{idproyecto:o.idproyecto,iditem:o.iditem,idsubitem:o.idsubitem,idcrew:o.idcrew,fecdesde:o.fecdesde,fechasta:o.fechasta,dias8hs:o.dias8hs,dias12hs:o.dias12hs,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.listarDetail(),o.limpiarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.iditem||this.validaMensaje.push("Ingrese un #item."),this.idsubitem||this.validaMensaje.push("Ingrese un #subitem."),this.idcrew||this.validaMensaje.push("Ingrese un Crew."),this.fecdesde&&this.fechasta||this.validaMensaje.push("Verifique fechas de contratación."),(this.dias8hs<0||this.dias12hs<0)&&this.validaMensaje.push("Verifique que la cantidad de dias sean valores positivos."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idrecursodxd,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Recursodxds/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Recursodxds/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Ws=Ys,Js=Object(b["a"])(Ws,Gs,Hs,!1,null,null,null),Qs=Js.exports;g()(Js,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Zs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Tarifas Proyecto/Cargo DxD Shooting - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Rcursos DxD asignados a Proyecto #"+t._s(this.orden)+": "+t._s(this.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.items,label:"Item","search-input":t.searchi},on:{"update:searchInput":function(e){t.searchi=e},"update:search-input":function(e){t.searchi=e},change:function(e){return t.cambioItem()}},model:{value:t.iditem,callback:function(e){t.iditem=e},expression:"iditem"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.cargosicas,label:"Cargo Sica","search-input":t.searchc},on:{"update:searchInput":function(e){t.searchc=e},"update:search-input":function(e){t.searchc=e},change:t.buscarBruto},model:{value:t.idsica,callback:function(e){t.idsica=e},expression:"idsica"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Base 8Hs",type:"number",prefix:"$"},model:{value:t.bruto8hs,callback:function(e){t.bruto8hs=e},expression:"bruto8hs"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Crew?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Crew?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la asignación del Crew "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.recursosdxds},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",[t._v(t._s(e.item.cargosica))]),a("td",[t._v(t._s(e.item.bruto8hs))]),a("td",[t._v(t._s(e.item.extra4hs))]),a("td",[t._v(t._s(e.item.bruto12hs))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Xs=[],tr={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fecdesde:null,fechasta:null,menu1:!1,menu2:!1,proyectos:[],cargosicas:[],items:[],subitems:[],recursosdxds:[],idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",idtarifadxd:"",iditem:"",itemorden:"",itemes:"",idsica:"",cargosica:"",bruto8hs:0,bruto12hs:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Item",value:"ordenitem",sortable:!0},{text:"Item",value:"itemes",sortable:!0},{text:"Cargo Sica",value:"cargosica",sortable:!0},{text:"Bruto 8hs",value:"bruto8hs",sortable:!0},{text:"Extra 4hs",value:"extra4hs",sortable:!0},{text:"Bruto 12hs",value:"bruto12hs",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",searchi:"",searchc:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva tarifa":"Actualizar tarifa"}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{buscarBruto:function(){this.bruto8hs=this.cargosicas[this.idsica].monto},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariovivo/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Tarifadxds/ListarProyecto/"+this.idproyecto,a).then((function(e){t.recursosdxds=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i={Authorization:"Bearer "+this.$store.state.token},o={headers:i};W.a.get("api/Items/Selectdxd",o).then((function(a){e=a.data,e.map((function(e){t.items.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Sicas/Select",o).then((function(e){a=e.data,a.map((function(e){t.cargosicas.push({text:e.asignacion+", "+e.cargo,value:e.idsica,monto:e.horas8})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idtarifadxd=t.idtarifadxd,this.iditem=t.iditem,this.idsica=t.idsica,this.bruto8hs=t.bruto8hs,this.bruto12hs=t.bruto12hs,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto=""},limpiarDetail:function(){this.idtarifadxd="",this.iditem="",this.idsica="",this.bruto8hs=0,this.bruto12hs=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1,this.searchi="",this.searchc=""},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Tarifadxds/Actualizar",{idtarifadxd:i.idtarifadxd,idproyecto:i.idproyecto,iditem:i.iditem,idsica:i.idsica,bruto8hs:i.bruto8hs,extra4hs:i.bruto8hs/8*4*1.5,bruto12hs:1.75*i.bruto8hs,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Tarifadxds/Crear",{idproyecto:o.idproyecto,iditem:o.iditem,idsica:o.idsica,bruto8hs:o.bruto8hs,extra4hs:o.bruto8hs/8*4*1.5,bruto12hs:1.75*o.bruto8hs,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.listarDetail(),o.limpiarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.iditem||this.validaMensaje.push("Ingrese un #item."),this.idsica||this.validaMensaje.push("Ingrese un Cargo Sica."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.itemorden+": "+e.itemes,this.adId=e.idtarifadxd,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Tarifadxds/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Tarifadxds/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},er=tr,ar=Object(b["a"])(er,Zs,Xs,!1,null,null,null),ir=ar.exports;g()(ar,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Actividades DxD Shooting - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Staff del Proyecto #"+t._s(this.orden)+": "+t._s(this.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs10:"",sm10:"",md10:""}},[a("v-select",{attrs:{items:t.recursos,label:"Staff"},on:{change:function(e){return t.asignarminmax(t.idrecursodxd)}},model:{value:t.idrecursodxd,callback:function(e){t.idrecursodxd=e},expression:"idrecursodxd"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{items:t.horasbases,label:"Hs.Base"},model:{value:t.horasbase,callback:function(e){t.horasbase=e},expression:"horasbase"}})],1),[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Desde","prepend-icon":"event",readonly:""},on:{change:function(e){t.fhasta=t.fdesde}},model:{value:t.fdesde,callback:function(e){t.fdesde=e},expression:"fdesde"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{locale:"es",min:t.fdmin,max:t.fdmax},on:{input:function(e){t.menu1=!1}},model:{value:t.fdesde,callback:function(e){t.fdesde=e},expression:"fdesde"}})],1)],1)],[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{ref:"menud",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.tdesde,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.tdesde=e},"update:return-value":function(e){t.tdesde=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Hora Desde","prepend-icon":"access_time",readonly:""},model:{value:t.tdesde,callback:function(e){t.tdesde=e},expression:"tdesde"}},i))]}}]),model:{value:t.menu1t,callback:function(e){t.menu1t=e},expression:"menu1t"}},[t.menu1t?a("v-time-picker",{attrs:{format:"24hr","full-width":"","allowed-minutes":t.allowedStep},on:{"click:minute":function(e){return t.$refs.menud.save(t.tdesde)}},model:{value:t.tdesde,callback:function(e){t.tdesde=e},expression:"tdesde"}}):t._e()],1)],1)],[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Hasta","prepend-icon":"event",readonly:""},model:{value:t.fhasta,callback:function(e){t.fhasta=e},expression:"fhasta"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{min:t.fdesde,max:t.tomorrow,locale:"es"},on:{input:function(e){t.menu2=!1}},model:{value:t.fhasta,callback:function(e){t.fhasta=e},expression:"fhasta"}})],1)],1)],[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{ref:"menuh",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.thasta,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.thasta=e},"update:return-value":function(e){t.thasta=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Hora Hasta","prepend-icon":"access_time",readonly:""},model:{value:t.thasta,callback:function(e){t.thasta=e},expression:"thasta"}},i))]}}]),model:{value:t.menu2t,callback:function(e){t.menu2t=e},expression:"menu2t"}},[t.menu2t?a("v-time-picker",{attrs:{format:"24hr","full-width":"","allowed-minutes":t.allowedStep},on:{"click:minute":function(e){return t.$refs.menuh.save(t.thasta)}},model:{value:t.thasta,callback:function(e){t.thasta=e},expression:"thasta"}}):t._e()],1)],1)],a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Importe Adicional",type:"number"},model:{value:t.impadicional,callback:function(e){t.impadicional=e},expression:"impadicional"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.controlsica,expression:"controlsica"}],attrs:{type:"checkbox",id:"controlsica",disabled:""},domProps:{checked:Array.isArray(t.controlsica)?t._i(t.controlsica,null)>-1:t.controlsica},on:{change:function(e){var a=t.controlsica,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.controlsica=a.concat([s])):r>-1&&(t.controlsica=a.slice(0,r).concat(a.slice(r+1)))}else t.controlsica=o}}}),a("label",{attrs:{for:"controlsica"}},[t._v(" Ctrl SICA?")])]),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"#",label:"Hs.Enganche",type:"number",disabled:""},model:{value:t.horasenganche,callback:function(e){t.horasenganche=e},expression:"horasenganche"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"#",label:"Hs.Extra",type:"number",disabled:""},model:{value:t.horasextra,callback:function(e){t.horasextra=e},expression:"horasextra"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"#",label:"Hs.Nocturna",type:"number",disabled:""},model:{value:t.horasnocturna,callback:function(e){t.horasnocturna=e},expression:"horasnocturna"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.septimodia,expression:"septimodia"}],attrs:{type:"checkbox",id:"septimodia"},domProps:{checked:Array.isArray(t.septimodia)?t._i(t.septimodia,null)>-1:t.septimodia},on:{change:function(e){var a=t.septimodia,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.septimodia=a.concat([s])):r>-1&&(t.septimodia=a.slice(0,r).concat(a.slice(r+1)))}else t.septimodia=o}}}),a("label",{attrs:{for:"septimodia"}},[t._v(" 7mo día?")])]),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Importe Extra",type:"number",disabled:""},model:{value:t.impextra,callback:function(e){t.impextra=e},expression:"impextra"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Importe Bruto",type:"number",disabled:""},model:{value:t.imptotalbruto,callback:function(e){t.imptotalbruto=e},expression:"imptotalbruto"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"$",label:"SAC",type:"number",disabled:""},model:{value:t.impsac,callback:function(e){t.impsac=e},expression:"impsac"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Retenciones",type:"number",disabled:""},model:{value:t.impretenciones,callback:function(e){t.impretenciones=e},expression:"impretenciones"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Vacaciones",type:"number",disabled:""},model:{value:t.impvacaciones,callback:function(e){t.impvacaciones=e},expression:"impvacaciones"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"$",label:"SAC/Vac",type:"number",disabled:""},model:{value:t.impsacvacaciones,callback:function(e){t.impsacvacaciones=e},expression:"impsacvacaciones"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Importe Neto",type:"number",disabled:""},model:{value:t.imptotalneto,callback:function(e){t.imptotalneto=e},expression:"imptotalneto"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{prefix:"$",label:"Aportes",type:"number",disabled:""},model:{value:t.impcontribucionpatronal,callback:function(e){t.impcontribucionpatronal=e},expression:"impcontribucionpatronal"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.calcularDerivados()}}},[t._v("Calcular")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Crew?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Crew?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la asignación del Crew "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.realdxds},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cuil))]),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.horasbase))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.dtdesde))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.dthasta))]),a("td",[t._v(t._s(e.item.controlsica))]),a("td",[t._v(t._s(e.item.horasnormal))]),a("td",[t._v(t._s(e.item.horasextra))]),a("td",[t._v(t._s(e.item.horasnocturna))]),a("td",[t._v(t._s(e.item.horasenganche))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.septimodia?a("div",[a("span",{staticClass:"red--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.bolobruto))]),a("td",[t._v(t._s(e.item.boloneto))]),a("td",[t._v(t._s(e.item.valhoraextra))]),a("td",[t._v(t._s(e.item.impextra))]),a("td",[t._v(t._s(e.item.impadicional))]),a("td",[t._v(t._s(e.item.imptotalbruto))]),a("td",[t._v(t._s(e.item.impsac))]),a("td",[t._v(t._s(e.item.impvacaciones))]),a("td",[t._v(t._s(e.item.impsacvacaciones))]),a("td",[t._v(t._s(e.item.impretenciones))]),a("td",[t._v(t._s(e.item.imptotalneto))]),a("td",[t._v(t._s(e.item.impcontribucionpatronal))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},sr=[],rr={data:function(){return{actdesde:"",acthasta:"",diaanterior:"",mineq:[],allActivity:[],fdmin:"",fdmax:"",configs:[],snackbar:!1,snacktext:"Hola",timeout:4e3,fecdesde:null,fechasta:null,menu1:!1,menu1t:!1,menu2:!1,menu2t:!1,horasbases:[{value:"8",text:"8 Hs"},{value:"12",text:"12 Hs"}],proyectos:[],recursos:[],realdxds:[],tarifadxds:[],idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",idrealdxd:"",idrecursodxd:"",iditem:"",horasbase:"",dtdesde:"",fdesde:"",tdesde:"",fhasta:"",dthasta:"",thasta:"",dtsalidaayer:"",dtinicionocturna:"",controlsica:!1,septimodia:!1,horasenganche:0,horasreal:0,horasequivalente:0,horasnormal:0,horasextra:0,horasnocturna:0,bolobruto:0,boloneto:0,valhoraextra:0,impextra:0,impadicional:0,imptotalbruto:0,impsac:0,impvacaciones:0,impretenciones:0,impsacvacaciones:0,imptotalneto:0,impcontribucionpatronal:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Item",value:"ordenitem",sortable:!0},{text:"Detalle Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"ordensubitem",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"CUIL",value:"cuil",sortable:!0},{text:"Nombre Completo",value:"nombre",sortable:!0},{text:"Base",value:"horasbase"},{text:"Fecha/Hora Desde",value:"dtdesde",sortable:!0},{text:"Fecha/Hora Hasta",value:"dthasta",sortable:!0},{text:"SICA",value:"controlsica",sortable:!0},{text:"Hs Normal",value:"horasnormal",sortable:!0},{text:"Hs Extra",value:"horasextra",sortable:!0},{text:"Hs Nocturna",value:"horasnocturna",sortable:!0},{text:"7mo día",value:"septimodia"},{text:"Hs Enganche",value:"horasenganche",sortable:!0},{text:"Bolo Bruto",value:"bolobruto"},{text:"Bolo Neto",value:"boloneto"},{text:"Valor Extra",value:"valhoraextra"},{text:"Imp.Extra",value:"impextra"},{text:"Imp.Adicional",value:"impadicional"},{text:"Total Bruto",value:"imptotalbruto"},{text:"SAC",value:"impsac"},{text:"Vacaciones",value:"impvacaciones"},{text:"SAC/vacaciones",value:"impsacvacaciones"},{text:"Retenciones",value:"impretenciones"},{text:"Total Neto",value:"imptotalneto",sortable:!0},{text:"Contribuciones",value:"impcontribucionpatronal"},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva actividad":"Actualizar actividad"},tomorrow:function(){var t=this.fdesde?new Date(this.fdesde):"";return t?new Date(t.getTime()+48e4*t.getTimezoneOffset()).toISOString():""}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select(),this.buscarActividades()},methods:{asignarminmax:function(t){var e=this;e.fdmin=e.recursos.find((function(e){return e.value===t}))["fecd"].substr(0,10),e.fdmax=e.recursos.find((function(e){return e.value===t}))["fech"].substr(0,10)},armarMineq:function(t){var e=60*(this.configs[5]["valor"]-8);this.mineq=[];for(var a=0;a<1440;a++)this.mineq.push({id:a+1,datetime:this.addMinutes(t,a),mire:1,mieq:a<e?1:1.2})},addMinutes:function(t,e){var a=new Date(t.substr(0,4),t.substr(5,2)-1,t.substr(8,2),8,0);return new Date(a.getTime()+60*e*1e3)},sumarSiEq:function(t,e){for(var a=0,i=0;i<1440;i++)this.mineq[i]["datetime"]>=t&&this.mineq[i]["datetime"]<e&&(a+=this.mineq[i]["mieq"]);return a},sumarSiRe:function(t,e){for(var a=0,i=0;i<1440;i++)this.mineq[i]["datetime"]>=t&&this.mineq[i]["datetime"]<e&&(a+=this.mineq[i]["mire"]);return a},allowedHours:function(t){return t%1},allowedMinutes:function(t){return t>=0&&t<=60},allowedStep:function(t){return t%15===0},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariovivo/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},buscarActividades:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.get("api/Realdxds/ListarActividades",i).then((function(a){e=a.data,e.map((function(e){t.allActivity.push({idrealdxd:e.idrealdxd,idrecursodxd:e.idrecursodxd,idproyecto:e.idproyecto,iditem:e.iditem,idsubitem:e.idsubitem,idcrew:e.idcrew,dtdesde:e.dtdesde,dthasta:e.dthasta,septimodia:e.septimodia})})),console.log(t.allActivity)})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.respuesta.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Realdxds/ListarProyecto/"+this.idproyecto,a).then((function(e){t.realdxds=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];W.a.get("api/Gapconfigs/Listar",a).then((function(e){i=e.data,i.map((function(e){t.configs.push({parametro:e.parametro,valor:e.valor,texto:e.texto})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},selectTarifas:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.get("api/Tarifadxds/ListarProyecto/"+this.idproyecto,i).then((function(a){e=a.data,e.map((function(e){t.tarifadxds.push({iditem:e.iditem,bruto8hs:e.bruto8hs,extra4hs:e.extra4hs,bruto12hs:e.bruto12hs,value:e.idtarifadxd})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},selectRecursos:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.get("api/Recursodxds/ListarProyecto/"+this.idproyecto,i).then((function(a){e=a.data,e.map((function(e){t.recursos.push({text:e.itemorden+": "+e.itemes+" - "+e.nombre+" (#"+e.idcont+") "+e.fecdesde.substr(0,10)+" / "+e.fechasta.substr(0,10),iditem:e.iditem,value:e.idrecursodxd,sindicato:e.sindicato,fecd:e.fecdesde,fech:e.fechasta})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.selectRecursos(),this.selectTarifas(),this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idrealdxd=t.idrealdxd,this.idrecursodxd=t.idrecursodxd,this.asignarminmax(t.idrecursodxd),this.horasbase=t.horasbase.toString(),this.dtdesde=t.dtdesde,this.fdesde=t.dtdesde.substr(0,10),this.tdesde=t.dtdesde.substr(11,5),this.dthasta=t.dthasta,this.fhasta=t.dthasta?t.dthasta.substr(0,10):t.dthasta,this.thasta=t.dthasta?t.dthasta.substr(11,5):t.dthasta,this.controlsica=t.controlsica,this.horasnormal=t.horasnormal.toFixed(2),this.horasextra=t.horasextra.toFixed(2),this.horasnocturna=t.horasnocturna.toFixed(2),this.horasenganche=t.horasenganche.toFixed(2),this.bolobruto=t.bolobruto,this.boloneto=t.boloneto,this.valhoraextra=t.valhoraextra.toFixed(2),this.impextra=t.impextra.toFixed(2),this.impadicional=t.impadicional.toFixed(2),this.septimodia=t.septimodia,this.imptotalbruto=t.imptotalbruto.toFixed(2),this.impsac=t.impsac.toFixed(2),this.impvacaciones=t.impvacaciones.toFixed(2),this.impretenciones=t.impretenciones.toFixed(2),this.impsacvacaciones=t.impsacvacaciones.toFixed(2),this.imptotalneto=t.imptotalneto.toFixed(2),this.impcontribucionpatronal=t.impcontribucionpatronal.toFixed(2),this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.recursos=[],this.tarifas=[]},limpiarDetail:function(){var t=new Date;this.idrealdxd="",this.idrecursodxd="",this.horasbase="",this.dtdesde=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),this.fdesde=this.dtdesde.substr(0,10),this.tdesde="00:00",this.dthasta=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),this.fhasta=this.dtdesde.substr(0,10),this.thasta="00:00",this.controlsica=!1,this.horasnormal=0,this.horasextra=0,this.horasnocturna=0,this.horasenganche=0,this.bolobruto=0,this.boloneto=0,this.valhoraextra=0,this.impextra=0,this.impadicional=0,this.septimodia=!1,this.imptotalbruto=0,this.impsac=0,this.impvacaciones=0,this.impretenciones=0,this.impsacvacaciones=0,this.imptotalneto=0,this.impcontribucionpatronal=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){var t=this;if(this.calcularDerivados(),!this.validar()){var e=new Date,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};this.editedIndex>-1?W.a.put("api/Realdxds/Actualizar",{idrealdxd:t.idrealdxd,idrecursodxd:t.idrecursodxd,horasbase:t.horasbase,fecha:t.fecha,dtdesde:t.dtdesde,dthasta:t.dthasta,controlsica:t.controlsica,horasnormal:t.horasnormal,horasextra:t.horasextra,horasnocturna:t.horasnocturna,horasenganche:t.horasenganche,bolobruto:t.bolobruto,boloneto:t.boloneto,valhoraextra:t.valhoraextra,impextra:t.impextra,impadicional:t.impadicional,septimodia:t.septimodia,imptotalbruto:t.imptotalbruto,impsac:t.impsac,impvacaciones:t.impvacaciones,impretenciones:t.impretenciones,impsacvacaciones:t.impsacvacaciones,imptotalneto:t.imptotalneto,impcontribucionpatronal:t.impcontribucionpatronal,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.closeForm(),t.listarDetail(),t.limpiarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Realdxds/Crear",{idrecursodxd:t.idrecursodxd,horasbase:t.horasbase,fecha:t.fecha,dtdesde:t.dtdesde,dthasta:t.dthasta,controlsica:t.controlsica,horasnormal:t.horasnormal,horasextra:t.horasextra,horasnocturna:t.horasnocturna,horasenganche:t.horasenganche,bolobruto:t.bolobruto,boloneto:t.boloneto,valhoraextra:t.valhoraextra,impextra:t.impextra,impadicional:t.impadicional,septimodia:t.septimodia,imptotalbruto:t.imptotalbruto,impsac:t.impsac,impvacaciones:t.impvacaciones,impretenciones:t.impretenciones,impsacvacaciones:t.impsacvacaciones,imptotalneto:t.imptotalneto,impcontribucionpatronal:t.impcontribucionpatronal,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.closeForm(),t.listarDetail(),t.limpiarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},calcularDerivados:function(){var t=this;t.fecha=t.fdesde,t.acthasta=new Date(t.fecha.concat("T00:00")),t.acthasta=new Date(t.acthasta.getTime()-6e4*t.acthasta.getTimezoneOffset()).toISOString(),t.actdesde=new Date(t.acthasta),t.diaanterior=new Date(t.acthasta),t.diaanterior.setDate(t.diaanterior.getDate()-1),t.diaanterior=new Date(t.diaanterior).toISOString().substr(0,10),t.actdesde.setDate(t.actdesde.getDate()-6),t.actdesde=new Date(t.actdesde).toISOString(),t.actividadreal=t.allActivity.filter((function(e){return e.idproyecto===t.idproyecto&&e.idrecursodxd===t.idrecursodxd&&e.dtdesde>=t.actdesde&&e.dtdesde<t.acthasta})),t.armarMineq(t.fecha),t.iditem=t.recursos.filter((function(e){return e.value===t.idrecursodxd})).map((function(t){return t.iditem}))[0],t.sindicato=!!t.recursos.filter((function(e){return e.value===t.idrecursodxd})).map((function(t){return t.sindicato}))[0],t.controlsica=t.sindicato;var e=new Date(t.fdesde.concat("T").concat(t.tdesde)),a=new Date(t.fhasta.concat("T").concat(t.thasta));t.dtdesde=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString(),t.dthasta=new Date(a.getTime()-6e4*a.getTimezoneOffset()).toISOString();var i=new Date(t.fdesde.concat("T").concat(t.configs[5]["valor"]).concat(":00"));t.septimodia=!1;for(var o="",s="",r=0;r<t.actividadreal.length;r++){if(o=new Date(t.actdesde),o.setDate(o.getDate()+r),o=new Date(o).toISOString().substr(0,10),s=t.actividadreal[r]["dtdesde"].substr(0,10),o!==s)break;if(t.actividadreal[r]["septimodia"])break;5===r&&(t.septimodia=!0)}t.horasenganche=0,t.dtsalidaayer=t.actividadreal.filter((function(e){return e.dtdesde.substr(0,10)===t.diaanterior})).map((function(t){return t.dthasta}))[0];var n=new Date(t.dtsalidaayer),c=e.getTime()-n.getTime(),d=c/1e3/60/60;t.dtsalidaayer&&12-d>=0&&(t.horasenganche=12-d),t.horasreal=this.sumarSiRe(e,a)/60,t.horasequivalente=this.sumarSiEq(e,a)/60,t.horasnormal=a>i?this.sumarSiEq(e,i)/60:this.sumarSiEq(e,a)/60,t.horasextra=t.horasnormal-t.horasbase<0?0:t.horasnormal-t.horasbase,t.horasnocturna=this.sumarSiEq(i,a)/60,"8"===t.horasbase?t.bolobruto=t.tarifadxds.filter((function(e){return e.iditem===t.iditem})).map((function(t){return t.bruto8hs}))[0]:"12"==t.horasbase?t.bolobruto=t.tarifadxds.filter((function(e){return e.iditem===t.iditem})).map((function(t){return t.bruto12hs}))[0]:t.bolobruto="",t.impadicional="string"===typeof t.impadicional?Number(t.impadicional):t.impadicional,t.boloneto=.81*t.bolobruto,t.valhoraextra=t.tarifadxds.filter((function(e){return e.iditem===t.iditem})).map((function(t){return t.bruto8hs}))[0]/8*2,t.impextra=(t.horasextra+t.horasnocturna>0?t.horasenganche+t.horasextra+t.horasnocturna:t.horasenganche)*t.valhoraextra,t.imptotalbruto=t.bolobruto+t.impextra,t.septimodia&&(t.imptotalbruto+=t.bolobruto),t.impsac=+(+t.imptotalbruto+t.impadicional)*this.configs[0]["valor"],t.sindicato?t.impretenciones=(t.imptotalbruto+t.impadicional+t.impsac)*this.configs[4]["valor"]:t.impretenciones=(t.imptotalbruto+t.impadicional+t.impsac)*this.configs[1]["valor"],t.impvacaciones=+(+t.imptotalbruto+t.impadicional)*this.configs[2]["valor"],t.impsacvacaciones=+t.impvacaciones*this.configs[0]["valor"],t.imptotalneto=+t.imptotalbruto+t.impadicional+t.impsac-t.impretenciones+t.impvacaciones+t.impsacvacaciones,t.impcontribucionpatronal=(+t.imptotalbruto+t.impadicional+t.impsac)*this.configs[3]["valor"],t.horasenganche=t.horasenganche.toFixed(2),t.horasextra=t.horasextra.toFixed(2),t.horasnocturna=t.horasnocturna.toFixed(2),t.impextra=t.impextra.toFixed(2),t.impadicional=t.impadicional.toFixed(2),t.imptotalbruto=t.imptotalbruto.toFixed(2),t.impsac=t.impsac.toFixed(2),t.impretenciones=t.impretenciones.toFixed(2),t.impvacaciones=t.impvacaciones.toFixed(2),t.impsacvacaciones=t.impsacvacaciones.toFixed(2),t.imptotalneto=t.imptotalneto.toFixed(2),t.impcontribucionpatronal=t.impcontribucionpatronal.toFixed(2)},validar:function(){return this.valida=0,this.validaMensaje=[],this.idrecursodxd||this.validaMensaje.push("Ingrese un Staff."),(!this.bolobruto||!this.bolobruto>0)&&this.validaMensaje.push("Item sin Tarifa para este Proyecto."),this.horasbase||this.validaMensaje.push("Ingrese un tipo de jornada 8 o 12 hs."),this.fdesde&&this.fhasta||this.validaMensaje.push("Complete las fechas de la actividad."),this.tdesde&&this.thasta||this.validaMensaje.push("Complete las horas de la actividad."),this.fdesde==this.fhasta?this.thasta<this.tdesde&&this.validaMensaje.push("Verifique el rango de horas."):this.fdesde!=this.fhasta&&this.thasta>=this.tdesde&&this.validaMensaje.push("El rango total entre fechas y horas excede un día completo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.itemorden+": "+e.itemes+"/"+e.nombre,this.adId=e.idrealdxd,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Realdxds/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Realdxds/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},nr=rr,cr=a("c964"),dr=Object(b["a"])(nr,or,sr,!1,null,null,null),lr=dr.exports;g()(dr,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VTimePicker:cr["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Proveedores Post - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Proveedores Proyecto #"+t._s(this.orden)+": "+t._s(this.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.items,label:"Item","search-input":t.searchi},on:{"update:searchInput":function(e){t.searchi=e},"update:search-input":function(e){t.searchi=e},change:function(e){return t.cambioItem()}},model:{value:t.iditem,callback:function(e){t.iditem=e},expression:"iditem"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-select",{attrs:{items:t.subitems,label:"Subitem"},model:{value:t.idsubitem,callback:function(e){t.idsubitem=e},expression:"idsubitem"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-autocomplete",{attrs:{items:t.proveedores,clearable:"","search-input":t.searchp,label:"Proveedor"},on:{"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Tarifa Diaria (AR$)",type:"number"},model:{value:t.tarifadiaria,callback:function(e){t.tarifadiaria=e},expression:"tarifadiaria"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Recurso?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Recurso?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la asignación del Recurso "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.proveedorposts},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.razonsocial))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cuit))]),a("td",[t._v(t._s(e.item.tarifadiaria))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},vr=[],pr={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,proyectos:[],proveedores:[],items:[],subitems:[],allsubitems:[],proveedorposts:[],idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",idproveedorpost:"",iditem:"",itemorden:"",itemes:"",itemeen:"",idsubitem:"",subitemorden:"",subitemes:"",subitemen:"",idproveedor:"",razonsocial:"",cuit:"",tarifadiaria:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Item",value:"ordenitem",sortable:!0},{text:"Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"ordensubitem",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"Razon Social",value:"razonsocial",sortable:!0},{text:"CUIT",value:"cuit",sortable:!0},{text:"Tarifa Diaria",value:"tarifadiaria",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",searchi:"",searchp:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo staff":"Actualizar staff"}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariopost/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Proveedorposts/ListarProyecto/"+this.idproyecto,a).then((function(e){t.proveedorposts=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};W.a.get("api/Items/Selectpost",s).then((function(a){e=a.data,e.map((function(e){t.items.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proveedores/Select",s).then((function(e){a=e.data,a.map((function(e){t.proveedores.push({text:e.razonsocial+"/CUIT:"+e.cuit,value:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Subitems/Select",s).then((function(e){i=e.data,i.map((function(e){t.allsubitems.push({text:e.orden+": "+e.subitemes,value:e.idsubitem,id:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},cambioItem:function(){this.idsubitem="",this.selectSubitems()},selectSubitems:function(){var t=this;t.subitems=t.allsubitems.filter((function(e){return e.id===t.iditem})),1===t.subitems.length&&(t.idsubitem=t.subitems[0].value)},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idproveedorpost=t.idproveedorpost,this.iditem=t.iditem,this.selectSubitems(),this.idsubitem=t.idsubitem,this.idproveedor=t.idproveedor,this.tarifadiaria=t.tarifadiaria,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto=""},limpiarDetail:function(){this.idproveedorpost="",this.iditem="",this.itemorden="",this.itemes="",this.itemeen="",this.idsubitem="",this.subitemorden="",this.subitemes="",this.subitemen="",this.idproveedor="",this.razonsocial="",this.cuit="",this.tarifadiaria="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1,this.searchi="",this.searchp=""},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Proveedorposts/Actualizar",{idproveedorpost:i.idproveedorpost,idproyecto:i.idproyecto,iditem:i.iditem,idsubitem:i.idsubitem,idproveedor:i.idproveedor,tarifadiaria:i.tarifadiaria,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.closeForm(),i.listarDetail(),i.limpiarDetail()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Proveedorposts/Crear",{idproyecto:o.idproyecto,iditem:o.iditem,idsubitem:o.idsubitem,idproveedor:o.idproveedor,tarifadiaria:o.tarifadiaria,iduseralta:o.$store.state.usuario.idusuario},a).then((function(t){o.closeForm(),o.listarDetail(),o.limpiarDetail()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.iditem||this.validaMensaje.push("Ingrese un #item."),this.idsubitem||this.validaMensaje.push("Ingrese un #subitem."),this.idproveedor||this.validaMensaje.push("Ingrese un Proveedor."),(!this.tarifadiaria||!this.tarifadiaria>0)&&this.validaMensaje.push("Ingrese un Tarifa válida."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.itemorden+":"+e.itemes+"/"+e.razonsocial,this.adId=e.idproveedorpost,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proveedorposts/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proveedorposts/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},mr=pr,hr=Object(b["a"])(mr,ur,vr,!1,null,null,null),fr=hr.exports;g()(hr,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var br=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Actividades Post - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Post del Proyecto #"+t._s(this.orden)+": "+t._s(this.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.proveedorposts,label:"Proveedor","search-input":t.searchp},on:{"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e},input:t.calcularTarifa},model:{value:t.idproveedorpost,callback:function(e){t.idproveedorpost=e},expression:"idproveedorpost"}})],1),[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Desde","prepend-icon":"event",readonly:""},on:{change:function(e){t.fhasta=t.fdesde}},model:{value:t.fdesde,callback:function(e){t.fdesde=e},expression:"fdesde"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{locale:"es"},on:{input:function(e){t.menu1=!1}},model:{value:t.fdesde,callback:function(e){t.fdesde=e},expression:"fdesde"}})],1)],1)],[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{ref:"menud",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.tdesde,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.tdesde=e},"update:return-value":function(e){t.tdesde=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Hora Desde","prepend-icon":"access_time",readonly:""},model:{value:t.tdesde,callback:function(e){t.tdesde=e},expression:"tdesde"}},i))]}}]),model:{value:t.menu1t,callback:function(e){t.menu1t=e},expression:"menu1t"}},[t.menu1t?a("v-time-picker",{attrs:{format:"24hr","full-width":"","allowed-minutes":t.allowedStep},on:{"click:minute":function(e){return t.$refs.menud.save(t.tdesde)}},model:{value:t.tdesde,callback:function(e){t.tdesde=e},expression:"tdesde"}}):t._e()],1)],1)],[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Hasta","prepend-icon":"event",readonly:""},model:{value:t.fhasta,callback:function(e){t.fhasta=e},expression:"fhasta"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{min:t.fdesde,max:t.tomorrow,locale:"es"},on:{input:function(e){t.menu2=!1}},model:{value:t.fhasta,callback:function(e){t.fhasta=e},expression:"fhasta"}})],1)],1)],[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{ref:"menuh",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.thasta,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.thasta=e},"update:return-value":function(e){t.thasta=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Hora Hasta","prepend-icon":"access_time",readonly:""},model:{value:t.thasta,callback:function(e){t.thasta=e},expression:"thasta"}},i))]}}]),model:{value:t.menu2t,callback:function(e){t.menu2t=e},expression:"menu2t"}},[t.menu2t?a("v-time-picker",{attrs:{format:"24hr","full-width":"","allowed-minutes":t.allowedStep},on:{"click:minute":function(e){return t.$refs.menuh.save(t.thasta)}},model:{value:t.thasta,callback:function(e){t.thasta=e},expression:"thasta"}}):t._e()],1)],1)],a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Horas Extras",type:"number",disabled:""},model:{value:t.hhee,callback:function(e){t.hhee=e},expression:"hhee"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{items:t.tipohhees,label:"Tipo HHEE"},on:{input:t.calcularTarifa},model:{value:t.porhhee,callback:function(e){t.porhhee=e},expression:"porhhee"}})],1),t.veimportes?a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Tarifa diaria",type:"number",disabled:""},model:{value:t.impbase,callback:function(e){t.impbase=e},expression:"impbase"}})],1):t._e(),t.veimportes?a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Adicional HHEE",type:"number",disabled:""},model:{value:t.imphhee,callback:function(e){t.imphhee=e},expression:"imphhee"}})],1):t._e(),t.veimportes?a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Importe Jornada",type:"number",disabled:""},model:{value:t.impjornada,callback:function(e){t.impjornada=e},expression:"impjornada"}})],1):t._e(),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Importe Adicional",type:"number"},model:{value:t.impjornadaadicional,callback:function(e){t.impjornadaadicional=e},expression:"impjornadaadicional"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.calcularDerivados(e)}}},[t._v("Calcular")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Crew?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Crew?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la asignación del Crew "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.realposts},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.razonsocial))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cuit))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.dtdesde.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.dthasta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.hhee))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.porhhee))]),a("td",[t._v(t._s(t.veimportes?t.formatPrice(e.item.impbase):"xxx.xx"))]),a("td",[t._v(t._s(t.veimportes?t.formatPrice(e.item.imphhee):"xxx.xx"))]),a("td",[t._v(t._s(t.veimportes?t.formatPrice(e.item.impjornada):"xxx.xx"))]),a("td",[t._v(t._s(t.formatPrice(e.item.impjornadaadicional)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},xr=[],gr={data:function(){return{veimportes:!0,snackbar:!1,snacktext:"Hola",timeout:4e3,menu1:!1,menu1t:!1,menu2:!1,menu2t:!1,tipohhees:[{value:0,text:"0%"},{value:50,text:"50%"},{value:100,text:"100%"}],proyectos:[],realposts:[],configs:[],proveedorposts:[],idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",idrealpost:"",idproveedorpost:"",dtdesde:"",fdesde:"",tdesde:"",dthasta:"",fhasta:"",thasta:"",hhee:0,porhhee:0,impbase:0,imphhee:0,impjornada:0,impjornadaadicional:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Item",value:"ordenitem",sortable:!0},{text:"Descripcion del Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"ordensubitem",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"Razon Social",value:"razonsocial",sortable:!0},{text:"CUIT",value:"cuit",sortable:!0},{text:"FechaHora desde",value:"fhdesde",sortable:!0},{text:"FechaHora hasta",value:"fhhasta",sortable:!0},{text:"Horas Extras",value:"hhee",sortable:!0},{text:"% HHEE",value:"porhhee",sortable:!0},{text:"Imp.Base",value:"impbase"},{text:"Imp.HHEE",value:"imphhee",sortable:!0},{text:"Imp.Jornada",value:"impjornada",sortable:!0},{text:"Imp.Adicional",value:"impjornadaadicional",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",searchp:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva actividad":"Actualizar actividad"},tomorrow:function(){var t=this.fdesde?new Date(this.fdesde):"";return t?new Date(t.getTime()+48e4*t.getTimezoneOffset()).toISOString():""}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{calcularTarifa:function(){var t=this;this.impbase=t.proveedorposts.filter((function(e){return e.value===t.idproveedorpost})).map((function(t){return t.tarifadiaria}))[0]},allowedHours:function(t){return t%1},allowedMinutes:function(t){return t>=0&&t<=60},allowedStep:function(t){return t%15===0},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariopost/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),"AsistProduccion"==this.$store.state.usuario.rol&&(t.veimportes=!1)},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Realposts/ListarProyecto/"+this.idproyecto,a).then((function(e){t.realposts=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];W.a.get("api/Gapconfigs/Listar",a).then((function(e){i=e.data,i.map((function(e){t.configs.push({parametro:e.parametro,valor:e.valor,texto:e.texto})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},selectProveedorespost:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.get("api/Proveedorposts/ListarProyecto/"+this.idproyecto,i).then((function(a){e=a.data,e.map((function(e){t.proveedorposts.push({text:e.itemorden+": "+e.itemes+" - "+e.razonsocial+"/"+e.cuit,iditem:e.iditem,tarifadiaria:e.tarifadiaria,value:e.idproveedorpost})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.selectProveedorespost(),this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idrealpost=t.idrealpost,this.idproveedorpost=t.idproveedorpost,this.dtdesde=t.dtdesde,this.fdesde=t.dtdesde.substr(0,10),this.tdesde=t.dtdesde.substr(11,5),this.dthasta=t.dthasta,this.fhasta=t.dthasta?t.dthasta.substr(0,10):t.dthasta,this.thasta=t.dthasta?t.dthasta.substr(11,5):t.dthasta,this.hhee=t.hhee,this.porhhee=t.porhhee,this.impbase=t.impbase,this.imphhee=t.imphhee,this.impjornada=t.impjornada,this.impjornadaadicional=t.impjornadaadicional,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto=""},limpiarDetail:function(){var t=new Date;this.idrealpost="",this.idproveedorpost="",this.dtdesde=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),this.fdesde=this.dtdesde.substr(0,10),this.tdesde="00:00",this.dthasta=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),this.fhasta=this.dtdesde.substr(0,10),this.thasta="00:00",this.hhee=0,this.porhhee=0,this.impbase=0,this.imphhee=0,this.impjornada=0,this.impjornadaadicional=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1,this.searchp=""},guardar:function(){var t=this;if(t.calcularDerivados(),!this.validar()){var e=new Date,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};this.editedIndex>-1?W.a.put("api/Realposts/Actualizar",{idrealpost:t.idrealpost,idproveedorpost:t.idproveedorpost,dtdesde:t.dtdesde,dthasta:t.dthasta,hhee:t.hhee,porhhee:t.porhhee,impbase:t.impbase,imphhee:t.imphhee,impjornada:t.impjornada,impjornadaadicional:t.impjornadaadicional,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.closeForm(),t.listarDetail(),t.limpiarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Realposts/Crear",{idproveedorpost:t.idproveedorpost,dtdesde:t.dtdesde,dthasta:t.dthasta,hhee:t.hhee,porhhee:t.porhhee,impbase:t.impbase,imphhee:t.imphhee,impjornada:t.impjornada,impjornadaadicional:t.impjornadaadicional,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.closeForm(),t.listarDetail(),t.limpiarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},calcularDerivados:function(){var t=this,e=new Date(t.fdesde.concat("T").concat(t.tdesde)),a=new Date(t.fhasta.concat("T").concat(t.thasta));t.dtdesde=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString(),t.dthasta=new Date(a.getTime()-6e4*a.getTimezoneOffset()).toISOString();var i=(a.getTime()-e.getTime())/1e3/60/60;i<t.configs[7]["valor"]?(t.hhee=0,t.porhhee=0,t.imphhee=0):(t.hhee=i-t.configs[7]["valor"],t.imphhee=t.hhee*(t.impbase/t.configs[7]["valor"])*(1+t.porhhee/100)),t.impjornada=t.impbase+t.imphhee},validar:function(){return this.valida=0,this.validaMensaje=[],this.idproveedorpost||this.validaMensaje.push("Ingrese un Proveedor."),this.fdesde&&this.fhasta||this.validaMensaje.push("Complete las fechas de la actividad."),this.tdesde&&this.thasta||this.validaMensaje.push("Complete las horas de la actividad."),this.fdesde==this.fhasta?this.thasta<this.tdesde&&this.validaMensaje.push("Verifique el rango de horas."):this.fdesde!=this.fhasta&&this.thasta>=this.tdesde&&this.validaMensaje.push("El rango total entre fechas y horas excede un día completo."),this.porhhee||this.validaMensaje.push("Seleccione un Tipo de HHEE."),this.impjornadaadicional||(this.impjornadaadicional=0),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.itemorden+": "+e.itemes+"/"+e.razonsocial,this.adId=e.idrealpost,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Realposts/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Realposts/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},_r=gr,kr=Object(b["a"])(_r,br,xr,!1,null,null,null),Cr=kr.exports;g()(kr,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VTimePicker:cr["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Proveedores Stop Motion - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Proveedores Proyecto #"+t._s(this.orden)+": "+t._s(this.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.items,label:"Item","search-input":t.searchi},on:{"update:searchInput":function(e){t.searchi=e},"update:search-input":function(e){t.searchi=e},change:function(e){return t.cambioItem()}},model:{value:t.iditem,callback:function(e){t.iditem=e},expression:"iditem"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-select",{attrs:{items:t.subitems,label:"Subitem"},model:{value:t.idsubitem,callback:function(e){t.idsubitem=e},expression:"idsubitem"}})],1),a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-autocomplete",{attrs:{items:t.proveedores,clearable:"","search-input":t.searchp,label:"Proveedor"},on:{"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e}},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Tarifa Diaria (AR$)",type:"number"},model:{value:t.tarifadiaria,callback:function(e){t.tarifadiaria=e},expression:"tarifadiaria"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Recurso?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Recurso?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la asignación del Recurso "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.proveedormotions},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.razonsocial))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cuit))]),a("td",[t._v(t._s(e.item.tarifadiaria))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Ar=[],Dr={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,proyectos:[],proveedores:[],items:[],subitems:[],allsubitems:[],proveedormotions:[],idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",idproveedormotion:"",iditem:"",itemorden:"",itemes:"",itemeen:"",idsubitem:"",subitemorden:"",subitemes:"",subitemen:"",idproveedor:"",razonsocial:"",cuit:"",tarifadiaria:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Item",value:"ordenitem",sortable:!0},{text:"Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"ordensubitem",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"Razon Social",value:"razonsocial",sortable:!0},{text:"CUIT",value:"cuit",sortable:!0},{text:"Tarifa Diaria",value:"tarifadiaria",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",searchi:"",searchp:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo staff":"Actualizar staff"}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariovivo/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Proveedormotions/ListarProyecto/"+this.idproyecto,a).then((function(e){t.proveedormotions=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i=[],o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};W.a.get("api/Items/Selectmotion",s).then((function(a){e=a.data,e.map((function(e){t.items.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Proveedores/Select",s).then((function(e){a=e.data,a.map((function(e){t.proveedores.push({text:e.razonsocial+"/CUIT:"+e.cuit,value:e.idproveedor})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Subitems/Select",s).then((function(e){i=e.data,i.map((function(e){t.allsubitems.push({text:e.orden+": "+e.subitemes,value:e.idsubitem,id:e.iditem})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},cambioItem:function(){this.idsubitem="",this.selectSubitems()},selectSubitems:function(){var t=this;t.subitems=t.allsubitems.filter((function(e){return e.id===t.iditem})),1===t.subitems.length&&(t.idsubitem=t.subitems[0].value)},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idproveedormotion=t.idproveedormotion,this.iditem=t.iditem,this.selectSubitems(),this.idsubitem=t.idsubitem,this.idproveedor=t.idproveedor,this.tarifadiaria=t.tarifadiaria,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto=""},limpiarDetail:function(){this.idproveedormotion="",this.iditem="",this.itemorden="",this.itemes="",this.itemeen="",this.idsubitem="",this.subitemorden="",this.subitemes="",this.subitemen="",this.idproveedor="",this.razonsocial="",this.cuit="",this.tarifadiaria="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1,this.searchi="",this.searchp=""},guardar:function(){if(!this.validar()){var t=this,e=new Date,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};this.editedIndex>-1?W.a.put("api/Proveedormotions/Actualizar",{idproveedormotion:t.idproveedormotion,idproyecto:t.idproyecto,iditem:t.iditem,idsubitem:t.idsubitem,idproveedor:t.idproveedor,tarifadiaria:t.tarifadiaria,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.closeForm(),t.listarDetail(),t.limpiarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Proveedormotions/Crear",{idproyecto:t.idproyecto,iditem:t.iditem,idsubitem:t.idsubitem,idproveedor:t.idproveedor,tarifadiaria:t.tarifadiaria,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.closeForm(),t.listarDetail(),t.limpiarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.iditem||this.validaMensaje.push("Ingrese un #item."),this.idsubitem||this.validaMensaje.push("Ingrese un #subitem."),this.idproveedor||this.validaMensaje.push("Ingrese un Proveedor."),(!this.tarifadiaria||!this.tarifadiaria>0)&&this.validaMensaje.push("Ingrese un Tarifa válida."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.itemorden+":"+e.itemes+"/"+e.razonsocial,this.adId=e.idproveedormotion,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proveedormotions/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Proveedormotions/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},jr=Dr,Sr=Object(b["a"])(jr,yr,Ar,!1,null,null,null),Ir=Sr.exports;g()(Sr,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Actividades Stop Motion - Proyectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Stop Motion del Proyecto #"+t._s(this.orden)+": "+t._s(this.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{clearable:"",items:t.proveedormotions,label:"Proveedor","search-input":t.searchp},on:{"update:searchInput":function(e){t.searchp=e},"update:search-input":function(e){t.searchp=e},input:t.calcularTarifa},model:{value:t.idproveedormotion,callback:function(e){t.idproveedormotion=e},expression:"idproveedormotion"}})],1),[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Desde","prepend-icon":"event",readonly:""},on:{change:function(e){t.fhasta=t.fdesde}},model:{value:t.fdesde,callback:function(e){t.fdesde=e},expression:"fdesde"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{locale:"es"},on:{input:function(e){t.menu1=!1}},model:{value:t.fdesde,callback:function(e){t.fdesde=e},expression:"fdesde"}})],1)],1)],[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{ref:"menud",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.tdesde,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.tdesde=e},"update:return-value":function(e){t.tdesde=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Hora Desde","prepend-icon":"access_time",readonly:""},model:{value:t.tdesde,callback:function(e){t.tdesde=e},expression:"tdesde"}},i))]}}]),model:{value:t.menu1t,callback:function(e){t.menu1t=e},expression:"menu1t"}},[t.menu1t?a("v-time-picker",{attrs:{format:"24hr","full-width":"","allowed-minutes":t.allowedStep},on:{"click:minute":function(e){return t.$refs.menud.save(t.tdesde)}},model:{value:t.tdesde,callback:function(e){t.tdesde=e},expression:"tdesde"}}):t._e()],1)],1)],[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Hasta","prepend-icon":"event",readonly:""},model:{value:t.fhasta,callback:function(e){t.fhasta=e},expression:"fhasta"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{min:t.fdesde,max:t.tomorrow,locale:"es"},on:{input:function(e){t.menu2=!1}},model:{value:t.fhasta,callback:function(e){t.fhasta=e},expression:"fhasta"}})],1)],1)],[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-menu",{ref:"menuh",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.thasta,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.thasta=e},"update:return-value":function(e){t.thasta=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Hora Hasta","prepend-icon":"access_time",readonly:""},model:{value:t.thasta,callback:function(e){t.thasta=e},expression:"thasta"}},i))]}}]),model:{value:t.menu2t,callback:function(e){t.menu2t=e},expression:"menu2t"}},[t.menu2t?a("v-time-picker",{attrs:{format:"24hr","full-width":"","allowed-minutes":t.allowedStep},on:{"click:minute":function(e){return t.$refs.menuh.save(t.thasta)}},model:{value:t.thasta,callback:function(e){t.thasta=e},expression:"thasta"}}):t._e()],1)],1)],a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Horas Extras",type:"number",disabled:""},model:{value:t.hhee,callback:function(e){t.hhee=e},expression:"hhee"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-select",{attrs:{items:t.tipohhees,label:"Tipo HHEE"},on:{input:t.calcularTarifa},model:{value:t.porhhee,callback:function(e){t.porhhee=e},expression:"porhhee"}})],1),t.veimportes?a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Tarifa diaria",type:"number",disabled:""},model:{value:t.impbase,callback:function(e){t.impbase=e},expression:"impbase"}})],1):t._e(),t.veimportes?a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Adicional HHEE",type:"number",disabled:""},model:{value:t.imphhee,callback:function(e){t.imphhee=e},expression:"imphhee"}})],1):t._e(),t.veimportes?a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Importe Jornada",type:"number",disabled:""},model:{value:t.impjornada,callback:function(e){t.impjornada=e},expression:"impjornada"}})],1):t._e(),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Importe Adicional",type:"number"},model:{value:t.impjornadaadicional,callback:function(e){t.impjornadaadicional=e},expression:"impjornadaadicional"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.calcularDerivados(e)}}},[t._v("Calcular")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Crew?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Crew?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la asignación del Crew "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.realmotions},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                    block\n                                    ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                    check\n                                    ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.itemorden))]),a("td",[t._v(t._s(e.item.itemes))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.subitemorden))]),a("td",[t._v(t._s(e.item.subitemes))]),a("td",[t._v(t._s(e.item.razonsocial))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cuit))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.dtdesde.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.dthasta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.hhee))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.porhhee))]),a("td",[t._v(t._s(t.veimportes?t.formatPrice(e.item.impbase):"xxx.xx"))]),a("td",[t._v(t._s(t.veimportes?t.formatPrice(e.item.imphhee):"xxx.xx"))]),a("td",[t._v(t._s(t.veimportes?t.formatPrice(e.item.impjornada):"xxx.xx"))]),a("td",[t._v(t._s(t.formatPrice(e.item.impjornadaadicional)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},wr=[],Pr={data:function(){return{veimportes:!0,snackbar:!1,snacktext:"Hola",timeout:4e3,menu1:!1,menu1t:!1,menu2:!1,menu2t:!1,tipohhees:[{value:0,text:"HHEE 0%"},{value:50,text:"HHEE 50%"},{value:100,text:"HHEE 100%"}],proyectos:[],realmotions:[],configs:[],proveedormotions:[],idproyecto:"",orden:"",proyecto:"",producto:"",fecadjudicacion:"",ars1usd:"",idrealmotion:"",idproveedormotion:"",dtdesde:"",fdesde:"",tdesde:"",dthasta:"",fhasta:"",thasta:"",hhee:0,porhhee:0,impbase:0,imphhee:0,impjornada:0,impjornadaadicional:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Item",value:"ordenitem",sortable:!0},{text:"Item",value:"itemes",sortable:!0},{text:"#Subitem",value:"ordensubitem",sortable:!0},{text:"Subitem",value:"subitemes",sortable:!0},{text:"Razon Social",value:"razonsocial",sortable:!0},{text:"CUIT",value:"cuit",sortable:!0},{text:"FechaHora desde",value:"fhdesde",sortable:!0},{text:"FechaHora hasta",value:"fhhasta",sortable:!0},{text:"Horas Extras",value:"hhee",sortable:!0},{text:"% HHEE",value:"porhhee",sortable:!0},{text:"Imp.Base",value:"impbase"},{text:"Imp.HHEE",value:"imphhee",sortable:!0},{text:"Imp.Jornada",value:"impjornada",sortable:!0},{text:"Imp.Adicional",value:"impjornadaadicional",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",searchp:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva actividad":"Actualizar actividad"},tomorrow:function(){var t=this.fdesde?new Date(this.fdesde):"";return t?new Date(t.getTime()+48e4*t.getTimezoneOffset()).toISOString():""}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{calcularTarifa:function(){var t=this;this.impbase=t.proveedormotions.filter((function(e){return e.value===t.idproveedormotion})).map((function(t){return t.tarifadiaria}))[0]},allowedHours:function(t){return t%1},allowedMinutes:function(t){return t>=0&&t<=60},allowedStep:function(t){return t%15===0},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariovivo/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),"AsistProduccion"==this.$store.state.usuario.rol&&(t.veimportes=!1)},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Realmotions/ListarProyecto/"+this.idproyecto,a).then((function(e){t.realmotions=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];W.a.get("api/Gapconfigs/Listar",a).then((function(e){i=e.data,i.map((function(e){t.configs.push({parametro:e.parametro,valor:e.valor,texto:e.texto})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},selectProveedoresmotion:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.get("api/Proveedormotions/ListarProyecto/"+this.idproyecto,i).then((function(a){e=a.data,e.map((function(e){t.proveedormotions.push({text:e.itemorden+": "+e.itemes+" - "+e.razonsocial+"/"+e.cuit,iditem:e.iditem,tarifadiaria:e.tarifadiaria,value:e.idproveedormotion})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.selectProveedoresmotion(),this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idrealmotion=t.idrealmotion,this.idproveedormotion=t.idproveedormotion,this.dtdesde=t.dtdesde,this.fdesde=t.dtdesde.substr(0,10),this.tdesde=t.dtdesde.substr(11,5),this.dthasta=t.dthasta,this.fhasta=t.dthasta?t.dthasta.substr(0,10):t.dthasta,this.thasta=t.dthasta?t.dthasta.substr(11,5):t.dthasta,this.hhee=t.hhee,this.porhhee=t.porhhee,this.impbase=t.impbase,this.imphhee=t.imphhee,this.impjornada=t.impjornada,this.impjornadaadicional=t.impjornadaadicional,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto=""},limpiarDetail:function(){var t=new Date;this.idrealmotion="",this.idproveedormotion="",this.dtdesde=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),this.fdesde=this.dtdesde.substr(0,10),this.tdesde="00:00",this.dthasta=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString(),this.fhasta=this.dtdesde.substr(0,10),this.thasta="00:00",this.hhee=0,this.porhhee=0,this.impbase=0,this.imphhee=0,this.impjornada=0,this.impjornadaadicional=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1,this.searchp=""},guardar:function(){var t=this;if(t.calcularDerivados(),!this.validar()){var e=new Date,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};this.editedIndex>-1?W.a.put("api/Realmotions/Actualizar",{idrealmotion:t.idrealmotion,idproveedormotion:t.idproveedormotion,dtdesde:t.dtdesde,dthasta:t.dthasta,hhee:t.hhee,porhhee:t.porhhee,impbase:t.impbase,imphhee:t.imphhee,impjornada:t.impjornada,impjornadaadicional:t.impjornadaadicional,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.closeForm(),t.listarDetail(),t.limpiarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Realmotions/Crear",{idproveedormotion:t.idproveedormotion,dtdesde:t.dtdesde,dthasta:t.dthasta,hhee:t.hhee,porhhee:t.porhhee,impbase:t.impbase,imphhee:t.imphhee,impjornada:t.impjornada,impjornadaadicional:t.impjornadaadicional,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.closeForm(),t.listarDetail(),t.limpiarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},calcularDerivados:function(){var t=this,e=new Date(t.fdesde.concat("T").concat(t.tdesde)),a=new Date(t.fhasta.concat("T").concat(t.thasta));t.dtdesde=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString(),t.dthasta=new Date(a.getTime()-6e4*a.getTimezoneOffset()).toISOString();var i=(a.getTime()-e.getTime())/1e3/60/60;i<t.configs[8]["valor"]?(t.hhee=0,t.porhhee=0,t.imphhee=0):(t.hhee=i-t.configs[8]["valor"],t.imphhee=t.hhee*(t.impbase/t.configs[8]["valor"])*(1+t.porhhee/100)),t.impjornada=t.impbase+t.imphhee},validar:function(){return this.valida=0,this.validaMensaje=[],this.idproveedormotion||this.validaMensaje.push("Ingrese un Proveedor."),this.fdesde&&this.fhasta||this.validaMensaje.push("Complete las fechas de la actividad."),this.tdesde&&this.thasta||this.validaMensaje.push("Complete las horas de la actividad."),this.fdesde==this.fhasta?this.thasta<this.tdesde&&this.validaMensaje.push("Verifique el rango de horas."):this.fdesde!=this.fhasta&&this.thasta>=this.tdesde&&this.validaMensaje.push("El rango total entre fechas y horas excede un día completo."),this.porhhee||this.validaMensaje.push("Seleccione un Tipo de HHEE."),this.impjornadaadicional||(this.impjornadaadicional=0),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.itemorden+": "+e.itemes+"/"+e.razonsocial,this.adId=e.idrealmotion,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Realmotions/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Realmotions/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Vr=Pr,Fr=Object(b["a"])(Vr,Mr,wr,!1,null,null,null),Tr=Fr.exports;g()(Fr,{VAlert:Bi["a"],VAutocomplete:mt["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VTimePicker:cr["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Minimos SICA")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{label:"Asignación"},model:{value:t.asignacion,callback:function(e){t.asignacion=e},expression:"asignacion"}})],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-text-field",{attrs:{label:"Cargo"},model:{value:t.cargo,callback:function(e){t.cargo=e},expression:"cargo"}})],1),a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Base 8Hs",type:"number",prefix:"$"},model:{value:t.horas8,callback:function(e){t.horas8=e},expression:"horas8"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Cargo?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Cargo?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el ítem "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.sicas,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.idsica))]),a("td",[t._v(t._s(e.item.asignacion))]),a("td",[t._v(t._s(e.item.cargo))]),a("td",[t._v(t._s(t.formatPrice(e.item.horas8)))]),a("td",[t._v(t._s(t.formatPrice(e.item.extras4)))]),a("td",[t._v(t._s(t.formatPrice(e.item.total12)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))]),a("td",{staticClass:"justify-center layout px-0"},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Nr=[],zr={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Id",value:"idsica",sortable:!0},{text:"Asignacion",value:"asignacion"},{text:"Cargo",value:"cargo"},{text:"Base 8Hs",value:"horas8"},{text:"Extra 4Hs",value:"extra4"},{text:"Total 12Hs",value:"total12"},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0},{text:"Estado",value:"activo",sortable:!0}],search:"",editedIndex:-1,idsica:"",asignacion:"",cargo:"",horas8:0,extras4:0,total12:0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",sicas:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo cargo":"Actualizar cargo"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Sicas/Listar",a).then((function(e){t.sicas=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idsica=t.idsica,this.asignacion=t.asignacion,this.cargo=t.cargo,this.horas8=t.horas8,this.extras4=t.extras4,this.total12=t.total12,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.activo=t.activo,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idsica="",this.asignacion="",this.cargo="",this.horas8=0,this.extras4=0,this.total12=0,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.activo="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var i=this;W.a.put("api/Sicas/Actualizar",{idsica:i.idsica,asignacion:i.asignacion,cargo:i.cargo,horas8:i.horas8,extras4:.75*i.horas8,total12:1.75*i.horas8,iduseralta:i.iduseralta,fecalta:i.fecalta,iduserumod:i.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}else{var o=this;W.a.post("api/Sicas/Crear",{asignacion:o.asignacion,cargo:o.cargo,horas8:o.horas8,extras4:.75*o.horas8,total12:1.75*o.horas8,iduseralta:o.$store.state.usuario.idusuario,fecalta:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="Se detectó un error. Código: "+t.response.status,o.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.horas8<=0&&this.validaMensaje.push("Ingrese un valor positivo para de la jornada de 8Hs."),this.extras4<=0&&this.validaMensaje.push("Ingrese un valor positivo para de la extras de 4Hs."),this.total12<=0&&this.validaMensaje.push("Ingrese un valor positivo para de la jornada total de 12Hs."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.asignacion+" "+e.cargo,this.adId=e.idsica,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Sicas/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Sicas/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Br=zr,$r=Object(b["a"])(Br,Or,Nr,!1,null,null,null),Er=$r.exports;g()($r,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("\n                    Acceso al Sistema\n                ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.error?a("v-flex",{staticClass:"red--text"},[t._v("\n                    "+t._s(t.error)+"\n                ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.ingresar}},[t._v("Ingresar")])],1)],1)],1)],1)],1)},Lr=[],Ur={data:function(){return{email:"",password:"",error:null}},methods:{ingresar:function(){var t=this;this.error=null,W.a.post("api/Usuarios/Login",{email:this.email,password:this.password}).then((function(t){return t.data})).then((function(e){t.$store.dispatch("guardarToken",e.token),t.$router.push({name:"home"})})).catch((function(e){400==e.response.status?t.error="No es un email válido":404==e.response.status?t.error="No existe el usuario o sus datos son incorrectos":t.error="Ocurrió un error",console.log(e)}))}}},qr=Ur,Kr=Object(b["a"])(qr,Rr,Lr,!1,null,null,null),Gr=Kr.exports;g()(Kr,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VFlex:j["a"],VLayout:M["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Hr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Parametro")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Parametro",disabled:""},model:{value:t.parametro,callback:function(e){t.parametro=e},expression:"parametro"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Valor"},model:{value:t.valor,callback:function(e){t.valor=e},expression:"valor"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Texto"},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.gapconfigs,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")])],1),a("td",[t._v(t._s(e.item.parametro))]),a("td",[t._v(t._s(e.item.valor))]),a("td",[t._v(t._s(e.item.texto))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Yr=[],Wr={data:function(){return{snackbar:!1,snacktext:"",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Parametro",value:"parametro"},{text:"Valor",value:"valor"},{text:"Texto",value:"texto",sortable:!0}],search:"",editedIndex:-1,id:"",parametro:"",valor:"",texto:"",gapconfigs:[],valida:0,validaMensaje:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo parámetro":"Actualizar parámetro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Gapconfigs/Listar",a).then((function(e){t.gapconfigs=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.id=t.id,this.parametro=t.parametro,this.valor=t.valor,this.texto=t.texto,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.parametro="",this.valor="",this.texto="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Gapconfigs/Actualizar",{id:a.id,parametro:a.parametro,valor:a.valor,texto:a.texto},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Gapconfigs/Crear",{parametro:i.parametro,valor:i.valor,texto:i.texto},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],this.paramtro||this.valor||this.texto||this.validaMensaje.push("El formulario debe contener al menos un dato"),this.valida}}},Jr=Wr,Qr=Object(b["a"])(Jr,Hr,Yr,!1,null,null,null),Zr=Qr.exports;g()(Qr,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Control Presupuesto Vs Real")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Control Real vs Presupuesto del Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"PptoReal",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.controlproyectos},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.iditem)?[a("td",[t._v(t._s(e.item.proy))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.rubro))]),a("td",[t._v(t._s(e.item.subrubro))]),a("td",[t._v(t._s(e.item.item))]),a("td",[t._v(t._s(e.item.subitem))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.tipo))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))])]:void 0}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}],null,!0)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Presupuesto Vs (Real + Comp.): ")]),t._v("$ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},tn=[],en={data:function(){var t;return t={json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originalguid:"",guid:"",page:1,allitems:[],items:[],usuarioproyectos:[],proyectos:[],controlproyectos:[],proy:"",proyecto:"",rubro:"",subrubro:"",item:"",subitem:"",origen:"",tipo:"",importe:0,confidencial:!1,idproyecto:"",orden:""},Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"ars1usd",""),Object(Mi["a"])(t,"menu1",!1),Object(Mi["a"])(t,"menu2",!1),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Código",value:"proy",sortable:!0},{text:"Proyecto",value:"proyecto",sortable:!0},{text:"Rubro",value:"rubro",sortable:!0},{text:"Subrubro",value:"subrubro",sortable:!0},{text:"Item",value:"item",sortable:!0},{text:"Subitem",value:"subitem",sortable:!0},{text:"Origen",value:"origen",sortable:!0},{text:"Tipo",value:"tipo",sortable:!0},{text:"Importe",value:"importe",sortable:!0}]),Object(Mi["a"])(t,"totalPagado",0),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),t},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.controlproyectos.length;e++)t+=this.controlproyectos[e].importe;return t}},watch:{dialog:function(t){t||this.closeDetail()}},created:function(){this.select(),this.listarMaster()},methods:{crearXLS:function(){this.json_fields={"Código":"proy",Proyecto:"proyecto",Rubro:"rubro",Subrubro:"subrubro",Item:"item",Subitem:"subitem",Origen:"origen",Tipo:"tipo",Importe:"importe"},this.json_data=[];for(var t=0;t<this.controlproyectos.length;t++)for(var e=0;e<this.items.length;e++)if(this.items[e]["value"]===this.controlproyectos[t]["iditem"]){this.json_data.push(this.controlproyectos[t]);break}},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Presupuestos/Controlproyectodate/"+this.idproyecto,a).then((function(e){t.controlproyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[];W.a.get("api/Items/Select",a).then((function(e){i=e.data,i.map((function(e){t.allitems.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf,cuenta:e.cuentagcom})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/Select",a).then((function(e){o=e.data,o.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},filtrarItems:function(){var t=this,e=this;if(e.items=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.items=e.allitems.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.items=e.allitems},validateAccess:function(t){for(var e=!1,a=0;a<this.items.length;a++)if(this.items[a]["value"]===t){e=!0;break}return e},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.filtrarItems(),this.dialog=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.totalPagado=0},limpiarDetail:function(){this.idordenpago="",this.iditem="",this.idsubitem="",this.idproveedor="",this.idalternativapago="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.impsiniva="",this.importe="",this.fecpago="",this.cuentagcom="",this.pdfcomprobantefac="",this.pagado=!1,this.fecpagado="",this.pdfcomprobantepago="",this.pdfcertificado1="",this.pdfcertificado2="",this.pdfcertificado3="",this.pdfcertificado4="",this.notas="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0}}},an=en,on=Object(b["a"])(an,Xr,tn,!1,null,null,null),sn=on.exports;g()(on,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Control DxD Shooting")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Control DxD Shooting del Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"PptoReal",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.controlproyectos},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.iditem)?[a("td",[t._v(t._s(e.item.proy))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.rubro))]),a("td",[t._v(t._s(e.item.subrubro))]),a("td",[t._v(t._s(e.item.item))]),a("td",[t._v(t._s(e.item.subitem))]),a("td",[t._v(t._s(e.item.cargo))]),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.cuil))]),a("td",[t._v(t._s(e.item.fecha))]),a("td",[t._v(t._s(e.item.hsbase))]),a("td",[t._v(t._s(e.item.horas))]),a("td",[t._v(t._s(e.item.hsext))]),a("td",[t._v(t._s(e.item.hseng))]),a("td",[t._v(t._s(e.item.hsnoc))]),a("td",[t._v(t._s(e.item.impbruto))]),a("td",[t._v(t._s(e.item.impret))]),a("td",[t._v(t._s(e.item.impsac))]),a("td",[t._v(t._s(e.item.impvac))]),a("td",[t._v(t._s(e.item.impsacv))]),a("td",[t._v(t._s(e.item.impneto))]),a("td",[t._v(t._s(e.item.impcontr))]),a("td",[t._v(t._s(e.item.imptotal))])]:void 0}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}],null,!0)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total : ")]),t._v("$ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},nn=[],cn={data:function(){var t;return t={json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originalguid:"",guid:"",page:1,allitems:[],items:[],usuarioproyectos:[],proyectos:[],controlproyectos:[],proy:"",proyecto:"",rubro:"",subrubro:"",item:"",subitem:"",origen:"",tipo:"",importe:0,confidencial:!1,idproyecto:"",orden:""},Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"ars1usd",""),Object(Mi["a"])(t,"menu1",!1),Object(Mi["a"])(t,"menu2",!1),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Código",value:"proy",sortable:!0},{text:"Proyecto",value:"proyecto",sortable:!0},{text:"Rubro",value:"rubro",sortable:!0},{text:"Subrubro",value:"subrubro",sortable:!0},{text:"Item",value:"item",sortable:!0},{text:"Subitem",value:"subitem",sortable:!0},{text:"Cargo",value:"cargo",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"CUIL",value:"cuil",sortable:!0},{text:"Fecha",value:"fecha",sortable:!0},{text:"Hs.Base",value:"hsbase",sortable:!0},{text:"Hs.Normal",value:"horas",sortable:!0},{text:"Hs.Extra",value:"hsext",sortable:!0},{text:"Hs.Enganche",value:"hseng",sortable:!0},{text:"Hs.Nocturna",value:"hsnoc",sortable:!0},{text:"Imp.Bruto",value:"impbruto",sortable:!0},{text:"Imp.Retencion",value:"impret",sortable:!0},{text:"Imp.SAC",value:"impsac",sortable:!0},{text:"Imp.Vac.",value:"impvac",sortable:!0},{text:"Imp.S/Vac.",value:"impsacv",sortable:!0},{text:"Imp.Neto",value:"impneto",sortable:!0},{text:"Imp.Contr.",value:"impcontr",sortable:!0},{text:"Imp.Total",value:"imptotal",sortable:!0}]),Object(Mi["a"])(t,"totalPagado",0),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),t},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.controlproyectos.length;e++)t+=this.controlproyectos[e].imptotal;return t}},watch:{dialog:function(t){t||this.closeDetail()}},created:function(){this.select(),this.listarMaster()},methods:{crearXLS:function(){this.json_fields={"Código":"proy",Proyecto:"proyecto",Rubro:"rubro",Subrubro:"subrubro",Item:"item",Subitem:"subitem",Cargo:"cargo",Nombre:"nombre",CUIL:"cuil",Fecha:{field:"fecha",callback:function(t){return t.substr(0,10)}},"Hs.Base":"hsbase","Hs.Normal":"horas","Hs.Extra":"hsext","Hs.Enganche":"hseng","Hs.Nocturna":"hsnoc","Imp.Bruto":{field:"impbruto",callback:function(t){return t.toString().replace(".",",")}},"Imp.Retencion":{field:"impret",callback:function(t){return t.toString().replace(".",",")}},"Imp.SAC":{field:"impsac",callback:function(t){return t.toString().replace(".",",")}},"Imp.Vac.":{field:"impvac",callback:function(t){return t.toString().replace(".",",")}},"Imp.S/Vac.":{field:"impsacv",callback:function(t){return t.toString().replace(".",",")}},"Imp.Neto":{field:"impneto",callback:function(t){return t.toString().replace(".",",")}},"Imp.Contr.":{field:"impcontr",callback:function(t){return t.toString().replace(".",",")}},"Imp.Total":{field:"imptotal",callback:function(t){return t.toString().replace(".",",")}}},this.json_data=[];for(var t=0;t<this.controlproyectos.length;t++)for(var e=0;e<this.items.length;e++)if(this.items[e]["value"]===this.controlproyectos[t]["iditem"]){this.json_data.push(this.controlproyectos[t]);break}},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariovivo/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Realdxds/Controlshoot2date/"+this.idproyecto,a).then((function(e){t.controlproyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[];W.a.get("api/Items/Select",a).then((function(e){i=e.data,i.map((function(e){t.allitems.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf,cuenta:e.cuentagcom})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/Select",a).then((function(e){o=e.data,o.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},filtrarItems:function(){var t=this,e=this;if(e.items=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.items=e.allitems.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.items=e.allitems},validateAccess:function(t){for(var e=!1,a=0;a<this.items.length;a++)if(this.items[a]["value"]===t){e=!0;break}return e},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.filtrarItems(),this.dialog=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.totalPagado=0},limpiarDetail:function(){this.idordenpago="",this.iditem="",this.idsubitem="",this.idproveedor="",this.idalternativapago="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.impsiniva="",this.importe="",this.fecpago="",this.cuentagcom="",this.pdfcomprobantefac="",this.pagado=!1,this.fecpagado="",this.pdfcomprobantepago="",this.pdfcertificado1="",this.pdfcertificado2="",this.pdfcertificado3="",this.pdfcertificado4="",this.notas="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0}}},dn=cn,ln=Object(b["a"])(dn,rn,nn,!1,null,null,null),un=ln.exports;g()(ln,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Control de OP")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Control de OPs del Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"PptoReal",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.controlpagos},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.iditem)?[a("td",[t._v(t._s(e.item.proy))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.rubro))]),a("td",[t._v(t._s(e.item.subrubro))]),a("td",[t._v(t._s(e.item.item))]),a("td",[t._v(t._s(e.item.subitem))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.feccomprobante.substr(0,10)))]),a("td",[t._v(t._s(t.tipocomprobantes.find((function(t){return t.value===e.item.tipocomprobante})).text))]),a("td",[t._v(t._s(e.item.numcomprobante))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.impneto)))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.imptotal)))]),a("td",[t._v(t._s(e.item.fecpago.substr(0,10)))]),a("td",{staticClass:"justify-center"},[e.item.pagado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.forpago))]),a("td",[t._v(t._s(e.item.notas.substr(0,20)))]),a("td",[t._v(t._s(e.item.cuentagcom))])]:void 0}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}],null,!0)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total OPs : ")]),t._v(" $ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},pn=[],mn={data:function(){var t;return t={json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originalguid:"",guid:"",page:1,allitems:[],items:[],usuarioproyectos:[],proyectos:[],controlpagos:[],proy:"",proyecto:"",rubro:"",subrubro:"",item:"",subitem:"",origen:"",tipo:"",importe:0,confidencial:!1,idproyecto:"",orden:""},Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"ars1usd",""),Object(Mi["a"])(t,"menu1",!1),Object(Mi["a"])(t,"menu2",!1),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Código",value:"proy",sortable:!0},{text:"Proyecto",value:"proyecto",sortable:!0},{text:"Nombre del Rubro",value:"rubro",sortable:!0},{text:"Nombre del Subrubro",value:"subrubro",sortable:!0},{text:"Nombre del Item",value:"item",sortable:!0},{text:"Subitem",value:"subitem",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!0},{text:"Fecha Cbte",value:"feccomprobante",sortable:!0},{text:"Cbte",value:"tipocomprobante",sortable:!0},{text:"#Cbte",value:"numcomprobante",sortable:!0},{text:"Imp.Neto",value:"impneto",sortable:!0},{text:"Imp.Total",value:"imptotal",sortable:!0},{text:"Fecha Pago",value:"fecpago",sortable:!0},{text:"Pagado",value:"pagado",sortable:!0},{text:"Forma Pago",value:"forpago",sortable:!0},{text:"Notas",value:"notas",sortable:!0},{text:"CtaGcom",value:"cuentagcom",soteable:!0}]),Object(Mi["a"])(t,"totalPagado",0),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),Object(Mi["a"])(t,"tipocomprobantes",[{value:"01",text:"Fc A"},{value:"02",text:"Fc B"},{value:"03",text:"Tk A"},{value:"04",text:"Tk B"},{value:"05",text:"Fc C"},{value:"06",text:"Fc M"},{value:"07",text:"Otro"}]),t},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.controlpagos.length;e++)t+=this.controlpagos[e].imptotal;return t}},watch:{dialog:function(t){t||this.closeDetail()}},created:function(){this.select(),this.listarMaster()},methods:{crearXLS:function(){this.json_fields={"Código":"proy",Proyecto:"proyecto",Rubro:"rubro",Subrubro:"subrubro",Item:"item",Subitem:"subitem",Proveedor:"proveedor","Fecha Cbte":{field:"feccomprobante",callback:function(t){return t.substr(0,10)}},"Tipo Cbte":"tipocomprobante","Nro Cbte":"numcomprobante","Imp.Neto":{field:"impneto",callback:function(t){return t.toString().replace(".",",")}},"Imp.Total":{field:"imptotal",callback:function(t){return t.toString().replace(".",",")}},"Fecha Pago":{field:"fecpago",callback:function(t){return t.substr(0,10)}},"Pagado?":"pagado","Forma de Pago":"forpago","Fecha Pagado":{field:"fecpagado",callback:function(t){return t.substr(0,10)}},"Cta Gcom":"cuentagcom"},this.json_data=[];for(var t=0;t<this.controlpagos.length;t++)for(var e=0;e<this.items.length;e++)if(this.items[e]["value"]===this.controlpagos[t]["iditem"]){this.json_data.push(this.controlpagos[t]);break}},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Ordenpagos/Controlop2date/"+this.idproyecto,a).then((function(e){t.controlpagos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[];W.a.get("api/Items/Select",a).then((function(e){i=e.data,i.map((function(e){t.allitems.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf,cuenta:e.cuentagcom})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/Select",a).then((function(e){o=e.data,o.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},filtrarItems:function(){var t=this,e=this;if(e.items=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.items=e.allitems.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.items=e.allitems},validateAccess:function(t){for(var e=!1,a=0;a<this.items.length;a++)if(this.items[a]["value"]===t){e=!0;break}return e},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.filtrarItems(),this.dialog=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.totalPagado=0},limpiarDetail:function(){this.idordenpago="",this.iditem="",this.idsubitem="",this.idproveedor="",this.idalternativapago="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.impsiniva="",this.importe="",this.fecpago="",this.cuentagcom="",this.pdfcomprobantefac="",this.pagado=!1,this.fecpagado="",this.pdfcomprobantepago="",this.pdfcertificado1="",this.pdfcertificado2="",this.pdfcertificado3="",this.pdfcertificado4="",this.notas="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0}}},hn=mn,fn=Object(b["a"])(hn,vn,pn,!1,null,null,null),bn=fn.exports;g()(fn,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var xn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Control de Garantias")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Control de OPs del Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"PptoReal",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.controlgarantias},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.proy))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.numorden))]),a("td",[t._v(t._s(e.item.rubro))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))]),a("td",[t._v(t._s(e.item.detalle))]),a("td",[t._v(t._s(e.item.banco))]),a("td",[t._v(t._s(e.item.numcheque))]),a("td",[t._v(t._s(e.item.feccheque?e.item.feccheque.substr(0,10):""))]),a("td",[t._v(t._s(e.item.fecvencimiento?e.item.fecvencimiento.substr(0,10):""))]),a("td",{staticClass:"justify-center"},[e.item.entregado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",{staticClass:"justify-center"},[e.item.rendido?a("div",[a("span",{staticClass:"blue--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.fhrendido?e.item.fhrendido.substr(0,16):""))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v(" Total Entregado : ")]),t._v(" $ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v(" Pendiente : ")]),t._v(" $ "+t._s(t.totalPendiente=t.calcularPendiente.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},gn=[],_n={data:function(){var t;return t={json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originalguid:"",guid:"",page:1,items:[],subitems:[],proveedores:[],proyectos:[],controlgarantias:[],proy:"",proyecto:"",rubro:"",subrubro:"",item:"",subitem:"",origen:"",tipo:"",importe:0,confidencial:!1,idproyecto:"",orden:""},Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"ars1usd",""),Object(Mi["a"])(t,"menu1",!1),Object(Mi["a"])(t,"menu2",!1),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Código",value:"proy",sortable:!0},{text:"Proyecto",value:"proyecto",sortable:!0},{text:"#Id",value:"numorden",sortable:!0},{text:"Descripcion del Rubro",value:"rubro",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!0},{text:"Importe",value:"importe",sortable:!0},{text:"Detalle / Descripción",value:"detalle",sortable:!0},{text:"Banco",value:"banco",sortable:!0},{text:"Nro. Cheque",value:"numcheque",sortable:!0},{text:"Fecha Cheque",value:"feccheque",sortable:!0},{text:"Vencimiento",value:"fecvencimiento",sortable:!0},{text:"Entregado",value:"entregado",sortable:!0},{text:"Rendido",value:"rendido",sortable:!0},{text:"Fecha Hora de Rendicion",value:"fhrendido",sortable:!0}]),Object(Mi["a"])(t,"totalPagado",0),Object(Mi["a"])(t,"totalPendiente",0),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),t},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.controlgarantias.length;e++)t+=this.controlgarantias[e].entregado?this.controlgarantias[e].importe:0;return t},calcularPendiente:function(){for(var t=0,e=0;e<this.controlgarantias.length;e++)t+=this.controlgarantias[e].entregado&&!this.controlgarantias[e].rendido?this.controlgarantias[e].importe:0;return t}},watch:{dialog:function(t){t||this.closeDetail()}},created:function(){this.listarMaster()},methods:{crearXLS:function(){this.json_fields={"Código":"proy",Proyecto:"proyecto",Rubro:"rubro",Proveedor:"proveedor",Importe:{field:"importe",callback:function(t){return t.toString().replace(".",",")}},Detalle:"detalle",Banco:"banco","Nro Cheque":"numcheque","Fecha Cheque":{field:"feccheque",callback:function(t){return t.substr(0,10)}},Vencimiento:"fecvencimiento","Nro Cbte":"numcomprobante","Entregado?":"entregado","Rendido?":"rendido","Fecha Hora rendicion":"fhrendido"},this.json_data=this.controlgarantias},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Garantias/Controlgarantia2date/"+this.idproyecto,a).then((function(e){t.controlgarantias=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idordenpago=t.idordenpago,this.idproyecto=t.idproyecto,this.iditem=t.iditem,this.selectSubitems(),this.idsubitem=t.idsubitem,this.idproveedor=t.idproveedor,this.idalternativapago=t.idalternativapago,this.tipocomprobante=t.tipocomprobante,this.numcomprobante=t.numcomprobante,this.feccomprobante=t.feccomprobante.substr(0,10),this.impsiniva=t.impsiniva,this.importe=t.importe,this.fecpago=t.fecpago.substr(0,10),this.cuentagcom=this.items.find((function(e){return e.value===t.iditem})).cuenta,this.pdfcomprobantefac=t.pdfcomprobantefac,this.originalfacguid=t.pdfcomprobantefac,this.pdfcomprobantepago=t.pdfcomprobantepago,this.pdfcertificado1=t.pdfcertificado1,this.pdfcertificado2=t.pdfcertificado2,this.pdfcertificado3=t.pdfcertificado3,this.pdfcertificado4=t.pdfcertificado4,this.pagado=t.pagado,this.fecpagado=t.fecpagado,this.notas=t.notas,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.onDownload(this.pdfcomprobantefac),this.editedIndex=1},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.totalPagado=0,this.totalPendiente=0},limpiarDetail:function(){this.idordenpago="",this.iditem="",this.idsubitem="",this.idproveedor="",this.idalternativapago="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.impsiniva="",this.importe="",this.fecpago="",this.cuentagcom="",this.pdfcomprobantefac="",this.pagado=!1,this.fecpagado="",this.pdfcomprobantepago="",this.pdfcertificado1="",this.pdfcertificado2="",this.pdfcertificado3="",this.pdfcertificado4="",this.notas="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0,this.totalPendiente=0}}},kn=_n,Cn=Object(b["a"])(kn,xn,gn,!1,null,null,null),yn=Cn.exports;g()(Cn,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var An=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Control de Pedidos y Rendiciones de Fondos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Control de Pedidos/Rendiciones del Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"PptoReal",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.controlrendiciones},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.idsubrubro)?[a("td",[t._v(t._s(e.item.proy))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.numpedido))]),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.origen))]),a("td",[t._v(t._s(e.item.rubro))]),a("td",[t._v(t._s(e.item.subrubro))]),a("td",[t._v(t._s(e.item.item))]),a("td",[t._v(t._s(e.item.subitem))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.importe)))])]:void 0}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}],null,!0)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total : ")]),t._v(" $ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Dn=[],jn={data:function(){var t;return t={json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originalguid:"",guid:"",page:1,allsubrubros:[],subrubros:[],usuarioproyectos:[],proyectos:[],controlrendiciones:[],proy:"",proyecto:"",rubro:"",subrubro:"",item:"",subitem:"",origen:"",tipo:"",importe:0,confidencial:!1,idproyecto:"",orden:""},Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"ars1usd",""),Object(Mi["a"])(t,"menu1",!1),Object(Mi["a"])(t,"menu2",!1),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Código",value:"proy",sortable:!0},{text:"Proyecto",value:"proyecto",sortable:!0},{text:"#Pedido",value:"numpedido",sortable:!0},{text:"Responsable",value:"nombre",sortable:!0},{text:"Origen",value:"origen",sortable:!0},{text:"Rubro",value:"rubro",sortable:!0},{text:"Subrubro",value:"subrubro",sortable:!0},{text:"Item",value:"item",sortable:!0},{text:"Subitem",value:"subitem",sortable:!0},{text:"Importe",value:"importe",sortable:!0}]),Object(Mi["a"])(t,"totalPagado",0),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),Object(Mi["a"])(t,"tipocomprobantes",[{value:"01",text:"Fc A"},{value:"02",text:"Fc B"},{value:"03",text:"Tk A"},{value:"04",text:"Tk B"},{value:"05",text:"Fc C"},{value:"06",text:"Fc M"},{value:"07",text:"Otro"}]),t},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.controlrendiciones.length;e++)t+=this.controlrendiciones[e].importe;return t}},watch:{dialog:function(t){t||this.closeDetail()}},created:function(){this.select(),this.listarMaster()},methods:{crearXLS:function(){this.json_fields={"Código":"proy",Proyecto:"proyecto","#Pedido":"numpedido",Responsable:"nombre",Origen:"origen",Rubro:"rubro",Subrubro:"subrubro",Item:"item",Subitem:"subitem",Importe:{field:"importe",callback:function(t){return t.toString().replace(".",",")}}},this.json_data=this.controlrendiciones},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i={Authorization:"Bearer "+this.$store.state.token},o={headers:i};W.a.get("api/Subrubros/Select",o).then((function(a){e=a.data,e.map((function(e){t.allsubrubros.push({text:e.subrubro,value:e.idsubrubro,post:e.post,vivo:e.vivo,conf:e.conf})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/SelectDeUsuario/"+t.$store.state.usuario.idusuario,o).then((function(e){a=e.data,a.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},filtrarSubrubros:function(){var t=this,e=this;if(e.subrubros=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.subrubros=e.allsubrubros.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.subrubros=e.allsubrubros},validateAccess:function(t){for(var e=!1,a=0;a<this.subrubros.length;a++)if(this.subrubros[a]["value"]===t){e=!0;break}return e},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Rendicionfondos/Controlrendicion2date/"+this.idproyecto,a).then((function(e){t.controlrendiciones=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.filtrarSubrubros(),this.dialog=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.totalPagado=0}}},Sn=jn,In=Object(b["a"])(Sn,An,Dn,!1,null,null,null),Mn=In.exports;g()(In,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Control Post")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Control DxD Shooting del Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"PptoReal",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.controlproyectos},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.iditem)?[a("td",[t._v(t._s(e.item.proy))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.rubro))]),a("td",[t._v(t._s(e.item.subrubro))]),a("td",[t._v(t._s(e.item.item))]),a("td",[t._v(t._s(e.item.subitem))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.cuit))]),a("td",[t._v(t._s(e.item.fecha))]),a("td",[t._v(t._s(e.item.hhee))]),a("td",[t._v(t._s(e.item.porhhee))]),a("td",[t._v(t._s(e.item.impbase))]),a("td",[t._v(t._s(e.item.imphhee))]),a("td",[t._v(t._s(e.item.impjorn))]),a("td",[t._v(t._s(e.item.impadic))]),a("td",[t._v(t._s(e.item.imptotal))])]:void 0}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}],null,!0)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total : ")]),t._v("$ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Pn=[],Vn={data:function(){var t;return t={json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originalguid:"",guid:"",page:1,allitems:[],items:[],usuarioproyectos:[],proyectos:[],controlproyectos:[],proy:"",proyecto:"",rubro:"",subrubro:"",item:"",subitem:"",proveedor:"",cuit:"",fecha:"",hhee:"",porhhee:"",impbase:0,imphhee:0,impjorn:0,impadic:0,imptotal:0,idproyecto:"",orden:""},Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"ars1usd",""),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Código",value:"proy",sortable:!0},{text:"Proyecto",value:"proyecto",sortable:!0},{text:"Rubro",value:"rubro",sortable:!0},{text:"Subrubro",value:"subrubro",sortable:!0},{text:"Item",value:"item",sortable:!0},{text:"Subitem",value:"subitem",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!1},{text:"CUIT",value:"cuit",sortable:!0},{text:"Fecha",value:"fecha",sortable:!0},{text:"# HHEE",value:"hhee",sortable:!0},{text:"% HHEE",value:"porhhee",sortable:!0},{text:"Imp. Base",value:"impbase",sortable:!0},{text:"Imp. HHEE",value:"imphhee",sortable:!0},{text:"Imp. Jornada",value:"impjorn",sortable:!0},{text:"Imp. Adic.",value:"impadic",sortable:!0},{text:"Imp.Total",value:"imptotal",sortable:!0}]),Object(Mi["a"])(t,"totalPagado",0),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),t},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.controlproyectos.length;e++)t+=this.controlproyectos[e].imptotal;return t}},watch:{dialog:function(t){t||this.closeDetail()}},created:function(){this.select(),this.listarMaster()},methods:{crearXLS:function(){this.json_fields={"Código":"proy",Proyecto:"proyecto",Rubro:"rubro",Subrubro:"subrubro",Item:"item",Subitem:"subitem",Proveedor:"proveedor",CUIT:"cuit",Fecha:{field:"fecha",callback:function(t){return t.substr(0,10)}},"# HHEE":"hhee","% HHEE":"porhhee","Imp.Base":{field:"impbase",callback:function(t){return t.toString().replace(".",",")}},"Imp.HHEE":{field:"imphhee",callback:function(t){return t.toString().replace(".",",")}},"Imp.Adic":{field:"impadic",callback:function(t){return t.toString().replace(".",",")}},"Imp.Total":{field:"imptotal",callback:function(t){return t.toString().replace(".",",")}}},this.json_data=[];for(var t=0;t<this.controlproyectos.length;t++)for(var e=0;e<this.items.length;e++)if(this.items[e]["value"]===this.controlproyectos[t]["iditem"]){this.json_data.push(this.controlproyectos[t]);break}},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariopost/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[];W.a.get("api/Items/Select",a).then((function(e){i=e.data,i.map((function(e){t.allitems.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf,cuenta:e.cuentagcom})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/Select",a).then((function(e){o=e.data,o.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},filtrarItems:function(){var t=this,e=this;if(e.items=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.items=e.allitems.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.items=e.allitems},validateAccess:function(t){for(var e=!1,a=0;a<this.items.length;a++)if(this.items[a]["value"]===t){e=!0;break}return e},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Realposts/Controlpost2date/"+this.idproyecto,a).then((function(e){t.controlproyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.filtrarItems(),this.dialog=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.totalPagado=0}}},Fn=Vn,Tn=Object(b["a"])(Fn,wn,Pn,!1,null,null,null),On=Tn.exports;g()(Tn,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Control Motion")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Control DxD Shooting del Proyecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"PptoReal",type:"xls",name:"GAPdata.xls"}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v("Exportar XLS")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.controlmotions},scopedSlots:t._u([{key:"items",fn:function(e){return t.validateAccess(e.item.iditem)?[a("td",[t._v(t._s(e.item.proy))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.rubro))]),a("td",[t._v(t._s(e.item.subrubro))]),a("td",[t._v(t._s(e.item.item))]),a("td",[t._v(t._s(e.item.subitem))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.cuit))]),a("td",[t._v(t._s(e.item.fecha))]),a("td",[t._v(t._s(e.item.hhee))]),a("td",[t._v(t._s(e.item.porhhee))]),a("td",[t._v(t._s(e.item.impbase))]),a("td",[t._v(t._s(e.item.imphhee))]),a("td",[t._v(t._s(e.item.impjorn))]),a("td",[t._v(t._s(e.item.impadic))]),a("td",[t._v(t._s(e.item.imptotal))])]:void 0}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}],null,!0)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total : ")]),t._v("$ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proyectos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.tipoprod))]),a("td",[t._v(t._s(e.item.fecadjudicacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},zn=[],Bn={data:function(){var t;return t={json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originalguid:"",guid:"",page:1,allitems:[],items:[],usuarioproyectos:[],proyectos:[],controlmotions:[],proy:"",proyecto:"",rubro:"",subrubro:"",item:"",subitem:"",proveedor:"",cuit:"",fecha:"",hhee:"",porhhee:"",impbase:0,imphhee:0,impjorn:0,impadic:0,imptotal:0,idproyecto:"",orden:""},Object(Mi["a"])(t,"proyecto",""),Object(Mi["a"])(t,"producto",""),Object(Mi["a"])(t,"fecadjudicacion",""),Object(Mi["a"])(t,"ars1usd",""),Object(Mi["a"])(t,"dialog",!1),Object(Mi["a"])(t,"headers",[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Proyecto",value:"orden",sortable:!0},{text:"Nombre del Proyecto",value:"proyecto",sortable:!0},{text:"Tipo de producción",value:"tipoprod",sortable:!0},{text:"Fecha Adjudicación",value:"fecadjudicacion",sortable:!0},{text:"Tipo de cambio",value:"ars1usd",sortable:!0}]),Object(Mi["a"])(t,"headersDetalle",[{text:"Código",value:"proy",sortable:!0},{text:"Proyecto",value:"proyecto",sortable:!0},{text:"Rubro",value:"rubro",sortable:!0},{text:"Subrubro",value:"subrubro",sortable:!0},{text:"Item",value:"item",sortable:!0},{text:"Subitem",value:"subitem",sortable:!0},{text:"Nombre del Proveedor",value:"proveedor",sortable:!1},{text:"CUIT",value:"cuit",sortable:!0},{text:"Fecha",value:"fecha",sortable:!0},{text:"# HHEE",value:"hhee",sortable:!0},{text:"% HHEE",value:"porhhee",sortable:!0},{text:"Imp. Base",value:"impbase",sortable:!0},{text:"Imp. HHEE",value:"imphhee",sortable:!0},{text:"Imp. Jornada",value:"impjorn",sortable:!0},{text:"Imp. Adic.",value:"impadic",sortable:!0},{text:"Imp.Total",value:"imptotal",sortable:!0}]),Object(Mi["a"])(t,"totalPagado",0),Object(Mi["a"])(t,"search",""),Object(Mi["a"])(t,"editedIndex",-1),Object(Mi["a"])(t,"valida",0),Object(Mi["a"])(t,"validaMensaje",[]),Object(Mi["a"])(t,"adAccion",0),Object(Mi["a"])(t,"adNombre",""),Object(Mi["a"])(t,"adId",""),t},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.controlmotions.length;e++)t+=this.controlmotions[e].imptotal;return t}},watch:{dialog:function(t){t||this.closeDetail()}},created:function(){this.select(),this.listarMaster()},methods:{crearXLS:function(){this.json_fields={"Código":"proy",Proyecto:"proyecto",Rubro:"rubro",Subrubro:"subrubro",Item:"item",Subitem:"subitem",Proveedor:"proveedor",CUIT:"cuit",Fecha:{field:"fecha",callback:function(t){return t.substr(0,10)}},"# HHEE":"hhee","% HHEE":"porhhee","Imp.Base":{field:"impbase",callback:function(t){return t.toString().replace(".",",")}},"Imp.HHEE":{field:"imphhee",callback:function(t){return t.toString().replace(".",",")}},"Imp.Adic":{field:"impadic",callback:function(t){return t.toString().replace(".",",")}},"Imp.Total":{field:"imptotal",callback:function(t){return t.toString().replace(".",",")}}},this.json_data=[];for(var t=0;t<this.controlmotions.length;t++)for(var e=0;e<this.items.length;e++)if(this.items[e]["value"]===this.controlmotions[t]["iditem"]){this.json_data.push(this.controlmotions[t]);break}},formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/ListarActivos",a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):"ExecutiveProducer"==this.$store.state.usuario.rol?W.a.get("api/Proyectos/Listaractivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Proyectos/Listaractivosusuariovivo/"+t.$store.state.usuario.idusuario,a).then((function(e){t.proyectos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[],o=[];W.a.get("api/Items/Select",a).then((function(e){i=e.data,i.map((function(e){t.allitems.push({text:e.item,value:e.iditem,vivo:e.vivo,post:e.post,conf:e.conf,cuenta:e.cuentagcom})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Usuarioproyectos/Select",a).then((function(e){o=e.data,o.map((function(e){t.usuarioproyectos.push({idusuarioproyecto:e.idusuarioproyecto,idusuario:e.idusuario,idproyecto:e.idproyecto,vivo:e.vivo,post:e.post,confidencial:e.confidencial})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},filtrarItems:function(){var t=this,e=this;if(e.items=[],"AsistProduccion"==this.$store.state.usuario.rol||"ChiefProducer"==this.$store.state.usuario.rol||"LineProducer"==this.$store.state.usuario.rol||"AsistGeneral"==this.$store.state.usuario.rol){var a=+e.$store.state.usuario.idusuario,i=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["post"],o=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["vivo"],s=e.usuarioproyectos.find((function(e){return e.idproyecto===t.idproyecto&&e.idusuario===a}))["confidencial"];e.items=e.allitems.filter((function(t){return!1===t.post&&!1===t.vivo&&!1===t.conf||!0===t.post&&t.post===i||!0===t.vivo&&t.vivo===o||!0===t.conf&&t.conf===s}))}else e.items=e.allitems},validateAccess:function(t){for(var e=!1,a=0;a<this.items.length;a++)if(this.items[a]["value"]===t){e=!0;break}return e},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Realmotions/Controlmotion2date/"+this.idproyecto,a).then((function(e){t.controlmotions=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.idproyecto=t.idproyecto,this.orden=t.orden,this.proyecto=t.proyecto,this.producto=t.producto,this.fecadjudicacion=t.fecadjudicacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.filtrarItems(),this.dialog=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},limpiarMaster:function(){this.idproyecto="",this.orden="",this.proyecto="",this.producto="",this.fecadjudicacion="",this.ars1usd="",this.totalPagado=0}}},$n=Bn,En=Object(b["a"])($n,Nn,zn,!1,null,null,null),Rn=En.exports;g()(En,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Overs - Prospectos Aprobados")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Overs para Prospecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"800px",persistent:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"#Secuencia",disabled:""},model:{value:t.numover,callback:function(e){t.numover=e},expression:"numover"}})],1),[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Over","prepend-icon":"event",readonly:""},model:{value:t.fecover,callback:function(e){t.fecover=e},expression:"fecover"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.fecover,callback:function(e){t.fecover=e},expression:"fecover"}})],1)],1)],a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Importe"},model:{value:t.impover,callback:function(e){t.impover=e},expression:"impover"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileSelected(e.target.files)}}})]),a("v-btn",{on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("Buscar")]),a("v-btn",{on:{click:function(e){return t.onSaveAs(t.pdfover)}}},[t._v("Desc Over")])],1)]),a("v-flex",{attrs:{xs12:""}},[a("div",[a("canvas",{staticStyle:{border:"1px  solid black"},attrs:{id:"the-canvas"}})])]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.nota,callback:function(e){t.nota=e},expression:"nota"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar el Over?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar el Over?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                el Over "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.overs},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),"Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol?a("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n                                delete\n                                ")]):t._e(),[e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                        block\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                        check\n                                        ")])]]],2),a("td",[t._v(t._s(e.item.idover))]),a("td",[t._v(t._s(e.item.numover))]),a("td",[t._v(t._s(e.item.fecover?e.item.fecover.substr(0,10):""))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.impover)))]),a("td",[t._v(t._s(e.item.pdfover))]),a("td",[t._v(t._s(e.item.nota?e.item.nota.substr(0,20):""))]),a("td",{staticClass:"justify-center "},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta?e.item.fecalta.substr(0,16):""))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod?e.item.fecumod.substr(0,16):""))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Ordenes: ")]),t._v("$ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.limbos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.fecaprobacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Un=[],qn={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originaloverguid:"",guid:"",page:1,limbos:[],overs:[],idover:"",numover:"",fecover:"",impover:"",pdfover:"",nota:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idlimbo:"",orden:"",proyecto:"",cliente:"",ep:"",fecaprobacion:"",ars1usd:"",menu1:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Nombre del Proyecto",value:"proyecto"},{text:"Nombre del Cliente",value:"cliente"},{text:"Executive Producer",value:"ep"},{text:"Fecha de Aprobación",value:"fecaprobacion"},{text:"ARS/USD",value:"ars1usd",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Id",value:"idover",sortable:!0},{text:"#Sec",value:"numover",sortable:!0},{text:"Fecha Registro",value:"fecover",sortable:!0},{text:"Importe",value:"impover",sortable:!0},{text:"PDF",value:"pdfover",sortable:!0},{text:"Nota",value:"nota",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],totalPagado:0,search:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Over":"Actualizar Over"},calcularTotal:function(){for(var t=0,e=0;e<this.overs.length;e++)t+=this.overs[e].activo?this.overs[e].impover:0;return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Limbos/ListarAprobados",a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Limbos/ListarAprobadosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Overs/ListarLimbo/"+this.idlimbo,a).then((function(e){t.overs=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){this.$store.state.token},editMasterItem:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.cliente=t.cliente,this.ep=t.ep,this.fecaprobacion=t.fecaprobacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idover=t.idover,this.numover=t.numover,this.fecover=t.fecover?t.fecover.substr(0,10):"",this.impover=t.impover,this.pdfover=t.pdfover,this.originaloverguid=t.pdfover,this.nota=t.nota,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.onDownload(this.pdfover),this.editedIndex=1,this.dialogForm=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var i={Authorization:"Bearer "+e.$store.state.token},o={headers:i};W.a.delete("api/Overs/Eliminar/"+t.idover,o).then((function(t){e.closeForm(),e.limpiarDetail(),e.listarDetail()})).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}))}},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idover="",this.orden="",this.proyecto="",this.cliente="",this.ep="",this.fecaprobacion="",this.ars1usd="",this.totalPagado=0},limpiarDetail:function(){this.idover="",this.numover="",this.fecover="",this.impover="",this.pdfover="",this.nota="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0,this.editedIndex=-1,this.onClear()},guardar:function(){if(!this.validar()){var t=this,e=new Date,a={Authorization:"Bearer "+t.$store.state.token},i={headers:a};t.editedIndex>-1?(t.pdfover&&t.originaloverguid!=t.pdfover&&(t.onDelete(t.originaloverguid),t.originaloverguid="",t.onUpload()),W.a.put("api/Overs/Actualizar",{idover:t.idover,fecover:t.fecover.substr(0,10),impover:t.impover,pdfover:t.pdfover,nota:t.nota,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))):(this.onUpload(),W.a.post("api/Overs/Crear",{idlimbo:t.idlimbo,fecover:t.fecover.substr(0,10),impover:t.impover,pdfover:t.pdfover,nota:t.nota,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.fecover||this.validaMensaje.push("Ingrese una fecha."),this.impover||this.validaMensaje.push("Ingrese un importe."),!this.impover>0&&this.validaMensaje.push("El importe debe ser positivo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre="#"+e.numover+" "+e.fecover.substr(0,10)+" $ "+e.impover,this.adId=e.idover,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Overs/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Overs/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},onFileSelected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guid=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfover=this.guid,this.fd.append("file",e,this.guid);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onUpload:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fd,a).then((function(t){console.log(t.data),i.fd=new FormData})).catch((function(t){i.fd=new FormData,i.dialog=!1,i.guid="",i.pdfover="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDownload:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Express/DownloadFile/"+t,a).then((function(t){var e=atob(t.data),a=Go.a.getDocument({data:e});a.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))})).catch((function(t){console.log(t)}))},onSaveAs:function(t){var e={Authorization:"Bearer "+this.$store.state.token},i={headers:e};W.a.get("api/Express/DownloadFile/"+t,i).then((function(t){for(var e=a("76e9"),i=atob(t.data),o=new Array(i.length),s=0;s<i.length;s++)o[s]=i.charCodeAt(s);var r=new Uint8Array(o),n=new Blob([r],{type:"application/pdf"});e.saveAs(n,"Export.pdf")}))},onClear:function(){var t=document.getElementById("the-canvas"),e=t.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)},onDelete:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.delete("api/Express/DeleteFile/"+t,a).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))}}},Kn=qn,Gn=Object(b["a"])(Kn,Ln,Un,!1,null,null,null),Hn=Gn.exports;g()(Gn,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Director's fees - Prospectos Aprobados")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Director's fees para Prospecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"800px",persistent:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"#Secuencia",disabled:""},model:{value:t.numdirfee,callback:function(e){t.numdirfee=e},expression:"numdirfee"}})],1),[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Fee","prepend-icon":"event",readonly:""},model:{value:t.fecdirfee,callback:function(e){t.fecdirfee=e},expression:"fecdirfee"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.fecdirfee,callback:function(e){t.fecdirfee=e},expression:"fecdirfee"}})],1)],1)],a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Importe"},model:{value:t.impdirfee,callback:function(e){t.impdirfee=e},expression:"impdirfee"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileSelected(e.target.files)}}})]),a("v-btn",{on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("Buscar")]),a("v-btn",{on:{click:function(e){return t.onSaveAs(t.pdfdirfee)}}},[t._v("Desc Fee")])],1)]),a("v-flex",{attrs:{xs12:""}},[a("div",[a("canvas",{staticStyle:{border:"1px  solid black"},attrs:{id:"the-canvas"}})])]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.nota,callback:function(e){t.nota=e},expression:"nota"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar el Fee?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar el Fee?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                el Fee "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.dirfees},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),"Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol?a("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n                                delete\n                                ")]):t._e(),[e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                        block\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                        check\n                                        ")])]]],2),a("td",[t._v(t._s(e.item.iddirfee))]),a("td",[t._v(t._s(e.item.numdirfee))]),a("td",[t._v(t._s(e.item.fecdirfee?e.item.fecdirfee.substr(0,10):""))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.impdirfee)))]),a("td",[t._v(t._s(e.item.pdfdirfee))]),a("td",[t._v(t._s(e.item.nota?e.item.nota.substr(0,20):""))]),a("td",{staticClass:"justify-center "},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta?e.item.fecalta.substr(0,16):""))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod?e.item.fecumod.substr(0,16):""))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Ordenes: ")]),t._v("$ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.limbos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.fecaprobacion.substr(0,10)))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},Wn=[],Jn={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originaldirfeeguid:"",guid:"",page:1,limbos:[],dirfees:[],iddirfee:"",numdirfee:"",fecdirfee:"",impdirfee:"",pdfdirfee:"",nota:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idlimbo:"",orden:"",proyecto:"",cliente:"",ep:"",fecaprobacion:"",ars1usd:"",menu1:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Nombre del Proyecto",value:"proyecto"},{text:"Nombre del Cliente",value:"cliente"},{text:"Executive Producer",value:"ep"},{text:"Fecha de Aprobación",value:"fecaprobacion"},{text:"ARS/USD",value:"ars1usd",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Id",value:"iddirfee",sortable:!0},{text:"#Sec",value:"numdirfee",sortable:!0},{text:"Fecha Registro",value:"fecdirfee",sortable:!0},{text:"Importe",value:"impdirfee",sortable:!0},{text:"PDF",value:"pdfdirfee",sortable:!0},{text:"Nota",value:"nota",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],totalPagado:0,search:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Fee":"Actualizar Fee"},calcularTotal:function(){for(var t=0,e=0;e<this.dirfees.length;e++)t+=this.dirfees[e].activo?this.dirfees[e].impdirfee:0;return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Limbos/ListarAprobados",a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Limbos/ListarAprobadosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Dirfees/ListarLimbo/"+this.idlimbo,a).then((function(e){t.dirfees=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){this.$store.state.token},editMasterItem:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.cliente=t.cliente,this.ep=t.ep,this.fecaprobacion=t.fecaprobacion.substr(0,10),this.ars1usd=t.ars1usd,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.iddirfee=t.iddirfee,this.numdirfee=t.numdirfee,this.fecdirfee=t.fecdirfee?t.fecdirfee.substr(0,10):"",this.impdirfee=t.impdirfee,this.pdfdirfee=t.pdfdirfee,this.originaldirfeeguid=t.pdfdirfee,this.nota=t.nota,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.onDownload(this.pdfdirfee),this.editedIndex=1,this.dialogForm=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var i={Authorization:"Bearer "+e.$store.state.token},o={headers:i};W.a.delete("api/Dirfees/Eliminar/"+t.iddirfee,o).then((function(t){e.closeForm(),e.limpiarDetail(),e.listarDetail()})).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}))}},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.iddirfee="",this.orden="",this.proyecto="",this.cliente="",this.ep="",this.fecaprobacion="",this.ars1usd="",this.totalPagado=0},limpiarDetail:function(){this.iddirfee="",this.numdirfee="",this.fecdirfee="",this.impdirfee="",this.pdfdirfee="",this.nota="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0,this.editedIndex=-1,this.onClear()},guardar:function(){if(!this.validar()){var t=this,e=new Date,a={Authorization:"Bearer "+t.$store.state.token},i={headers:a};t.editedIndex>-1?(t.pdfdirfee&&t.originaldirfeeguid!=t.pdfdirfee&&(t.onDelete(t.originaldirfeeguid),t.originaldirfeeguid="",t.onUpload()),W.a.put("api/Dirfees/Actualizar",{iddirfee:t.iddirfee,fecdirfee:t.fecdirfee.substr(0,10),impdirfee:t.impdirfee,pdfdirfee:t.pdfdirfee,nota:t.nota,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))):(this.onUpload(),W.a.post("api/Dirfees/Crear",{idlimbo:t.idlimbo,fecdirfee:t.fecdirfee.substr(0,10),impdirfee:t.impdirfee,pdfdirfee:t.pdfdirfee,nota:t.nota,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.fecdirfee||this.validaMensaje.push("Ingrese una fecha."),this.impdirfee||this.validaMensaje.push("Ingrese un importe."),!this.impdirfee>0&&this.validaMensaje.push("El importe debe ser positivo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre="#"+e.numdirfee+" "+e.fecdirfee.substr(0,10)+" $ "+e.impdirfee,this.adId=e.iddirfee,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Dirfees/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Dirfees/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},onFileSelected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guid=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfdirfee=this.guid,this.fd.append("file",e,this.guid);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onUpload:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fd,a).then((function(t){console.log(t.data),i.fd=new FormData})).catch((function(t){i.fd=new FormData,i.dialog=!1,i.guid="",i.pdfdirfee="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDownload:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Express/DownloadFile/"+t,a).then((function(t){var e=atob(t.data),a=Go.a.getDocument({data:e});a.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))})).catch((function(t){console.log(t)}))},onSaveAs:function(t){var e={Authorization:"Bearer "+this.$store.state.token},i={headers:e};W.a.get("api/Express/DownloadFile/"+t,i).then((function(t){for(var e=a("76e9"),i=atob(t.data),o=new Array(i.length),s=0;s<i.length;s++)o[s]=i.charCodeAt(s);var r=new Uint8Array(o),n=new Blob([r],{type:"application/pdf"});e.saveAs(n,"Export.pdf")}))},onClear:function(){var t=document.getElementById("the-canvas"),e=t.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)},onDelete:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.delete("api/Express/DeleteFile/"+t,a).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))}}},Qn=Jn,Zn=Object(b["a"])(Qn,Yn,Wn,!1,null,null,null),Xn=Zn.exports;g()(Zn,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var tc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Registro de Pitches - Prospectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Regpitchs para Prospecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"800px",persistent:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"#Secuencia",disabled:""},model:{value:t.numregpitch,callback:function(e){t.numregpitch=e},expression:"numregpitch"}})],1),[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Pitch","prepend-icon":"event",readonly:""},model:{value:t.fecregpitch,callback:function(e){t.fecregpitch=e},expression:"fecregpitch"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.fecregpitch,callback:function(e){t.fecregpitch=e},expression:"fecregpitch"}})],1)],1)],a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Importe"},model:{value:t.impregpitch,callback:function(e){t.impregpitch=e},expression:"impregpitch"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf"},on:{change:function(e){return t.onFileSelected(e.target.files)}}})]),a("v-btn",{on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("Buscar")]),a("v-btn",{on:{click:function(e){return t.onSaveAs(t.pdfregpitch)}}},[t._v("Desc Pitch")])],1)]),a("v-flex",{attrs:{xs12:""}},[a("div",[a("canvas",{staticStyle:{border:"1px  solid black"},attrs:{id:"the-canvas"}})])]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.nota,callback:function(e){t.nota=e},expression:"nota"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar el Pitch?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar el Pitch?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                el Pitch "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.regpitchs},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),"Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol?a("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n                                delete\n                                ")]):t._e(),[e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                        block\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                        check\n                                        ")])]]],2),a("td",[t._v(t._s(e.item.idregpitch))]),a("td",[t._v(t._s(e.item.numregpitch))]),a("td",[t._v(t._s(e.item.fecregpitch?e.item.fecregpitch.substr(0,10):""))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.impregpitch)))]),a("td",[t._v(t._s(e.item.pdfregpitch))]),a("td",[t._v(t._s(e.item.nota?e.item.nota.substr(0,20):""))]),a("td",{staticClass:"justify-center "},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta?e.item.fecalta.substr(0,16):""))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod?e.item.fecumod.substr(0,16):""))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Ordenes: ")]),t._v("$ "+t._s(t.totalPagado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.limbos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.fecaprobacion?e.item.fecaprobacion.substr(0,10):""))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},ec=[],ac={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,fd:new FormData,originalregpitchguid:"",guid:"",page:1,limbos:[],regpitchs:[],idregpitch:"",numregpitch:"",fecregpitch:"",impregpitch:"",pdfregpitch:"",nota:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idlimbo:"",orden:"",proyecto:"",cliente:"",ep:"",fecaprobacion:"",ars1usd:"",menu1:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Nombre del Proyecto",value:"proyecto"},{text:"Nombre del Cliente",value:"cliente"},{text:"Executive Producer",value:"ep"},{text:"Fecha de Aprobación",value:"fecaprobacion"},{text:"ARS/USD",value:"ars1usd",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Id",value:"idregpitch",sortable:!0},{text:"#Sec",value:"numregpitch",sortable:!0},{text:"Fecha Registro",value:"fecregpitch",sortable:!0},{text:"Importe",value:"impregpitch",sortable:!0},{text:"PDF",value:"pdfregpitch",sortable:!0},{text:"Nota",value:"nota",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],totalPagado:0,search:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Pitch":"Actualizar Pitch"},calcularTotal:function(){for(var t=0,e=0;e<this.regpitchs.length;e++)t+=this.regpitchs[e].activo?this.regpitchs[e].impregpitch:0;return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Limbos/ListarActivos",a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Limbos/ListarActivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Regpitchs/ListarLimbo/"+this.idlimbo,a).then((function(e){t.regpitchs=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){this.$store.state.token},editMasterItem:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.cliente=t.cliente,this.ep=t.ep,this.fecaprobacion=t.fecaprobacion?t.fecaprobacion.substr(0,10):"",this.ars1usd=t.ars1usd,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idregpitch=t.idregpitch,this.numregpitch=t.numregpitch,this.fecregpitch=t.fecregpitch?t.fecregpitch.substr(0,10):"",this.impregpitch=t.impregpitch,this.pdfregpitch=t.pdfregpitch,this.originalregpitchguid=t.pdfregpitch,this.nota=t.nota,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.onDownload(this.pdfregpitch),this.editedIndex=1,this.dialogForm=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var i={Authorization:"Bearer "+e.$store.state.token},o={headers:i};W.a.delete("api/Regpitchs/Eliminar/"+t.idregpitch,o).then((function(t){e.closeForm(),e.limpiarDetail(),e.listarDetail()})).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}))}},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idregpitch="",this.orden="",this.proyecto="",this.cliente="",this.ep="",this.fecaprobacion="",this.ars1usd="",this.totalPagado=0},limpiarDetail:function(){this.idregpitch="",this.numregpitch="",this.fecregpitch="",this.impregpitch="",this.pdfregpitch="",this.nota="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalPagado=0,this.editedIndex=-1,this.onClear()},guardar:function(){if(!this.validar()){var t=this,e=new Date,a={Authorization:"Bearer "+t.$store.state.token},i={headers:a};t.editedIndex>-1?(t.pdfregpitch&&t.originalregpitchguid!=t.pdfregpitch&&(t.onDelete(t.originalregpitchguid),t.originalregpitchguid="",t.onUpload()),W.a.put("api/Regpitchs/Actualizar",{idregpitch:t.idregpitch,fecregpitch:t.fecregpitch.substr(0,10),impregpitch:t.impregpitch,pdfregpitch:t.pdfregpitch,nota:t.nota,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))):(this.onUpload(),W.a.post("api/Regpitchs/Crear",{idlimbo:t.idlimbo,fecregpitch:t.fecregpitch.substr(0,10),impregpitch:t.impregpitch,pdfregpitch:t.pdfregpitch,nota:t.nota,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.fecregpitch||this.validaMensaje.push("Ingrese una fecha."),this.impregpitch||this.validaMensaje.push("Ingrese un importe."),!this.impregpitch>0&&this.validaMensaje.push("El importe debe ser positivo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre="#"+e.numregpitch+" "+e.fecregpitch.substr(0,10)+" $ "+e.impregpitch,this.adId=e.idregpitch,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Regpitchs/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Regpitchs/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},onFileSelected:function(t){var e=t[0],a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);this.guid=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join(""),this.pdfregpitch=this.guid,this.fd.append("file",e,this.guid);var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),e=Go.a.getDocument(t);e.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))},i.readAsArrayBuffer(e)},onUpload:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=4,W.a.post("api/Express/UploadFiles",this.fd,a).then((function(t){console.log(t.data),i.fd=new FormData})).catch((function(t){i.fd=new FormData,i.dialog=!1,i.guid="",i.pdfregpitch="",e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDownload:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Express/DownloadFile/"+t,a).then((function(t){var e=atob(t.data),a=Go.a.getDocument({data:e});a.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1.2,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))})).catch((function(t){console.log(t)}))},onSaveAs:function(t){var e={Authorization:"Bearer "+this.$store.state.token},i={headers:e};W.a.get("api/Express/DownloadFile/"+t,i).then((function(t){for(var e=a("76e9"),i=atob(t.data),o=new Array(i.length),s=0;s<i.length;s++)o[s]=i.charCodeAt(s);var r=new Uint8Array(o),n=new Blob([r],{type:"application/pdf"});e.saveAs(n,"Export.pdf")}))},onClear:function(){var t=document.getElementById("the-canvas"),e=t.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)},onDelete:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.delete("api/Express/DeleteFile/"+t,a).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))}}},ic=ac,oc=Object(b["a"])(ic,tc,ec,!1,null,null,null),sc=oc.exports;g()(oc,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var rc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Facturacion - Prospectos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-dialog",{attrs:{"max-width":"1500px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Facturacion para Prospecto #"+t._s(t.orden)+": "+t._s(t.proyecto)+" ")])]),a("v-card-text",[a("v-dialog",{attrs:{"max-width":"800px",persistent:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeForm(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.tipocomprobantes,label:"Tipo"},model:{value:t.tipocomprobante,callback:function(e){t.tipocomprobante=e},expression:"tipocomprobante"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Comprobante"},model:{value:t.numcomprobante,callback:function(e){t.numcomprobante=e},expression:"numcomprobante"}})],1),[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Facturacion","prepend-icon":"event",readonly:""},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.feccomprobante,callback:function(e){t.feccomprobante=e},expression:"feccomprobante"}})],1)],1)],a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Importe"},model:{value:t.impfactu,callback:function(e){t.impfactu=e},expression:"impfactu"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Notas"},model:{value:t.nota,callback:function(e){t.nota=e},expression:"nota"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"450"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Facturación?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Facturación?")]):t._e(),a("v-card-text",[t._v("\n                                Estás a punto de \n                                "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                                la Facturación "+t._s(t.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                    Cancelar\n                                ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                    Activar\n                                ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                    Desactivar\n                                ")]):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalle,items:t.factus},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-20"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDetailItem(e.item)}}},[t._v("\n                                edit\n                                ")]),"Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol?a("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n                                delete\n                                ")]):t._e(),[e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                                        block\n                                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                                        check\n                                        ")])]]],2),a("td",[t._v(t._s(e.item.idfactu))]),a("td",[t._v(t._s(e.item.numfactu))]),a("td",[t._v(t._s(e.item.feccomprobante?e.item.feccomprobante.substr(0,10):""))]),a("td",[t._v(t._s(t.tipocomprobantes.find((function(t){return t.value===e.item.tipocomprobante})).text))]),a("td",[t._v(t._s(e.item.numcomprobante))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.formatPrice(e.item.impfactu)))]),a("td",[t._v(t._s(e.item.nota?e.item.nota.substr(0,20):""))]),a("td",{staticClass:"justify-center "},[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta?e.item.fecalta.substr(0,16):""))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod?e.item.fecumod.substr(0,16):""))])]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"warning",icon:"warning"}},[t._v("\n                                NADA PARA MOSTRAR :(\n                            ")])]},proxy:!0}])}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Ordenes: ")]),t._v("$ "+t._s(t.totalCalculado=t.calcularTotal.toFixed(2))+"\n                    ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},nativeOn:{click:function(e){return t.createDetail(e)}}},[t._v("Nuevo")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",dark:""},nativeOn:{click:function(e){return t.closeDetail(e)}}},[t._v("Salir")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.limbos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return e.item.cierreprod?void 0:[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editMasterItem(e.item)}}},[t._v("\n                    tab\n                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(" "+t._s(e.item.orden))]),a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.ep))]),a("td",[t._v(t._s(e.item.fecaprobacion?e.item.fecaprobacion.substr(0,10):""))]),a("td",[t._v(t._s(e.item.ars1usd))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Resetear")])],1)],2)],1)],1)},nc=[],cc={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,page:1,limbos:[],factus:[],idfactu:"",numfactu:"",feccomprobante:"",tipocomprobantes:[{value:"01",text:"Fc A"},{value:"02",text:"Fc B"},{value:"07",text:"Otro"},{value:"08",text:"Fc E"}],tipocomprobante:"",numcomprobante:"",impfactu:"",nota:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:"",idlimbo:"",orden:"",proyecto:"",cliente:"",ep:"",fecaprobacion:"",ars1usd:"",menu1:!1,dialog:!1,dialogForm:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Orden",value:"orden"},{text:"Nombre del Proyecto",value:"proyecto"},{text:"Nombre del Cliente",value:"cliente"},{text:"Executive Producer",value:"ep"},{text:"Fecha de Aprobación",value:"fecaprobacion"},{text:"ARS/USD",value:"ars1usd",sortable:!0}],headersDetalle:[{text:"Opciones",value:"opciones",sortable:!1},{text:"#Id",value:"idfactu",sortable:!0},{text:"#Sec",value:"numfactu",sortable:!0},{text:"Fecha Cbte",value:"feccomprobante",sortable:!0},{text:"Cbte",value:"tipocomprobante",sortable:!0},{text:"#Cbte",value:"numcomprobante",sortable:!0},{text:"Importe",value:"impfactu",sortable:!0},{text:"Nota",value:"nota",sortable:!0},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],totalCalculado:0,search:"",editedIndex:-1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Facturación":"Actualizar Facturación"},calcularTotal:function(){for(var t=0,e=0;e<this.factus.length;e++)t+=this.factus[e].activo?this.factus[e].impfactu:0;return t}},watch:{dialogForm:function(t){t||this.closeForm()}},created:function(){this.listarMaster(),this.select()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};"Administrador"==this.$store.state.usuario.rol||"JefeAdministracion"==this.$store.state.usuario.rol?W.a.get("api/Limbos/ListarActivos",a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.get("api/Limbos/ListarActivosusuario/"+t.$store.state.usuario.idusuario,a).then((function(e){t.limbos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},listarDetail:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Factus/ListarLimbo/"+this.idlimbo,a).then((function(e){t.factus=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){this.$store.state.token},editMasterItem:function(t){this.idlimbo=t.idlimbo,this.orden=t.orden,this.proyecto=t.proyecto,this.cliente=t.cliente,this.ep=t.ep,this.fecaprobacion=t.fecaprobacion?t.fecaprobacion.substr(0,10):"",this.ars1usd=t.ars1usd,this.listarDetail(),this.dialog=!0},editDetailItem:function(t){this.idfactu=t.idfactu,this.numfactu=t.numfactu,this.tipocomprobante=t.tipocomprobante,this.numcomprobante=t.numcomprobante,this.feccomprobante=t.feccomprobante?t.feccomprobante.substr(0,10):"",this.impfactu=t.impfactu,this.nota=t.nota,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialogForm=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var i={Authorization:"Bearer "+e.$store.state.token},o={headers:i};W.a.delete("api/Factus/Eliminar/"+t.idfactu,o).then((function(t){e.closeForm(),e.limpiarDetail(),e.listarDetail()})).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}))}},createDetail:function(){this.limpiarDetail(),this.editIndex=-1,this.dialogForm=!0},closeDetail:function(){this.dialog=!1,this.limpiarMaster()},closeForm:function(){this.dialogForm=!1,this.validaMensaje=[],this.limpiarDetail()},limpiarMaster:function(){this.idfactu="",this.orden="",this.proyecto="",this.cliente="",this.ep="",this.fecaprobacion="",this.ars1usd="",this.totalCalculado=0},limpiarDetail:function(){this.idfactu="",this.numfactu="",this.tipocomprobante="",this.numcomprobante="",this.feccomprobante="",this.impfactu="",this.nota="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.totalCalculado=0,this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=this,e=new Date,a={Authorization:"Bearer "+t.$store.state.token},i={headers:a};t.editedIndex>-1?W.a.put("api/Factus/Actualizar",{idfactu:t.idfactu,feccomprobante:t.feccomprobante.substr(0,10),tipocomprobante:t.tipocomprobante,numcomprobante:t.numcomprobante,impfactu:t.impfactu,nota:t.nota,iduseralta:t.iduseralta,fecalta:t.fecalta,iduserumod:t.$store.state.usuario.idusuario,fecumod:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString()},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Factus/Crear",{idlimbo:t.idlimbo,feccomprobante:t.feccomprobante.substr(0,10),tipocomprobante:t.tipocomprobante,numcomprobante:t.numcomprobante,impfactu:t.impfactu,nota:t.nota,iduseralta:t.$store.state.usuario.idusuario},i).then((function(e){t.closeForm(),t.limpiarDetail(),t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.feccomprobante||this.validaMensaje.push("Ingrese una fecha."),this.impfactu||this.validaMensaje.push("Ingrese un importe."),!this.impfactu>0&&this.validaMensaje.push("El importe debe ser positivo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre="#"+e.numfactu+" "+e.feccomprobante.substr(0,10)+" $ "+e.impfactu,this.adId=e.idfactu,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Factus/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Factus/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},dc=cc,lc=Object(b["a"])(dc,rc,nc,!1,null,null,null),uc=lc.exports;g()(lc,{VAlert:Bi["a"],VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var vc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Registro de Gastos Recurrentes")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"650px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-select",{attrs:{items:t.conceptos,label:"Concepto"},model:{value:t.idconcepto,callback:function(e){t.idconcepto=e},expression:"idconcepto"}})],1),[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Vencimiento","prepend-icon":"event",readonly:""},model:{value:t.fecgasto,callback:function(e){t.fecgasto=e},expression:"fecgasto"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.fecgasto,callback:function(e){t.fecgasto=e},expression:"fecgasto"}})],1)],1)],a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",prefix:"$",label:"Importe"},model:{value:t.importe,callback:function(e){t.importe=e},expression:"importe"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:t.forpagos,label:"Forma de Pago"},model:{value:t.idforpago,callback:function(e){t.idforpago=e},expression:"idforpago"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{clearable:"",label:"Nota"},model:{value:t.nota,callback:function(e){t.nota=e},expression:"nota"}})],1),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-switch",{staticClass:"mx-2",attrs:{label:"Pendiente?"},model:{value:t.pendiente,callback:function(e){t.pendiente=e},expression:"pendiente"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")]),-1===t.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.repetir(e)}}},[t._v("Guardar+Nuevo")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Estado?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Estado?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        el concepto "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.gastos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),"Administrador"==t.$store.state.usuario.rol||"JefeAdministracion"==t.$store.state.usuario.rol?a("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n                    delete\n                    ")]):t._e(),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.idgasto))]),a("td",[e.item.pendiente?a("v-chip",{staticClass:"ma-2",attrs:{color:e.item.color,"text-color":e.item.texto}},[t._v(t._s(e.item.concepto))]):a("v-chip",{staticClass:"ma-2"},[t._v(t._s(e.item.concepto))])],1),a("td",[t._v(t._s(e.item.fecgasto?e.item.fecgasto.substr(0,10):""))]),a("td",[e.item.pendiente?a("div",[a("span",{staticClass:"red--text"},[t._v("Si")])]):a("div",[a("span",{staticClass:"blue--text"},[t._v("No")])])]),a("td",[t._v(t._s(e.item.importe))]),a("td",[t._v(t._s(e.item.forpago))]),a("td",[t._v(t._s(e.item.nota?e.item.nota.substr(0,20):""))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},pc=[],mc={data:function(){return{colores:[{value:"#F44336",text:"Rojo"},{value:"#E91E63",text:"Rosa"},{value:"#9C27B0",text:"Violeta"},{value:"#673AB7",text:"Violeta oscuro"},{value:"#3F51B5",text:"Indigo"},{value:"#2196F3",text:"Azul"},{value:"#03A9F4",text:"Celeste"},{value:"#00BCD4",text:"Cianico"},{value:"#009688",text:"Turquesa"},{value:"#4CAF50",text:"Verde"},{value:"#8BC34A",text:"Verde claro"},{value:"#CDDC39",text:"Lima"},{value:"#FFEB3B",text:"Amarillo"},{value:"#FFC107",text:"Ambar"},{value:"#FF9800",text:"Naranja"},{value:"#FF5722",text:"Naranja oscuro"},{value:"#795548",text:"Marron"},{value:"#607D8B",text:"Lívido"},{value:"#9E9E9E",text:"Gris"}],textos:[{value:"white",text:"Blanco"},{value:"black",text:"Negro"}],snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,conceptos:[],forpagos:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Id",value:"idgasto"},{text:"Concepto de Gastos",value:"concepto"},{text:"Vencimiento",value:"fecgasto"},{text:"Pendiente",value:"pendiente"},{text:"Importe",value:"importe"},{text:"Forma de Pago",value:"forpago"},{text:"Observaciones/Notas",value:"nota"},{text:"Estado",value:"activo",sortable:!0},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idgasto:"",idconcepto:"",fecgasto:"",importe:0,idforpago:"",nota:"",pendiente:!0,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",ridgasto:"",ridconcepto:"",rfecgasto:"",ridforpago:"",rnota:"",gastos:[],menu1:!1,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Gasto":"Actualizar Gasto"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idgasto"},{title:"Concepto",dataKey:"concepto"},{title:"Vencimiento",dataKey:"fecgasto"},{title:"Importe",dataKey:"importe"},{title:"Forma de pago",dataKey:"forpago"},{title:"Pendiente",dataKey:"pendiente"},{title:"Estado",dataKey:"activo"}],e=[];this.gastos.map((function(t){e.push(Object(Mi["a"])({idgasto:t.idgasto,concepto:t.concepto,fexgasto:t.fecgasto,importe:t.importe,forpago:t.forpago,activo:t.pendiente?"Si":"No"},"activo",t.activo?"Activo":"Inactivo"))}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Gastos",40,30)}}),a.save("Gastos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Gastos/Listar",a).then((function(e){t.gastos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],i={Authorization:"Bearer "+this.$store.state.token},o={headers:i};W.a.get("api/Conceptos/Select",o).then((function(a){e=a.data.sort((function(t,e){return t.concepto>e.concepto?1:-1})),e.map((function(e){t.conceptos.push({text:e.concepto,value:e.idconcepto})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})),W.a.get("api/Forpagos/Select",o).then((function(e){a=e.data.sort((function(t,e){return t.forpago>e.forpago?1:-1})),a.map((function(e){t.forpagos.push({text:e.forpago,value:e.idforpago})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idgasto=t.idgasto,this.idconcepto=t.idconcepto,this.fecgasto=t.fecgasto.substr(0,10),this.importe=t.importe,this.idforpago=t.idforpago,this.pendiente=t.pendiente,this.nota=t.nota,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var i={Authorization:"Bearer "+e.$store.state.token},o={headers:i};W.a.delete("api/Gastos/Eliminar/"+t.idgasto,o).then((function(t){e.close(),e.limpiar(),e.listar()})).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}))}},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idgasto="",this.idconcepto="",this.fecgasto="",this.importe=0,this.idforpago="",this.pendiente=!0,this.nota="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},repetir:function(){var t=this;if(t.ridgasto=t.idgasto,t.ridconcepto=t.idconcepto,t.rfecgasto=t.fecgasto,t.ridforpago=t.idforpago,t.rnota=t.nota,!this.validar()){new Date;var e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};W.a.post("api/Gastos/Crear",{idconcepto:t.idconcepto,fecgasto:t.fecgasto,importe:t.importe,idforpago:t.idforpago,nota:t.nota,pendiente:t.pendiente,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.listar(),t.idgasto=t.ridgasto,t.idconcepto=t.ridconcepto,t.fecgasto=t.rfecgasto,t.importe=0,t.idforpago=t.ridforpago,t.pendiente=!0,t.nota=t.rnota,t.dialog=!0,t.editedIndex=-1})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},guardar:function(){if(!this.validar()){var t=this,e=(new Date,{Authorization:"Bearer "+t.$store.state.token}),a={headers:e};this.editedIndex>-1?W.a.put("api/Gastos/Actualizar",{idgasto:t.idgasto,idconcepto:t.idconcepto,fecgasto:t.fecgasto,importe:t.importe,idforpago:t.idforpago,nota:t.nota,pendiente:t.pendiente,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)})):W.a.post("api/Gastos/Crear",{idconcepto:t.idconcepto,fecgasto:t.fecgasto,importe:t.importe,idforpago:t.idforpago,nota:t.nota,pendiente:t.pendiente,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.close(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idconcepto||this.validaMensaje.push("Debe elegir un concepto."),(!this.importe||this.importe<0)&&this.validaMensaje.push("Debe ingresar un importe positivo."),this.idforpago||this.validaMensaje.push("Debe elegir una Forma de Pago."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.concepto,this.adId=e.idconcepto,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Gastos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Gastos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},hc=mc,fc=Object(b["a"])(hc,vc,pc,!1,null,null,null),bc=fc.exports;g()(fc,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VChip:ua["a"],VContainer:A["a"],VDataTable:ht["a"],VDatePicker:ft["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSelect:gt["a"],VSnackbar:_t["a"],VSpacer:z["a"],VSwitch:xi["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var xc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{wrap:""}},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Calendario de Gastos")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n          "+t._s(t.snacktext)+"\n          "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n              Cerrar\n          ")])],1)],1),a("v-flex",{staticClass:"mb-3",attrs:{xs12:""}},[a("v-sheet",{attrs:{height:"500"}},[a("v-calendar",{ref:"calendar",attrs:{type:t.type,end:t.end,locale:"es",color:"primary"},scopedSlots:t._u([{key:"day",fn:function(e){var i=e.date;return[t._l(t.eventsMap[i],(function(e){return[a("v-menu",{key:e.title,attrs:{"full-width":"","offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(i){var o=i.on;return[a("div",t._g({},o),[e.pendiente?a("v-chip",{staticClass:"caption font-weight-light",attrs:{color:e.color,"text-color":e.texto}},[t._v(t._s(e.title)+": $ "+t._s(t.formatPrice(e.importe)))]):a("v-chip",{staticClass:"caption font-weight-light"},[t._v(t._s(e.title)+": $ "+t._s(t.formatPrice(e.importe)))])],1)]}}],null,!0),model:{value:e.open,callback:function(a){t.$set(e,"open",a)},expression:"event.open"}},[a("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[a("v-toolbar",{attrs:{color:e.color,dark:"black"!=e.texto}},[a("v-btn",{attrs:{icon:""}},[e.pendiente?a("v-icon",{on:{click:function(a){return t.desactivar(e.id)}}},[t._v("check")]):a("v-icon",{on:{click:function(a){return t.activar(e.id)}}},[t._v("block")])],1),a("v-toolbar-title",[t._v(t._s(e.title))]),a("v-spacer")],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[t._v("$ "+t._s(t.formatPrice(e.importe)))])]),a("v-card-text",[a("div",[t._v(t._s(e.forpago))]),a("div",[t._v(t._s(e.detalle))])]),a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v("\n                    Cancelar\n                    ")])],1)],1)],1)]}))]}}]),model:{value:t.start,callback:function(e){t.start=e},expression:"start"}})],1)],1),a("v-flex",{staticClass:"text-sm-left text-xs-center",attrs:{sm4:"",xs12:""}},[a("v-btn",{on:{click:function(e){return t.$refs.calendar.prev()}}},[a("v-icon",{attrs:{dark:"",left:""}},[t._v("\n        keyboard_arrow_left\n      ")]),t._v("\n      Prev.\n    ")],1)],1),a("v-flex",{staticClass:"text-xs-center",attrs:{sm4:"",xs12:""}}),a("v-flex",{staticClass:"text-sm-right text-xs-center",attrs:{sm4:"",xs12:""}},[a("v-btn",{on:{click:function(e){return t.$refs.calendar.next()}}},[t._v("\n      Prox.\n      "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("\n        keyboard_arrow_right\n      ")])],1)],1)],1)},gc=[],_c={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,type:"month",start:new Date((new Date).getTime()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),end:"2019-01-06",events:[]}},computed:{eventsMap:function(){var t={};return this.events.forEach((function(e){return(t[e.fecha]=t[e.fecha]||[]).push(e)})),t}},watch:{},created:function(){this.listar()},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];t.events=[],W.a.get("api/Gastos/Listar",a).then((function(e){i=e.data,i.map((function(e){t.events.push({id:e.idgasto,title:e.concepto,forpago:e.forpago,detalle:e.nota,fecha:e.fecgasto.substr(0,10),importe:e.importe,open:!1,texto:e.texto,color:e.color,pendiente:e.pendiente})}))})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},activar:function(t){var e=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.put("api/Gastos/Activarpendiente/"+t,{},i).then((function(t){e.listar()})).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}))},desactivar:function(t){var e=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};W.a.put("api/Gastos/Desactivarpendiente/"+t,{},i).then((function(t){e.listar()})).catch((function(t){e.snacktext="Se detectó un error. Código: "+t.response.status,e.snackbar=!0,console.log(t)}))}}},kc=_c,Cc=a("a4f6"),yc=a("8dd9"),Ac=Object(b["a"])(kc,xc,gc,!1,null,null,null),Dc=Ac.exports;g()(Ac,{VBtn:k["a"],VCalendar:Cc["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VChip:ua["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VMenu:xt["a"],VSheet:yc["a"],VSnackbar:_t["a"],VSpacer:z["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var jc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Formas de Pago")]),a("v-snackbar",{attrs:{timeout:t.timeout,right:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.snacktext)+"\n                "),a("v-btn",{attrs:{color:"error",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"450px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{clearable:"",label:"Forma de Pago"},model:{value:t.forpago,callback:function(e){t.forpago=e},expression:"forpago"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Estado?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Estado?")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de \n                        "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                        la Forma de Pago "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.forpagos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.activo?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.idforpago))]),a("td",[t._v(t._s(e.item.forpago))]),a("td",[e.item.activo?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",[t._v(t._s(e.item.iduseralta))]),a("td",[t._v(t._s(e.item.fecalta.substr(0,16)))]),a("td",[t._v(t._s(e.item.iduserumod))]),a("td",[t._v(t._s(e.item.fecumod.substr(0,16)))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},Sc=[],Ic={data:function(){return{snackbar:!1,snacktext:"Hola",timeout:4e3,dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Id",value:"idforpago"},{text:"Forma de Pago",value:"forpago"},{text:"Estado",value:"activo",sortable:!1},{text:"Creado",value:"iduseralta",sortable:!0},{text:"Fec.Creación",value:"fecalta",sortable:!0},{text:"UltMod",value:"iduserumod",sortable:!0},{text:"Fec.UltMod",value:"fecumod",sortable:!0}],search:"",editedIndex:-1,idforpago:"",forpago:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",forpagos:[],valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Forma de Pago":"Actualizar Forma de Pago"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Id",dataKey:"idforpago"},{title:"Forpago",dataKey:"forpago"},{title:"Estado",dataKey:"activo"}],e=[];this.forpagos.map((function(t){e.push({idforpago:t.idforpago,forpago:t.forpago,activo:t.activo?"Activo":"Inactivo"})}));var a=new ut.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Listado de Forpagos",40,30)}}),a.save("Forpagos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Forpagos/Listar",a).then((function(e){t.forpagos=e.data})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},editItem:function(t){this.idforpago=t.idforpago,this.forpago=t.forpago,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.idforpago="",this.forpago="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.editedIndex=-1},guardar:function(){if(!this.validar()){new Date;var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;W.a.put("api/Forpagos/Actualizar",{idforpago:a.idforpago,forpago:a.forpago,iduserumod:a.$store.state.usuario.idusuario},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="Se detectó un error. Código: "+t.response.status,a.snackbar=!0,console.log(t)}))}else{var i=this;W.a.post("api/Forpagos/Crear",{forpago:i.forpago,iduseralta:i.$store.state.usuario.idusuario},e).then((function(t){i.close(),i.listar(),i.limpiar()})).catch((function(t){i.snacktext="Se detectó un error. Código: "+t.response.status,i.snackbar=!0,console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.forpago.length<3||this.forpago.length>50)&&this.validaMensaje.push("El nombre de la Forma de Pago no debe tener menos de 3 caracteres y mas de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.forpago,this.adId=e.idforpago,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Forpagos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.put("api/Forpagos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e)}))}}},Mc=Ic,wc=Object(b["a"])(Mc,jc,Sc,!1,null,null,null),Pc=wc.exports;g()(wc,{VBtn:k["a"],VCard:C["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:Z["a"],VContainer:A["a"],VDataTable:ht["a"],VDialog:X["a"],VDivider:bt["a"],VFlex:j["a"],VIcon:I["a"],VLayout:M["a"],VSnackbar:_t["a"],VSpacer:z["a"],VTextField:et["a"],VToolbar:B["a"],VToolbarTitle:E["a"]});var Vc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.proyectos,label:"Proyecto",clearable:""},on:{change:t.filterProyecto}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Filter","single-line":"","hide-details":""},on:{input:t.filterSearch}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.authors,label:"Author",clearable:""},on:{change:t.filterAuthor}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.rows,"item-key":"name",search:t.filters,"custom-filter":t.customFilter},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",t._l(e.headers,(function(e){return a("th",{key:e.text},[t._v("\n                        "+t._s(e.text)+"\n                    ")])})),0)]}},{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.item.proyecto))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.added_by))])])]}}])})],1)],1)],1)},Fc=[],Tc=(a("7f7f"),a("6762"),a("2fdb"),{data:function(){return{filters:{search:"",added_by:"",proyecto:""},authors:["Admin","Editor"],proyectos:["001","002","003"],headers:[{text:"Proyecto",value:"name",align:"left",sortable:!1},{text:"Names",value:"name",align:"left",sortable:!1},{text:"Item addad by",value:"added_by",align:"left",sortable:!1}],rows:[{proyecto:"001",name:"Marcelo Tosco",added_by:"admin"},{proyecto:"001",name:"Carlos Campos",added_by:"admin"},{proyecto:"002",name:"Luis Gonzalez",added_by:"Editor"},{proyecto:"002",name:"Keopx",added_by:"Editor"},{proyecto:"003",name:"Marco Marocchi",added_by:"Admin"}]}},methods:{customFilter:function(t,e,a,i){var o=new this.$MultiFilters(t,e,a,i);return o.registerFilter("search",(function(t,e){return""===t.trim()?e:e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}),t)})),o.registerFilter("added_by",(function(t,e){return""===t.trim()?e:e.filter((function(e){return e.added_by.toLowerCase()===t.toLowerCase()}),t)})),o.registerFilter("proyecto",(function(t,e){return""===t.trim()?e:e.filter((function(e){return e.proyecto.toLowerCase()===t.toLowerCase()}),t)})),o.runFilters()},filterSearch:function(t){this.filters=this.$MultiFilters.updateFilters(this.filters,{search:t})},filterAuthor:function(t){this.filters=this.$MultiFilters.updateFilters(this.filters,{added_by:t})},filterProyecto:function(t){this.filters=this.$MultiFilters.updateFilters(this.filters,{proyecto:t})}}}),Oc=Tc,Nc=Object(b["a"])(Oc,Vc,Fc,!1,null,null,null),zc=Nc.exports;g()(Nc,{VContainer:A["a"],VDataTable:ht["a"],VFlex:j["a"],VLayout:M["a"],VSelect:gt["a"],VTextField:et["a"]});var Bc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":"","text-center":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}},[t._v("Upload File")]),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/pdf",multiple:""},on:{change:function(e){return t.onFileSelected(e.target.files)}}}),a("v-btn",{on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("Buscar PDF")]),a("v-btn",{on:{click:t.onUpload}},[t._v("Cargar")])],1)])]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"file"},[a("label",{staticClass:"label",attrs:{for:"download"}},[t._v("Download File\n          "),a("v-text-field",{model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),a("v-btn",{on:{click:function(e){return t.onDownload(t.filename)}}},[t._v("Download")]),a("v-btn",{on:{click:function(e){return t.onSaveAs(t.filename)}}},[t._v("Save As")]),a("v-btn",{on:{click:t.onClear}},[t._v("Clear")])],1)])]),a("v-flex",{attrs:{xs12:""}},[a("div",[a("h1",[t._v("PDF: Viewer")]),a("canvas",{staticStyle:{border:"1px  solid black"},attrs:{id:"the-canvas"}})])]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"file"},[a("label",{staticClass:"label",attrs:{for:"delete"}},[t._v("Delete File\n          "),a("v-layout",[a("v-text-field",{model:{value:t.filedelete,callback:function(e){t.filedelete=e},expression:"filedelete"}})],1),a("v-btn",{on:{click:t.onDelete}},[t._v("Delete")])],1)])])],1)],1)},$c=[],Ec=(a("76e9"),{data:function(){return{fd:new FormData,filename:"",filedelete:""}},methods:{onFileSelected:function(t){for(var e=0;e<t.length;e++){var a=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16),i=[a.substr(0,8),a.substr(8,4),a.substr(13,3),a.substr(16,12)].join("");this.fd.append("file",t[e],i)}},onUpload:function(){var t=Object(qo["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={headers:{Authorization:"Bearer "+this.$store.state.token,"Content-Type":"multipart/form-data"}},t.next=3,W.a.post("api/Express/UploadFiles",this.fd,e).then((function(t){console.log(t.data),a.fd=new FormData})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDownload:function(t){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.get("api/Express/DownloadFile/"+t,a).then((function(t){var e=atob(t.data),a=Go.a.getDocument({data:e});a.promise.then((function(t){console.log("PDF loaded");var e=1;t.getPage(e).then((function(t){console.log("Page loaded");var e=1,a=t.getViewport({scale:e}),i=document.getElementById("the-canvas"),o=i.getContext("2d");i.height=a.height,i.width=a.width;var s={canvasContext:o,viewport:a},r=t.render(s);r.promise.then((function(){console.log("Page rendered")}))}))}),(function(t){console.error(t)}))})).catch((function(t){console.log(t)}))},onSaveAs:function(t){var e={Authorization:"Bearer "+this.$store.state.token},i={headers:e};W.a.get("api/Express/DownloadFile/"+t,i).then((function(t){for(var e=a("76e9"),i=atob(t.data),o=new Array(i.length),s=0;s<i.length;s++)o[s]=i.charCodeAt(s);var r=new Uint8Array(o),n=new Blob([r],{type:"application/pdf"});e.saveAs(n,"Export.pdf")}))},onClear:function(){var t=document.getElementById("the-canvas"),e=t.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)},onDelete:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};W.a.delete("api/Express/DeleteFile/"+t.filedelete,a).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))}}}),Rc=Ec,Lc=Object(b["a"])(Rc,Bc,$c,!1,null,null,null),Uc=Lc.exports;g()(Lc,{VBtn:k["a"],VContainer:A["a"],VFlex:j["a"],VLayout:M["a"],VTextField:et["a"]});var qc=a("2f62"),Kc=a("04e1"),Gc=a.n(Kc);i["a"].use(qc["a"]);var Hc=new qc["a"].Store({state:{token:null,usuario:null},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.usuario=e}},actions:{guardarToken:function(t,e){var a=t.commit;a("setToken",e),a("setUsuario",Gc()(e)),localStorage.setItem("token",e)},autoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&(e("setToken",a),e("setUsuario",Gc()(a))),Wc.push({name:"home"})},salir:function(t){var e=t.commit;e("setToken",null),e("setUsuario",null),localStorage.removeItem("token"),Wc.push({name:"login"})}}});i["a"].use(U["a"]);var Yc=new U["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:nt,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!0}},{path:"/limbos",name:"limbos",component:yt,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/overs",name:"overs",component:Hn,meta:{administrador:!0,jefeadministracion:!1,asistadministracion:!1,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/factus",name:"factus",component:uc,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/dirfees",name:"dirfees",component:Xn,meta:{administrador:!0,jefeadministracion:!1,asistadministracion:!1,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/regpitchs",name:"regpitchs",component:sc,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/hlimbos",name:"hlimbos",component:Mt,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/alimbos",name:"alimbos",component:Ot,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/actproy",name:"actproy",component:Rt,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/traficos",name:"traficos",component:Ht,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/proyectos",name:"proyectos",component:Zi,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/presupuestos",name:"presupuestos",component:oo,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!1,asistgeneral:!1}},{path:"/flujocajas",name:"flujocajas",component:Mo,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!1,asistgeneral:!1}},{path:"/cierreprod",name:"cierreprod",component:bo,meta:{administrador:!0,jefeadministracion:!1,asistadministracion:!1,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/cierreadmin",name:"cierreadmin",component:uo,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/proyectoscerrados",name:"proyectoscerrados",component:yo,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/pedidofondos",name:"pedidofondos",component:Oo,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/distribucionfondos",name:"distribucionfondos",component:Ro,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/rendicionfondos",name:"rendicionfondos",component:Jo,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!0}},{path:"/devolucionfondos",name:"devolucionfondos",component:as,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/ordenpagos",name:"ordenpagos",component:cs,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/registropagos",name:"registropagos",component:hs,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/admregistropagos",name:"admregistropagos",component:ks,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/reversionpagos",name:"reversionpagos",component:Ss,meta:{administrador:!0,jefeadministracion:!1,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/solcheque",name:"solcheque",component:Fs,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/entcheque",name:"entcheque",component:$s,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/reccheque",name:"reccheque",component:Ks,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/recursosdxd",name:"recursosdxd",component:Qs,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/realdxd",name:"realdxd",component:lr,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/tarifadxd",name:"tarifadxd",component:ir,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/sica",name:"sica",component:Er,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/proveedorpost",name:"proveedorpost",component:fr,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!1,asistgeneral:!1}},{path:"/realpost",name:"realpost",component:Cr,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/proveedormotion",name:"proveedormotion",component:Ir,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!1,asistgeneral:!1}},{path:"/realmotion",name:"realmotion",component:Tr,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/registrogastos",name:"registrogastos",component:bc,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/calendario",name:"calendario",component:Dc,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/controlpptodate",name:"controlpptodate",component:sn,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!1,asistgeneral:!1}},{path:"/controlrendicion",name:"controlrendicion",component:Mn,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/controlpagos",name:"controlpagos",component:bn,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/controlgarantias",name:"controlgarantias",component:yn,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/controlshooting",name:"controlshooting",component:un,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/controlpost",name:"controlpost",component:On,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/controlmotion",name:"controlmotion",component:Rn,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/rubros",name:"rubros",component:Xt,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/subrubros",name:"subrubros",component:se,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/items",name:"items",component:ue,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/subitems",name:"subitems",component:xe,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/agencias",name:"agencias",component:ta,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/bancos",name:"bancos",component:ra,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/clientes",name:"clientes",component:Fi,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/crews",name:"crews",component:Gi,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/conceptos",name:"conceptos",component:pa,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/empresas",name:"empresas",component:ga,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/estados",name:"estados",component:Da,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/forpagos",name:"forpagos",component:Pc,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/origenes",name:"origenes",component:Pa,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/paises",name:"paises",component:Ae,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/parametros",name:"parametros",component:Zr,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/personas",name:"personas",component:Ua,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/pitchs",name:"pitchs",component:Wa,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/posiciones",name:"posiciones",component:ei,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/productoras",name:"productoras",component:za,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/proveedores",name:"proveedores",component:Ei,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!0,chiefproducer:!0,asistproduccion:!0,asistgeneral:!1}},{path:"/provincias",name:"provincias",component:we,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/resultados",name:"resultados",component:ni,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/territorios",name:"territorios",component:Ne,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/tipoprods",name:"tipoprods",component:Le,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/tipoproys",name:"tipoproys",component:Ye,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/roles",name:"roles",component:pi,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!1,executiveproducer:!1,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/usuarios",name:"usuarios",component:_i,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/usuarioproyectos",name:"usuarioproyectos",component:ji,meta:{administrador:!0,jefeadministracion:!0,asistadministracion:!0,executiveproducer:!0,lineproducer:!1,chiefproducer:!1,asistproduccion:!1,asistgeneral:!1}},{path:"/prueba",name:"prueba",component:zc,meta:{administrador:!0}},{path:"/prueba2",name:"prueba2",component:Uc,meta:{administrador:!0}},{path:"/login",name:"login",component:Gr,meta:{libre:!0}}]});Yc.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.libre}))?a():Hc.state.usuario&&"Administrador"==Hc.state.usuario.rol?t.matched.some((function(t){return t.meta.administrador}))&&a():Hc.state.usuario&&"JefeAdministracion"==Hc.state.usuario.rol?t.matched.some((function(t){return t.meta.jefeadministracion}))&&a():Hc.state.usuario&&"ExecutiveProducer"==Hc.state.usuario.rol?t.matched.some((function(t){return t.meta.executiveproducer}))&&a():Hc.state.usuario&&"AsistAdministracion"==Hc.state.usuario.rol?t.matched.some((function(t){return t.meta.asistadministracion}))&&a():Hc.state.usuario&&"AsistProduccion"==Hc.state.usuario.rol?t.matched.some((function(t){return t.meta.asistproduccion}))&&a():Hc.state.usuario&&"ChiefProducer"==Hc.state.usuario.rol?t.matched.some((function(t){return t.meta.chiefproducer}))&&a():Hc.state.usuario&&"LineProducer"==Hc.state.usuario.rol?t.matched.some((function(t){return t.meta.lineproducer}))&&a():Hc.state.usuario&&"AsistGeneral"==Hc.state.usuario.rol?t.matched.some((function(t){return t.meta.asistgeneral}))&&a():a({name:"login"})}));var Wc=Yc,Jc=a("c537"),Qc=a.n(Jc),Zc=a("b429");W.a.defaults.baseURL="https://bombotron.fortidyndns.com:10700/",i["a"].config.productionTip=!1,i["a"].use(l),i["a"].prototype.moment=v.a,i["a"].use(Zc["a"]),i["a"].use(Qc.a,{rABS:!1}),new i["a"]({router:Wc,store:Hc,render:function(t){return t(L)}}).$mount("#app")}});
//# sourceMappingURL=app.66b37468.js.map